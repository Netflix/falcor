!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.falcor=t()}}(function(){var t;return function(){function t(e,r,n){function o(s,u){if(!r[s]){if(!e[s]){var c="function"==typeof require&&require;if(!u&&c)return c(s,!0);if(i)return i(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var h=r[s]={exports:{}};e[s][0].call(h.exports,function(t){var r=e[s][1][t];return o(r||t)},h,h.exports,t,e,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}return t}()({1:[function(t,e,r){var n=t(2),o=t(177);n.Router=o,e.exports=n},{177:177,2:2}],2:[function(t,e,r){var n=t(35),o=t(129);n.atom=o.atom,n.ref=o.ref,n.error=o.error,n.pathValue=o.pathValue,n.HttpDataSource=t(124),e.exports=n},{124:124,129:129,35:35}],3:[function(t,e,r){function n(t){var e=t||{};this._root=e._root||new o(e),this._path=e.path||e._path||[],this._scheduler=e.scheduler||e._scheduler||new p,this._source=e.source||e._source,this._request=e.request||e._request||new s(this,this._scheduler),this._ID=N++,"number"==typeof e.maxSize?this._maxSize=e.maxSize:this._maxSize=e._maxSize||n.prototype._maxSize,"number"==typeof e.maxRetries?this._maxRetries=e.maxRetries:this._maxRetries=e._maxRetries||n.prototype._maxRetries,"number"==typeof e.collectRatio?this._collectRatio=e.collectRatio:this._collectRatio=e._collectRatio||n.prototype._collectRatio,(e.boxed||e.hasOwnProperty("_boxed"))&&(this._boxed=e.boxed||e._boxed),(e.materialized||e.hasOwnProperty("_materialized"))&&(this._materialized=e.materialized||e._materialized),"boolean"==typeof e.treatErrorsAsValues?this._treatErrorsAsValues=e.treatErrorsAsValues:e.hasOwnProperty("_treatErrorsAsValues")&&(this._treatErrorsAsValues=e._treatErrorsAsValues),this._useServerPaths=e._useServerPaths||!1,this._allowFromWhenceYouCame=e.allowFromWhenceYouCame||e._allowFromWhenceYouCame||!1,this._treatDataSourceErrorsAsJSONGraphErrors=e._treatDataSourceErrorsAsJSONGraphErrors||!1,e.cache&&this.setCache(e.cache)}var o=t(5),i=t(4),s=t(45),u=t(53),c=t(51),a=t(52),h=t(66),f=t(68),p=t(67),l=t(74),d=t(78),v=t(41),_=t(133),b=t(84),y=t(96),m=t(98),w=t(94),g=t(95),x=t(70),E=t(69),C=t(129),N=0,S=t(112),k=function(){},O=t(19),A=t(24),j=t(60);e.exports=n,n.ref=C.ref,n.atom=C.atom,n.error=C.error,n.pathValue=C.pathValue,n.prototype.constructor=n,n.prototype._materialized=!1,n.prototype._boxed=!1,n.prototype._progressive=!1,n.prototype._treatErrorsAsValues=!1,n.prototype._maxSize=Math.pow(2,53)-1,n.prototype._maxRetries=3,n.prototype._collectRatio=.75,n.prototype.get=t(59),n.prototype._getOptimizedBoundPath=function(){return l(this._path)},n.prototype._getWithPaths=t(58),n.prototype.set=t(62),n.prototype.preload=function(){var t=S(arguments,j,"preload");if(t!==!0)return new u(function(e){e.onError(t)});var e=Array.prototype.slice.call(arguments),r=this;return new u(function(t){return r.get.apply(r,e).subscribe(function(){},function(e){t.onError(e)},function(){t.onCompleted()})})},n.prototype.call=function(){var t,e=-1,r=arguments.length;for(t=new Array(r);++e<r;){var n=arguments[e];t[e]=n;var o=typeof n;if(e>1&&!Array.isArray(n)||0===e&&!Array.isArray(n)&&"string"!==o||1===e&&!Array.isArray(n)&&!m(n))return new u(function(t){t.onError(new Error("Invalid argument"))})}return new c(this,t[0],t[1],t[2],t[3])},n.prototype.invalidate=function(){var t,e=-1,r=arguments.length;for(t=[];++e<r;)if(t[e]=_.fromPath(arguments[e]),!Array.isArray(t[e])||!t[e].length)throw new Error("Invalid argument");new a(this,t).subscribe(k,function(t){throw t})},n.prototype.deref=t(7),n.prototype._hasValidParentReference=t(6),n.prototype.getValue=t(21),n.prototype.setValue=t(72),n.prototype._getValueSync=t(29),n.prototype._setValueSync=t(73),n.prototype._derefSync=t(8),n.prototype.setCache=function(t){var e=this._root.cache;if(t!==e){var r=this._root,n=this._path;this._path=[],this._root.cache={},"undefined"!=typeof e&&v(r,r.expired,b(e),0);var o;g(t)?o=E(this,[t])[0]:w(t)?o=x(this,[t])[0]:y(t)&&(o=x(this,[{json:t}])[0]),o&&A.getWithPathsAsPathMap(this,o,[]),this._path=n}else"undefined"==typeof e&&(this._root.cache={});return this},n.prototype.getCache=function(){var t=d(arguments);if(0===t.length)return O(this._root.cache);var e=[{}],r=this._path;return A.getWithPathsAsJSONGraph(this,t,e),this._path=r,e[0].jsonGraph},n.prototype._setMaxSize=function(t){var e=this._maxSize;if(this._maxSize=t,t<e){var r=this._root,n=r.cache,o=n.$_version;v(r,r.expired,b(n),this._maxSize,this._collectRatio,o)}},n.prototype.getVersion=function(t){var e=t&&_.fromPath(t)||[];if(Array.isArray(e)===!1)throw new Error("Model#getVersion must be called with an Array path.");return this._path.length&&(e=this._path.concat(e)),this._getVersion(this,e)},n.prototype._syncCheck=function(t){if(Boolean(this._source)&&this._root.syncRefCount<=0&&this._root.unsafeMode===!1)throw new Error("Model#"+t+" may only be called within the context of a request selector.");return!0},n.prototype._clone=function(t){var e=new this.constructor(this);for(var r in t){var n=t[r];"delete"===n?delete e[r]:e[r]=n}return e.setCache=void 0,e},n.prototype.batch=function(t){var e=t;"number"==typeof e?e=new f(Math.round(Math.abs(e))):e&&e.schedule||(e=new h);var r=this._clone();return r._request=new s(r,e),r},n.prototype.unbatch=function(){var t=this._clone();return t._request=new s(t,new p),t},n.prototype.treatErrorsAsValues=function(){return this._clone({_treatErrorsAsValues:!0})},n.prototype.asDataSource=function(){return new i(this)},n.prototype._materialize=function(){return this._clone({_materialized:!0})},n.prototype._dematerialize=function(){return this._clone({_materialized:"delete"})},n.prototype.boxValues=function(){return this._clone({_boxed:!0})},n.prototype.unboxValues=function(){return this._clone({_boxed:"delete"})},n.prototype.withoutDataSource=function(){return this._clone({_source:"delete"})},n.prototype.toJSON=function(){return{$type:"ref",value:this._path}},n.prototype.getPath=function(){return l(this._path)},n.prototype._fromWhenceYouCame=function(t){return this._clone({_allowFromWhenceYouCame:void 0===t||t})},n.prototype._getBoundValue=t(18),n.prototype._getVersion=t(23),n.prototype._getPathValuesAsPathMap=A.getWithPathsAsPathMap,n.prototype._getPathValuesAsJSONG=A.getWithPathsAsJSONGraph,n.prototype._setPathValues=t(71),n.prototype._setPathMaps=t(70),n.prototype._setJSONGs=t(69),n.prototype._setCache=t(70),n.prototype._invalidatePathValues=t(40),n.prototype._invalidatePathMaps=t(39)},{112:112,129:129,133:133,18:18,19:19,21:21,23:23,24:24,29:29,39:39,4:4,40:40,41:41,45:45,5:5,51:51,52:52,53:53,58:58,59:59,6:6,60:60,62:62,66:66,67:67,68:68,69:69,7:7,70:70,71:71,72:72,73:73,74:74,78:78,8:8,84:84,94:94,95:95,96:96,98:98}],4:[function(t,e,r){function n(t){this._model=t._materialize().treatErrorsAsValues()}n.prototype.get=function(t){return this._model.get.apply(this._model,t)._toJSONG()},n.prototype.set=function(t){return this._model.set(t)._toJSONG()},n.prototype.call=function(t,e,r,n){var o=[t,e,r].concat(n);return this._model.call.apply(this._model,o)._toJSONG()},e.exports=n},{}],5:[function(t,e,r){function n(t){var e=t||{};this.syncRefCount=0,this.expired=e.expired||[],this.unsafeMode=e.unsafeMode||!1,this.collectionScheduler=e.collectionScheduler||new s,this.cache={},o(e.comparator)&&(this.comparator=e.comparator),o(e.errorSelector)&&(this.errorSelector=e.errorSelector),o(e.onChange)&&(this.onChange=e.onChange)}var o=t(92),i=t(87),s=t(67);n.prototype.errorSelector=function(t,e){return e},n.prototype.comparator=function(t,e){return i(t,"value")&&i(e,"value")?t.value===e.value&&t.$type===e.$type&&t.$expires===e.$expires:t===e},e.exports=n},{67:67,87:87,92:92}],6:[function(t,e,r){e.exports=function(){var t=this._referenceContainer;return!this._allowFromWhenceYouCame||(t===!0||t!==!1&&((!t||void 0!==t.$_parent)&&(!t||!t.$_invalidated)))}},{}],7:[function(t,e,r){var n=t(10),o=t(20),i="e",s=t(117);e.exports=function(t){var e,r=t&&t.$__path,u=t&&t.$__refPath,c=t&&t.$__toReference;if(r){var a=i;if(c&&(a=!1,e=o(this,c),u&&e&&e.$type===s)){var h=e.value,f=0,p=u.length;for(a=!0;a&&f<p;++f)h[f]!==u[f]&&(a=!1)}return a?a===i&&(e=!0):e=!1,this._clone({_path:r,_referenceContainer:e})}throw new n}},{10:10,117:117,20:20}],8:[function(t,e,r){var n=t(133),o=t(18),i=t(11);e.exports=function(t){var e=n.fromPath(t);if(!Array.isArray(e))throw new Error("Model#derefSync must be called with an Array path.");var r=o(this,this._path.concat(e),!1),s=r.path,u=r.value,c=r.found;if(c&&void 0!==u){if(u.$type)throw new i(s,s);return this._clone({_path:s})}}},{11:11,133:133,18:18}],9:[function(t,e,r){function n(){var t=new Error("It is not legal to use the JSON Graph format from a bound Model. JSON Graph format can only be used from a root model.");return t.name="BoundJSONGraphModelError",Object.setPrototypeOf&&Object.setPrototypeOf(t,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(t,n),t}var o=t(15);o(n),e.exports=n},{15:15}],10:[function(t,e,r){function n(){var t=new Error("Deref can only be used with a non-primitive object from get, set, or call.");return t.name="InvalidDerefInputError",Object.setPrototypeOf&&Object.setPrototypeOf(t,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(t,n),t}var o=t(15);o(n),e.exports=n},{15:15}],11:[function(t,e,r){function n(t,e){var r=new Error("The boundPath of the model is not valid since a value or error was found before the path end.");return r.name="InvalidModelError",r.boundPath=t,r.shortedPath=e,Object.setPrototypeOf&&Object.setPrototypeOf(r,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(r,n),r}var o=t(15);o(n),e.exports=n},{15:15}],12:[function(t,e,r){function n(t){var e=new Error("An exception was thrown when making a request.");return e.name="InvalidSourceError",e.innerError=t,Object.setPrototypeOf&&Object.setPrototypeOf(e,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(e,n),e}var o=t(15);o(n),e.exports=n},{15:15}],13:[function(t,e,r){function n(t){var e=new Error("The allowed number of retries have been exceeded.");return e.name="MaxRetryExceededError",e.missingOptimizedPaths=t||[],Object.setPrototypeOf&&Object.setPrototypeOf(e,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(e,n),e}var o=t(15);o(n),n.is=function(t){return t&&"MaxRetryExceededError"===t.name},e.exports=n},{15:15}],14:[function(t,e,r){function n(){var t=new Error("`null` and `undefined` are not allowed in branch key positions");return t.name="NullInPathError",Object.setPrototypeOf&&Object.setPrototypeOf(t,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(t,n),t}var o=t(15);o(n),e.exports=n},{15:15}],15:[function(t,e,r){function n(t){t.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,Error):t.__proto__=Error}e.exports=n},{}],16:[function(t,e,r){function n(t,e,r,n,a,h,f){for(var p,l,d=r,v=a,_=n,b=0;;){if(0===b&&_.$_context?(b=v.length,l=_.$_context):(p=v[b++],l=d[p]),l){var y=l.$type,m=y&&l.value||l;if(b<v.length){if(y){d=l;break}d=l;continue}if(d=l,y&&s(l))break;if(_.$_context||o(_,l),y===u){f?i(t,l,h,null,null,null,null,v,v.length,f):c(t._root,l),b=0,v=m,_=l,d=e;continue}break}d=void 0;break}if(b<v.length&&void 0!==d){for(var w=[],g=0;g<b;g++)w[g]=v[g];v=w}return[d,v,_]}var o=t(80),i=t(27),s=t(31),u=t(117),c=t(42);e.exports=n},{117:117,27:27,31:31,42:42,80:80}],17:[function(t,e,r){function n(t,e){if(t!==e&&null!==t&&"object"==typeof t&&!t.$type&&null!==e&&"object"==typeof e&&!e.$type)for(var r in e)if("$__path"!==r){var o=t[r];void 0===o?t[r]=e[r]:n(o,e[r])}}function o(t){return t?{jsonGraph:{},paths:[]}:{json:{}}}var i=t(20),s=t(11),u=t(9);e.exports=function(t,e){return function(r,c,a){var h,f,p,l,d,v=e?a:[{}],_=v[0],b={values:v,optimizedPaths:[]},y=r._root.cache,m=r._path,w=y,g=[],x=[];if(m.length){if(e)return{criticalError:new u};if(h=r._getOptimizedBoundPath(),f=h.length,w=i(r,h),w&&w.$type)return{criticalError:new s(m,h)};d=r._referenceContainer}else h=[],f=0;for(p=0,l=c.length;p<l;p++)t(r,y,w,c[p],0,_,b,x,g,h,f,e,!1,d);return n(_,c.length?a[0]:o(e)),b}}},{11:11,20:20,9:9}],18:[function(t,e,r){var n=t(22),o=t(11);e.exports=function(t,e,r){var i,s,u,c,a,h=e,f=e;for(i=t._boxed,r=t._materialized,s=t._treatErrorsAsValues,t._boxed=!0,t._materialized=void 0===r||r,t._treatErrorsAsValues=!0,u=n(t,h.concat(null),!0),t._boxed=i,t._materialized=r,t._treatErrorsAsValues=s,h=u.optimizedPath,c=u.shorted,a=u.found,u=u.value;h.length&&null===h[h.length-1];)h.pop();if(a&&c)throw new o(f,h);return{path:h,value:u,shorted:c,found:a}}},{11:11,22:22}],19:[function(t,e,r){function n(t){var e,r,n,o={},s=Object.keys(t);for(r=0,n=s.length;r<n;r++)e=s[r],i(e)||(o[e]=t[e]);return o}function o(t,e,r){Object.keys(t).filter(function(e){return!i(e)&&void 0!==t[e]}).forEach(function(r){var i=t[r],s=e[r];if(s||(s=e[r]={}),i.$type){var u,c=i.value&&"object"==typeof i.value,a=!i.$_modelCreated;return u=c||a?n(i):i.value,void(e[r]=u)}o(i,s,r)})}var i=t(93);e.exports=function(t){var e={};return o(t,e),e}},{93:93}],20:[function(t,e,r){e.exports=function(t,e){for(var r=t._root.cache,n=-1,o=e.length;++n<o&&r&&!r.$type;)r=r[e[n]];return r}},{}],21:[function(t,e,r){var n=t(53),o=t(133);e.exports=function(t){for(var e=o.fromPath(t),r=0,i=e.length;++r<i;)if("object"==typeof e[r])return new n(function(t){t.onError(new Error("Paths must be simple paths"))});var s=this;return new n(function(t){return s.get(e).subscribe(function(r){for(var n=r.json,o=-1,i=e.length;n&&++o<i;)n=n[e[o]];t.onNext(n)},function(e){t.onError(e)},function(){t.onCompleted()})})}},{133:133,53:53}],22:[function(t,e,r){var n=t(16),o=t(30),i=t(31),s=t(42),u=t(117),c=t(115),a=t(116);e.exports=function(t,e,r){for(var h,f,p,l,d,v=t._root.cache,_=e.length,b=[],y=!1,m=!1,w=0,g=v,x=v,E=v,C=!0,N=!1;g&&w<_;){if(h=e[w++],null!==h&&(g=x[h],b[b.length]=h),!g){E=void 0,y=!0,C=!1;break}if(p=g.$type,p===c&&void 0===g.value){E=void 0,C=!1,y=w<_;break}if(w<_){if(p===u){if(i(g)){N=!0,E=void 0;break}if(l=n(t,v,v,g,g.value),d=l[0],!d){E=void 0,g=void 0,C=!1;break}p=d.$type,g=d,b=l[1].slice(0)}if(p)break}else E=g;x=g}if(w<_&&!N){for(f=w;f<_;++f)if(null!==e[w]){m=!0;break}for(m?(y=!0,E=void 0):E=g,f=w;f<_;++f)null!==e[f]&&(b[b.length]=e[f])}if(E&&p&&(i(E)?E=void 0:s(t._root,E)),E&&p===a&&!t._treatErrorsAsValues)throw{path:w===_?e:e.slice(0,w),value:E.value};return E&&t._boxed?E=Boolean(p)&&!r?o(E):E:!E&&t._materialized?E={$type:c}:E&&(E=E.value),{value:E,shorted:y,optimizedPath:b,found:C}}},{115:115,116:116,117:117,16:16,30:30,31:31,42:42}],23:[function(t,e,r){var n=t(22);e.exports=function(t,e){var r=n({_boxed:!0,_root:t._root,_treatErrorsAsValues:t._treatErrorsAsValues},e,!0).value,o=r&&r.$_version;return null==o?-1:o}},{22:22}],24:[function(t,e,r){var n=t(17),o=t(34),i=n(o,!1),s=n(o,!0);e.exports={getValueSync:t(22),getBoundValue:t(18),getWithPathsAsPathMap:i,getWithPathsAsJSONGraph:s}},{17:17,18:18,22:22,34:34}],25:[function(t,e,r){var n=t(42),o=t(30);e.exports=function(t,e,r,i,s){var u=e.value;s.errors||(s.errors=[]),t._boxed&&(u=o(e)),s.errors.push({path:i.slice(0,r),value:u}),n(t._root,e)}},{30:30,42:42}],26:[function(t,e,r){function n(t,e,r,n,o,i,s){s.requestedMissingPaths[s.requestedMissingPaths.length]=u(c(n,0,r),e),s.optimizedMissingPaths[s.optimizedMissingPaths.length]=u(c(o,0,i),e)}function o(t){if(null===t||"object"!=typeof t)return!1;var e=Array.isArray(t);if(e&&t.length)return!1;if(e)return!0;var r=t.from,n=t.to;return!(void 0===r||r<=n)}var i=t(33),s=i.fastCopy,u=i.fastCat,c=t(78);e.exports=function(t,e,r,i,u,c,a){var h;if(i.requestedMissingPaths||(i.requestedMissingPaths=[],i.optimizedMissingPaths=[]),r<e.length){for(var f=!1,p=r;p<e.length&&!f;++p)if(o(e[p]))return;h=s(e,r)}else h=[];n(t,h,r,u,c,a,i)}},{33:33,78:78}],27:[function(t,e,r){var n=t(42),o=t(30),i=t(117),s=t(115),u=t(116);e.exports=function(t,e,r,c,a,h,f,p,l,d){if(e&&n(t._root,e),r){var v,_,b,y,m,w,g,x=null,E=!1,C=e&&e.$type,N=e&&e.value;if(void 0===N&&(E=t._materialized),E)g={$type:s};else if(t._boxed)g=o(e);else if(d||C!==i)if(C===i||C===u)g=d?o(e):N;else if(d){var S=N&&"object"==typeof N,k=!e||!e.$_modelCreated;g=S||k?o(e):N}else g=e&&void 0===C&&void 0===N?{}:N;else g=void 0;var O=!1;if(d){for(m=r.jsonGraph,m||(O=!0,m=r.jsonGraph={},r.paths=[]),v=0,_=l-1;v<_;v++)y=p[v],m[y]||(O=!0,m[y]={}),m=m[y];y=p[v],m[y]=E?{$type:s}:g,f&&r.paths.push(f.slice(0,c))}else if(0===c)O=!0,r.json=g;else{for(m=r.json,m||(O=!0,m=r.json={}),v=0;v<c-1;v++)b=f[v],m[b]||(O=!0,m[b]=h[v]),x=m,w=b,m=m[b];b=f[v],void 0!==g&&(null!=b?(O=!0,m[b]=g):x[w]=g)}a&&(a.hasValues=O)}}},{115:115,116:116,117:117,30:30,42:42}],28:[function(t,e,r){var n=t(31),o=t(116),i=t(25),s=t(27),u=t(26),c=t(32),a=t(82),h=t(81);e.exports=function(t,e,r,f,p,l,d,v,_,b,y,m){var w=e&&e.$type;if(!e||!w){var g=c(t);return!g&&y||s(t,e,p,f,l,d,v,_,b,y),void(g||u(t,r,f,l,v,_,b))}!n(e)||e.$_version===h.getVersion()&&0===e.$expires?w===o?(m&&(v[f]=null,f+=1),y||t._treatErrorsAsValues?s(t,e,p,f,l,d,v,_,b,y):(s(t,void 0,p,f,l,d,v,_,b,y),i(t,e,f,v,l))):(m&&(v[f]=null,f+=1),s(t,e,p,f,l,d,v,_,b,y)):(e.$_invalidated||a(e,t._root.expired,t._root),u(t,r,f,l,v,_,b))}},{116:116,25:25,26:26,27:27,31:31,32:32,81:81,82:82}],29:[function(t,e,r){var n=t(133),o=t(22);e.exports=function(t){var e=n.fromPath(t);if(Array.isArray(e)===!1)throw new Error("Model#_getValueSync must be called with an Array path.");return this._path.length&&(e=this._path.concat(e)),this._syncCheck("getValueSync"),o(this,e).value}},{133:133,22:22}],30:[function(t,e,r){var n=t(36);e.exports=function(t){if(void 0===t)return t;var e,r,o,i=Object.keys(t);for(e={},r=0,o=i.length;r<o;r++){var s=i[r],u=s.substr(0,2);u!==n&&(e[s]=t[s])}return e}},{36:36}],31:[function(t,e,r){e.exports=t(91)},{91:91}],32:[function(t,e,r){e.exports=function(t){return t._materialized&&!t._source}},{}],33:[function(t,e,r){function n(t,e){var r,n,o,i=[];for(n=0,o=e||0,r=t.length;o<r;n++,o++)i[n]=t[o];return i}function o(t,e){var r,n,o,i=[];for(r=0,n=t.length;r<n;r++)i[r]=t[r];for(o=0,n=e.length;o<n;o++)i[r++]=e[o];return i}e.exports={fastCat:o,fastCopy:n}},{}],34:[function(t,e,r){var n=t(16),o=t(28),i=t(27),s=t(31),u=t(145).iterateKeySet,c=t(117),a=t(14),h=t(42);e.exports=function f(t,e,r,p,l,d,v,_,b,y,m,w,g,x){var E=g,C=y,N=x;if(!r||r.$type||l===p.length)return void o(t,r,p,l,d,v,_,b,C,m,w,E);var S=p[l],k=null!==S&&"object"==typeof S,O=!1,A=S;if(k&&(O={},A=u(S,O)),k&&O.done)return void o(t,r,p,l,d,v,_,b,C,m,w,E);var j,D,P=t._allowFromWhenceYouCame,$=m+1,q=l+1;do{if(null==A)throw new a;E=!1,C[m]=A,b[l]=A;var T=r[A],R=C,M=$;if(T){var F=T.$type,V=F&&T.value||T;if(q<p.length&&F&&F===c&&!s(T)){h(t._root,T),w&&i(t,T,d,q,v,null,null,C,M,w);var I=n(t,e,e,T,V,d,w);for(E=!0,T=I[0],j=I[1],N=I[2],R=[],M=j.length,D=0;D<M;++D)R[D]=j[D]}if(T){var z;z=N&&P?{$__path:T.$_absolutePath,$__refPath:N.value,$__toReference:N.$_absolutePath}:{$__path:T.$_absolutePath},_[l]=z}}f(t,e,T,p,q,d,v,_,b,R,M,w,E,N),O&&!O.done&&(A=u(S,O))}while(O&&!O.done)}},{117:117,14:14,145:145,16:16,27:27,28:28,31:31,42:42}],35:[function(t,e,r){"use strict";function n(t){return new n.Model(t)}n.keys=function(t){if(t)return Object.keys(t).filter(function(t){return"$__path"!==t})},e.exports=n,n.Model=t(3)},{3:3}],36:[function(t,e,r){var n=t(38);e.exports=n+"_"},{38:38}],37:[function(t,e,r){e.exports=t(36)+"ref"},{36:36}],38:[function(t,e,r){e.exports="$"},{}],39:[function(t,e,r){function n(t,e,r,o,s,c,a,h,d,v){if(!_(t)&&!t.$type)for(var b in t)if(b[0]!==u&&p(t,b)){var y=t[b],g=l(y)&&!y.$type,x=i(r,o,s,b,y,g,!1,c,a,h,d,v),E=x[0],C=x[1];E&&(g?n(y,e+1,r,C,E,c,a,h,d,v):w(E,C,b,h)&&m(C,f(E),h,c))}}function o(t,e,r,n,o,u,c,a){if(d(r))return b(r,o,u),[void 0,e];h(u,r);var f=r,p=r.value,l=e;if(r=r.$_context,null!=r)l=r.$_parent||e;else{var v=0,y=p.length-1;l=r=e;do{var m=p[v],w=v<y,g=i(e,l,r,m,t,w,!0,n,o,u,c,a);if(r=g[0],_(r))return g;l=g[1]}while(v++<y);f.$_context!==r&&s(f,r)}return[r,l]}function i(t,e,r,n,i,s,u,a,h,f,p,l){for(var d=r.$type;d===c;){var v=o(i,t,r,a,h,f,p,l);if(r=v[0],_(r))return v;e=v[1],d=r&&r.$type}if(void 0!==d)return[r,e];if(null==n){if(s)throw new Error("`null` is not allowed in branch key positions.");r&&(n=r.$_key)}else e=r,r=e[n];return[r,e]}var s=t(80),u=t(38),c=t(117),a=t(18),h=t(42),f=t(84),p=t(87),l=t(96),d=t(91),v=t(92),_=t(98),b=t(82),y=t(88),m=t(111),w=t(105);e.exports=function(t,e){for(var r=t._root,o=r,i=r.expired,s=y(),u=r._comparator,c=r._errorSelector,h=t._path,f=r.cache,p=h.length?a(t,h).value:f,l=p.$_parent||f,d=f.$_version,_=-1,b=e.length;++_<b;){var m=e[_];n(m.json,0,f,l,p,s,i,o,u,c)}var w=f.$_version,g=r.onChange;v(g)&&d!==w&&g()}},{105:105,111:111,117:117,18:18,38:38,42:42,80:80,82:82,84:84,87:87,88:88,91:91,92:92,96:96,98:98}],40:[function(t,e,r){function n(t,e,r,o,s,u,c,a){var f={},p=e<t.length-1,l=t[e],d=v(l,f);do{var _=i(r,o,s,d,p,!1,u,c,a),m=_[0],w=_[1];m&&(p?n(t,e+1,r,w,m,u,c,a):y(m,w,d,a,void 0)&&b(w,h(m),a,u)),d=v(l,f)}while(!f.done)}function o(t,e,r,n,o){if(f(e))return d(e,n,o),[void 0,t];a(o,e);var u=e,c=e.value,h=t;if(e=e.$_context,null!=e)h=e.$_parent||t;else{var p=0,v=c.length-1;h=e=t;do{var _=c[p],b=p<v,y=i(t,h,e,_,b,!0,r,n,o);if(e=y[0],l(e))return y;h=y[1]}while(p++<v);if(u.$_context!==e){var m=e.$_refsLength||0;e.$_refsLength=m+1,e[s+m]=u,u.$_context=e,u.$_refIndex=m}}return[e,h]}function i(t,e,r,n,i,s,c,a,h){for(var f=r.$type;f===u;){var p=o(t,r,c,a,h);if(r=p[0],l(r))return p;e=p[1],f=r.$type}if(void 0!==f)return[r,e];if(null==n){if(i)throw new Error("`null` is not allowed in branch key positions.");r&&(n=r.$_key)}else e=r,r=e[n];return[r,e]}var s=t(37),u=t(117),c=t(18),a=t(42),h=t(84),f=t(91),p=t(92),l=t(98),d=t(82),v=t(145).iterateKeySet,_=t(88),b=t(111),y=t(105);e.exports=function(t,e){for(var r=t._root,o=r,i=r.expired,s=_(),u=t._path,a=r.cache,h=u.length?c(t,u).value:a,f=h.$_parent||a,l=a.$_version,d=-1,v=e.length;++d<v;){var b=e[d];n(b,0,a,f,h,s,i,o)}var y=a.$_version,m=r.onChange;p(m)&&l!==y&&m()}},{105:105,111:111,117:117,145:145,18:18,37:37,42:42,82:82,84:84,88:88,91:91,92:92,98:98}],41:[function(t,e,r){var n=t(104),o=t(111);e.exports=function(t,e,r,i,s,u){var c=r,a=s;"number"!=typeof a&&(a=.75);var h,f,p,l="number"==typeof u,d=i*a;for(f=e.pop();f;)p=f.$size||0,c-=p,l===!0?o(f,p,t,u):(h=f.$_parent)&&n(f,h,f.$_key,t),f=e.pop();if(c>=i){var v=t.$_tail;for(f=v;c>=d&&f;)v=v.$_prev,p=f.$size||0,c-=p,l===!0&&o(f,p,t,u),f=v;t.$_tail=t.$_prev=f,null==f?t.$_head=t.$_next=void 0:f.$_next=void 0}}},{104:104,111:111}],42:[function(t,e,r){var n=t(118);e.exports=function(t,e){if(e.$expires!==n){var r=t.$_head;if(!r)return void(t.$_head=t.$_tail=e);if(r!==e){var o=e.$_prev,i=e.$_next;i&&(i.$_prev=o),o&&(o.$_next=i),e.$_prev=void 0,t.$_head=e,e.$_next=r,r.$_prev=e,e===t.$_tail&&(t.$_tail=o)}}}},{118:118}],43:[function(t,e,r){e.exports=function(t,e){var r=e.$_prev,n=e.$_next;n&&(n.$_prev=r),r&&(r.$_next=n),e.$_prev=e.$_next=void 0,e===t.$_head&&(t.$_head=n),e===t.$_tail&&(t.$_tail=r)}},{}],44:[function(t,e,r){function n(t,e){var r=!1;return function(){if(!r&&!t._disposed){r=!0,t._callbacks[e]=null,t._optimizedPaths[e]=[],t._requestedPaths[e]=[];var n=--t._count,o=t._disposable;0===n&&(o.unsubscribe?o.unsubscribe():o.dispose(),t.requestQueue.removeRequest(t))}}}function o(t){for(var e=[],r=-1,n=0,o=t.length;n<o;++n)for(var i=t[n],s=0,u=i.length;s<u;++s)e[++r]=i[s];return e}var i=t(47),s=t(48),u=t(88),c=t(81),a=0,h=t(46).GetRequest,f=t(69),p=t(71),l=t(116),d=[],v=t(12),_=function(t,e){this.sent=!1,this.scheduled=!1,this.requestQueue=e,this.id=++a,this.type=h,this._scheduler=t,this._pathMap={},this._optimizedPaths=[],this._requestedPaths=[],this._callbacks=[],this._count=0,this._disposable=null,this._collapsed=null,this._disposed=!1};_.prototype={batch:function(t,e,r){var o=this,i=o._optimizedPaths,a=o._requestedPaths,h=o._callbacks,f=i.length;if(i[f]=e,a[f]=t,h[f]=r,++o._count,!o.scheduled){o.scheduled=!0;var p,l=o._scheduler.schedule(function(){p=s(o,i,function(t,e){var r,n,i,s=o.requestQueue.model;if(o.requestQueue.removeRequest(o),o._disposed=!0,s._treatDataSourceErrorsAsJSONGraphErrors?t instanceof v:t)for(r=0,i=h.length;r<i;++r)n=h[r],n&&n(t);else if(o._count){var f=u.getCurrentVersion();c.setVersion(f);var p={hasInvalidatedResult:!1},l=s._useServerPaths&&e&&void 0===e.paths?new Error("Server responses must include a 'paths' field when Model._useServerPaths === true"):void 0;for(l||o._merge(a,t,e,p),r=0,i=h.length;r<i;++r)n=h[r],n&&n(l||t,e,p.hasInvalidatedResult);c.setVersion(null)}}),o._disposable=p});o._disposable=p||l}return n(o,f)},add:function(t,e,r){var o=this,s=i(t,e,o._pathMap),u=!1,c=!1;if(s.intersection.length){u=!0;var a=o._callbacks.length;o._callbacks[a]=r,o._requestedPaths[a]=s.intersection,o._optimizedPaths[a]=[],++o._count,c=n(o,a)}return[u,s.requestedComplement,s.optimizedComplement,c]},_merge:function(t,e,r,n){var i=this,s=i.requestQueue.model,u=s._root,c=u.errorSelector,a=u.comparator,h=s._path;s._path=d;var v=s._useServerPaths?r.paths:o(t);if(e&&s._treatDataSourceErrorsAsJSONGraphErrors){var _=e;_ instanceof Error&&(_={message:_.message}),_.$type||(_={$type:l,value:_});var b=v.map(function(t){return{path:t,value:_}});p(s,b,null,c,a,n)}else f(s,[{paths:v,jsonGraph:r.jsonGraph}],null,c,a,n);s._path=h}},e.exports=_},{116:116,12:12,46:46,47:47,48:48,69:69,71:71,81:81,88:88}],45:[function(t,e,r){function n(t,e){this.model=t,this.scheduler=e,this.requests=this._requests=[]}var o=t(46),i=t(49),s=t(44),u=t(145);n.prototype={setScheduler:function(t){this.scheduler=t},set:function(t,e){return t.paths=u.collapse(t.paths),i(t,this.model,e)},get:function(t,e,r){function n(t,e,n){v||(--f,0===f&&r(t,e,n))}var i,u,c,a=this,h=[],f=0,p=a._requests,l=e,d=t,v=!1;for(i=0,u=p.length;i<u;++i)if(c=p[i],c.type===o.GetRequest){if(c.sent){var _=c.add(d,l,n);_[0]&&(d=_[1],l=_[2],h[h.length]=_[3],++f)}else c.batch(d,l,n),l=[],d=[],++f;if(!l.length)break}if(l.length){c=new s(a.scheduler,a),p[p.length]=c,++f;var b=c.batch(d,l,n);h[h.length]=b}return function(){if(!v&&0!==f){v=!0;for(var t=h.length,e=0;e<t;++e)h[e]()}}},removeRequest:function(t){for(var e=this._requests,r=e.length;--r>=0;)if(e[r].id===t.id){e.splice(r,1);break}}},e.exports=n},{145:145,44:44,46:46,49:49}],46:[function(t,e,r){e.exports={GetRequest:"GET"}},{}],47:[function(t,e,r){function n(t,e,r){function n(r,u,a,h){for(var f=[],p=[],l=[],d=e.length;u<d;++u){var v=e[u],_=typeof v;if(v&&"object"===_){for(var b={},y=s(v,b);!b.done;){var m=r[y];if(void 0===m)l[l.length]=h.concat(y,o(e,u+1)),p[p.length]=a.concat(y,o(t,u+1+c));else if(u===d-1)f[f.length]=i(a,[y]);else{var w=n(m,u+1,i(a,[y]),i(h,[y]));f=i(f,w[0]),l=i(l,w[1]),p=i(p,w[2])}y=s(v,b)}break}if(r=r[v],h[h.length]=e[u],a[a.length]=t[u+c],void 0===r){l[l.length]=i(h,o(e,u+1)),p[p.length]=i(a,o(t,u+c+1));break}u===d-1&&(f[f.length]=a)}return[f,l,p]}var u,c=t.length-e.length;for(u=0;r&&u<-c;u++)r=r[e[u]];return r?0===c?n(r,0,[],[]):c>0?n(r,0,o(t,0,c),[]):n(r,-c,[],o(e,0,-c)):[[],[e],[t]]}var o=t(78),i=t(75),s=t(145).iterateKeySet;e.exports=function(t,e,r){var o,s,u=[],c=[],a=[];for(o=0,s=e.length;o<s;++o){var h=e[o],f=t[o],p=r[h.length],l=n(f,h,p);a=i(a,l[0]),u=i(u,l[1]),c=i(c,l[2])}return{intersection:a,optimizedComplement:u,requestedComplement:c}},e.exports.__test={findPartialIntersections:n}},{145:145,75:75,78:78}],48:[function(t,e,r){var n=t(145),o=n.toTree,i=n.toPaths,s=t(12);e.exports=function(t,e,r){if(0===t._count)return t.requestQueue.removeRequest(t),null;t.sent=!0,t.scheduled=!1;for(var n=t._pathMap,u=Object.keys(e),c=0,a=u.length;c<a;++c)for(var h=e[c],f=0,p=h.length;f<p;++f){var l=h[f],d=l.length;if(n[d]){var v=n[d];v[v.length]=l}else n[d]=[l]}for(var _=Object.keys(n),b=0,y=_.length;b<y;++b){var m=_[b];n[m]=o(n[m])}var w,g,x=t._collasped=i(n);try{g=t.requestQueue.model._source.get(x)}catch(E){return r(new s),null}var C=g.subscribe(function(t){w=t},function(t){r(t,w)},function(){r(null,w)});return C}},{12:12,145:145}],49:[function(t,e,r){var n=t(77),o=t(69),i=t(71),s=t(12),u=[],c={dispose:function(){}},a=function(t,e,r){var a,h,f=t.paths,p=e._root,l=p.errorSelector,d=p.comparator,v=e._path;try{h=e._source.set(t)}catch(_){return r(new s),c}var b=h.subscribe(function(t){if(!b||!b.disposed){e._path=u;var r=o(e,[{paths:f,jsonGraph:t.jsonGraph}],null,l,d);t.paths=r[1],e._path=v,a=t}},function(t){b&&b.disposed||(e._path=u,i(e,n(f,function(e){return{path:e,value:t}}),null,l,d),e._path=v,r(t))},function(){r(null,a)});return b};e.exports=a},{12:12,69:69,71:71,77:77}],50:[function(t,e,r){var n=function(t){this.disposed=!1,this.currentDisposable=t};n.prototype={dispose:function(){if(!this.disposed&&this.currentDisposable){this.disposed=!0;var t=this.currentDisposable;t.dispose?t.dispose():t()}}},e.exports=n},{}],51:[function(t,e,r){function n(t,e,r,n,o){this.callPath=s.fromPath(e),this.args=r,o&&(this.paths=o.map(s.fromPath)),n&&(this.suffix=n.map(s.fromPath)),this.model=t}var o=t(53),i=t(12),s=t(133);n.prototype=Object.create(o.prototype),n.prototype._subscribe=function(t){var e=this.callPath,r=this.args,n=this.suffix,o=this.paths,s=this.model,u=s._clone({_path:[]}),c=s._path,a=c.concat(e);if(!s._source)return void t.onError(new Error("function does not exist"));var h,f;try{f=s._source.call(a,r,n,o)}catch(p){return void t.onError(new i(p))}return f.subscribe(function(t){h=t},function(e){t.onError(e)},function(){var e=h.invalidated;e&&e.length&&u.invalidate.apply(u,e),u.withoutDataSource().set(h).subscribe(function(e){t.onNext(e)},function(e){t.onError(e)},function(){t.onCompleted()})})},e.exports=n},{12:12,133:133,53:53}],52:[function(t,e,r){function n(t,e){this._model=t;for(var r,n,i=[],c=-1,a=e.length;++c<a;){var h,f=e[c];if(o(f))h="PathValues";else if(s(f))h="PathValues";else{if(!u(f))throw new Error("Invalid Input");h="PathMaps"}n!==h&&(n=h,r={inputType:h,arguments:[]},i.push(r)),r.arguments.push(f)}this._groups=i}var o=Array.isArray,i=t(53),s=t(97),u=t(94),c={dispose:function(){}};n.prototype=Object.create(i.prototype),n.prototype.progressively=function(){return this},n.prototype._toJSONG=function(){return this},n.prototype._subscribe=function(t){var e=this._model;return this._groups.forEach(function(t){var r=t.inputType,n=t.arguments,o="_invalidate"+r,i=e[o];i(e,n)}),t.onCompleted(),c},e.exports=n},{53:53,94:94,97:97}],53:[function(t,e,r){(function(r){function n(t){this._subscribe=t}var o=t(54),i=t(247)["default"],s=t(114);n.prototype[i]=function(){return s(this)},n.prototype._toJSONG=function(){return this},n.prototype.progressively=function(){return this},n.prototype.subscribe=n.prototype.forEach=function(t,e,r){var n=new o(t,e,r),i=this._subscribe(n);switch(typeof i){case"function":return{dispose:function(){n._closed||(n._closed=!0,i())}};case"object":return{dispose:function(){n._closed||(n._closed=!0,null!==i&&i.dispose())}};default:return{dispose:function(){n._closed=!0}}}},n.prototype.then=function(t,e){var n=this;return n._promise||(n._promise=new r(function(t,e){var r=!1,o=[];n.subscribe(function(t){o[o.length]=t},function(t){r=!0,e(t)},function(){var e=o;o.length<=1&&(e=o[0]),r===!1&&t(e)})})),n._promise.then(t,e)},e.exports=n}).call(this,"function"==typeof Promise?Promise:t(239))},{114:114,239:239,247:247,54:54}],54:[function(t,e,r){function n(t,e,r){t&&"object"==typeof t?this._observer={onNext:"function"==typeof t.onNext?function(e){t.onNext(e)}:o,onError:"function"==typeof t.onError?function(e){t.onError(e)}:o,onCompleted:"function"==typeof t.onCompleted?function(){t.onCompleted()}:o}:this._observer={onNext:"function"==typeof t?t:o,onError:"function"==typeof e?e:o,onCompleted:"function"==typeof r?r:o}}var o=t(101);n.prototype={onNext:function(t){this._closed||this._observer.onNext(t)},onError:function(t){this._closed||(this._closed=!0,this._observer.onError(t));
},onCompleted:function(){this._closed||(this._closed=!0,this._observer.onCompleted())}},e.exports=n},{101:101}],55:[function(t,e,r){var n=t(53),o=t(56),i=t(57),s={dispose:function(){}},u=t(41),c=t(84),a=e.exports=function(t,e,r,n,o){this.model=t,this.currentRemainingPaths=e,this.isJSONGraph=r||!1,this.isProgressive=n||!1,this.forceCollect=o||!1};a.prototype=Object.create(n.prototype),a.prototype._toJSONG=function(){return new a(this.model,this.currentRemainingPaths,(!0),this.isProgressive,this.forceCollect)},a.prototype.progressively=function(){return new a(this.model,this.currentRemainingPaths,this.isJSONGraph,(!0),this.forceCollect)},a.prototype._subscribe=function(t){var e=[{}],r=[],n=this.model,a=t.isJSONG=this.isJSONGraph,h=this.isProgressive,f=o(n,this.currentRemainingPaths,t,h,a,e,r);if(!f){if(this.forceCollect){var p=n._root,l=p.cache,d=l.$_version;u(p,p.expired,c(l),n._maxSize,n._collectRatio,d)}return s}return i(this,n,f,t,r,1)}},{41:41,53:53,56:56,57:57,84:84}],56:[function(t,e,r){var n=t(24),o=n.getWithPathsAsJSONGraph,i=n.getWithPathsAsPathMap;e.exports=function(t,e,r,n,s,u,c){var a=s?o(t,e,u):i(t,e,u),h=a.values&&a.values[0],f=!a.requestedMissingPaths||!a.requestedMissingPaths.length||!t._source;if(a.errors)for(var p=a.errors,l=c.length,d=0,v=p.length;d<v;++d,++l)c[l]=p[d];return(n||f&&void 0!==h)&&r.onNext(h),a.criticalError?(r.onError(a.criticalError),null):f?(c.length?r.onError(c):r.onCompleted(),null):a}},{24:24}],57:[function(t,e,r){var n=t(56),o=t(13),i=t(33).fastCat,s=t(41),u=t(84),c=t(50),a=t(12);e.exports=function h(t,e,r,f,p,l){if(l>e._maxRetries)return f.onError(new o(r.optimizedMissingPaths)),{dispose:function(){}};var d=e._request,v=r.requestedMissingPaths,_=r.optimizedMissingPaths,b=new c,y=[],m=e._path;if(m.length)for(var w=0,g=v.length;w<g;++w)y[w]=i(m,v[w]);else y=v;var x=d.get(y,_,function(o,i,c){if(e._treatDataSourceErrorsAsJSONGraphErrors?o instanceof a:!!o)return r.hasValues&&f.onNext(r.values&&r.values[0]),void f.onError(o);var d,_;c?(d=t.currentRemainingPaths,_=[{}]):(d=v,_=r.values);var y=n(e,d,f,t.isProgressive,t.isJSONGraph,_,p);if(y)b.currentDisposable=h(t,e,y,f,p,l+1);else{var m=e._root,w=m.cache,g=w.$_version;s(m,m.expired,u(w),e._maxSize,e._collectRatio,g)}});return b.currentDisposable=x,b}},{12:12,13:13,33:33,41:41,50:50,56:56,84:84}],58:[function(t,e,r){var n=t(55);e.exports=function(t){return new n(this,t)}},{55:55}],59:[function(t,e,r){var n=t(133),o=t(53),i=t(60),s=t(112),u=t(55);e.exports=function(){var t=s(arguments,i,"get");if(t!==!0)return new o(function(e){e.onError(t)});var e=n.fromPathsOrPathValues(arguments);return new u(this,e)}},{112:112,133:133,53:53,55:55,60:60}],60:[function(t,e,r){e.exports={path:!0,pathSyntax:!0}},{}],61:[function(t,e,r){var n=t(53),o=t(133),i=Array.isArray,s=t(97),u=t(95),c=t(94),a=t(64),h=e.exports=function(t,e,r,n){this._model=t,this._isJSONGraph=r||!1,this._isProgressive=n||!1,this._initialArgs=e,this._value=[{}];for(var a,h,f=[],p=-1,l=e.length;++p<l;){var d,v=e[p];i(v)||"string"==typeof v?(v=o.fromPath(v),d="PathValues"):s(v)?(v.path=o.fromPath(v.path),d="PathValues"):u(v)?d="JSONGs":c(v)&&(d="PathMaps"),h!==d&&(h=d,a={inputType:d,arguments:[]},f.push(a)),a.arguments.push(v)}this._groups=f};h.prototype=Object.create(n.prototype),h.prototype._subscribe=function(t){var e=this._groups,r=this._model,n=this._isJSONGraph,o=this._isProgressive;return a(r,t,e,n,o,0)},h.prototype._toJSONG=function(){return new h(this._model,this._initialArgs,(!0),this._isProgressive)},h.prototype.progressively=function(){return new h(this._model,this._initialArgs,this._isJSONGraph,(!0))}},{133:133,53:53,64:64,94:94,95:95,97:97}],62:[function(t,e,r){var n=t(65),o=t(112),i=t(61),s=t(53);e.exports=function(){var t=o(arguments,n,"set");if(t!==!0)return new s(function(e){e.onError(t)});for(var e=-1,r=arguments.length,u=[];++e<r;)u[e]=arguments[e];return new i(this,u)}},{112:112,53:53,61:61,65:65}],63:[function(t,e,r){function n(t){return t.path}function o(t){return t.paths}var i=t(76);e.exports=function(t,e){for(var r=t._root,s=r.errorSelector,u=-1,c=e.length,a=[],h=[],f={requestedPaths:a,optimizedPaths:h};++u<c;){var p=e[u],l=p.inputType,d=p.arguments;if(d.length>0){var v="_set"+l,_=t[v],b=_(t,d,null,s);h.push.apply(h,b[1]),"PathValues"===l?a.push.apply(a,d.map(n)):"JSONGs"===l?a.push.apply(a,i(d,o)):a.push.apply(a,b[0])}}return f}},{76:76}],64:[function(t,e,r){function n(t,e){var r=t._path,n={};return t._path=i,t._getPathValuesAsJSONG(t._materialize().withoutDataSource(),e,[n]),t._path=r,n}function o(t,e,r,n,o){var i=new u(t,r,n,o,(!0));return i.subscribe(e)}var i=[],s=t(50),u=t(55),c=t(63),a=t(24).getWithPathsAsPathMap,h=t(12),f=t(13);e.exports=function p(t,e,r,i,u,l){var d=c(t,r),v=d.optimizedPaths,_=d.requestedPaths;if(l===t._maxRetries)return e.onError(new f(v)),{dispose:function(){}};var b=void 0===t._source;if(b)return o(t,e,_,i,u);var y;if(u){var m=a(t,_,[{}]);if(m.criticalError)return e.onError(m.criticalError),null;e.onNext(m.values[0]),y=t._root.cache.$_version}var w=n(t,v),g=new s,x=t._request.set(w,function(n,s){if(n instanceof h)return void e.onError(n);var c=!1;if((n||v.length===s.paths.length)&&(c=!0),u){var a=t._root.cache.$_version,f=a!==y;if(!f)return void e.onCompleted()}c?g.currentDisposable=o(t,e,_,i,u):p(t,e,r,i,u,l+1)});return g.currentDisposable=x,g}},{12:12,13:13,24:24,50:50,55:55,63:63}],65:[function(t,e,r){e.exports={pathValue:!0,pathSyntax:!0,json:!0,jsonGraph:!0}},{}],66:[function(t,e,r){function n(){}var o=t(122),i={dispose:function(){}};n.prototype.schedule=function(t){return o(t),i},n.prototype.scheduleWithState=function(t,e){var r=this;return o(function(){e(r,t)}),i},e.exports=n},{122:122}],67:[function(t,e,r){function n(){}var o={dispose:function(){}};n.prototype.schedule=function(t){return t(),o},n.prototype.scheduleWithState=function(t,e){return e(this,t),o},e.exports=n},{}],68:[function(t,e,r){function n(t){this.delay=t}var o=function(t){this.id=t,this.disposed=!1};n.prototype.schedule=function(t){var e=setTimeout(t,this.delay);return new o(e)},n.prototype.scheduleWithState=function(t,e){var r=this,n=setTimeout(function(){e(r,t)},this.delay);return new o(n)},o.prototype.dispose=function(){this.disposed||(clearTimeout(this.id),this.disposed=!0)},e.exports=n},{}],69:[function(t,e,r){function n(t,e,r,o,s,u,c,a,h,f,l,d,v,_,b,y,m,w){for(var g={},x=e<t.length-1,E=t[e],C=p(E,g),N=d.index;;){l.depth=e;var S=i(r,o,s,u,c,a,C,x,!1,l,d,v,_,b,y,m,w);l[e]=C,l.index=e,d[d.index++]=C;var k=S[0],O=S[1];if(k&&(x?n(t,e+1,r,O,k,u,S[3],S[2],h,f,l,d,v,_,b,y,m,w):(h.push(l.slice(0,l.index+1)),f.push(d.slice(0,d.index)))),C=p(E,g),g.done)break;d.index=N}}function o(t,e,r,n,o,u,a,p,l,d,v,_){var b=e.value;if(u.splice(0,u.length),u.push.apply(u,b),c(e))return u.index=b.length,f(e,p,l),[void 0,t,n,r];var y=0,m=e,w=b.length-1,g=e=t,x=n=r;do{var E=b[y],C=y<w;u.index=y;var N=i(t,g,e,r,x,n,E,C,!0,o,u,a,p,l,d,v,_);if(e=N[0],h(e))return u.index=y,N;g=N[1],n=N[2],x=N[3]}while(y++<w);return u.index=y,m.$_context!==e&&s(m,e),[e,g,n,x]}function i(t,e,r,n,i,s,c,a,f,p,l,_,b,y,m,w,g){for(var x=r.$type;x===u;){var E=o(t,r,n,s,p,l,_,b,y,m,w,g);if(r=E[0],h(r))return E;e=E[1],s=E[2],i=E[3],x=r.$type}if(void 0!==x)return[r,e,s,i];if(null==c){if(a)throw new v;r&&(c=r.$_key)}else e=r,i=s,r=e[c],s=i&&i[c];return r=d(e,r,s,c,p,l,_,b,y,m,w,g),[r,e,s,i]}var s=t(80),u=t(117),c=t(90),a=t(92),h=t(98),f=t(82),p=t(145).iterateKeySet,l=t(88),d=t(99),v=t(14);e.exports=function(t,e,r,o,i,s){for(var u=t._root,c=u,h=u.expired,f=l(),p=u.cache,d=p.$_version,v=[],_=[],b=[],y=[],m=-1,w=e.length;++m<w;)for(var g=e[m],x=g.paths,E=g.jsonGraph,C=-1,N=x.length;++C<N;){var S=x[C];_.index=0,n(S,0,p,p,p,E,E,E,b,y,v,_,f,h,c,i,o,s)}var k=p.$_version,O=u.onChange;return a(O)&&d!==k&&O(),[b,y]}},{117:117,14:14,145:145,80:80,82:82,88:88,90:90,92:92,98:98,99:99}],70:[function(t,e,r){function n(t,e,r,o,u,c,a,h,f,p,d,v,_,b){var y=s(t);if(y&&y.length)for(var m=0,w=y.length,g=f.index;;){var x=y[m],E=t[x],C=l(E)&&!E.$type;h.depth=e;var N=i(r,o,u,x,E,C,!1,h,f,p,d,v,_,b);h[e]=x,h.index=e,f[f.index++]=x;var S=N[0],k=N[1];if(S&&(C?n(E,e+1,r,k,S,c,a,h,f,p,d,v,_,b):(c.push(h.slice(0,h.index+1)),a.push(f.slice(0,f.index)))),++m>=w)break;f.index=g}}function o(t,e,r,n,o,s,c,a,h,f){var p=r.value;if(o.splice(0,o.length),o.push.apply(o,p),d(r))return o.index=p.length,b(r,c,a),[void 0,e];var l=r,v=e;if(r=r.$_context,null!=r)v=r.$_parent||e,o.index=p.length;else{var y=0,m=p.length-1;o.index=y,v=r=e;do{var w=p[y],g=y<m,x=i(e,v,r,w,t,g,!0,n,o,s,c,a,h,f);if(r=x[0],_(r))return o.index=y,x;v=x[1]}while(y++<m);o.index=y,l.$_context!==r&&u(l,r)}return[r,v]}function i(t,e,r,n,i,s,u,c,h,f,p,l,d,v){for(var b=r.$type;b===a;){var y=o(i,t,r,c,h,f,p,l,d,v);if(r=y[0],_(r))return y;e=y[1],b=r&&r.$type}if(void 0!==b)return[r,e];if(null==n){if(s)throw new w;r&&(n=r.$_key)}else e=r,r=e[n];return r=m(e,r,n,i,s,u,c,h,f,p,l,d,v),[r,e]}function s(t){if(l(t)&&!t.$type){var e=[],r=0;f(t)&&(e[r++]="length");for(var n in t)n[0]!==c&&p(t,n)&&(e[r++]=n);return e}}var u=t(80),c=t(38),a=t(117),h=t(18),f=Array.isArray,p=t(87),l=t(96),d=t(91),v=t(92),_=t(98),b=t(82),y=t(88),m=t(100),w=t(14);e.exports=function(t,e,r,o,i){for(var s=t._root,u=s,c=s.expired,a=y(),f=t._path,p=s.cache,l=f.length?h(t,f).value:p,d=l.$_parent||p,_=p.$_version,b=[],m=[],w=[],g=f.length,x=-1,E=e.length;++x<E;){var C=e[x],N=f.slice(0);N.index=g,n(C.json,0,p,d,l,m,w,b,N,a,c,u,i,o)}var S=p.$_version,k=s.onChange;return v(k)&&_!==S&&k(),[m,w]}},{100:100,117:117,14:14,18:18,38:38,80:80,82:82,87:87,88:88,91:91,92:92,96:96,98:98}],71:[function(t,e,r){function n(t,e,r,o,s,u,c,a,h,f,p,d,v,_,b,y){for(var m={},w=r<e.length-1,g=e[r],x=l(g,m),E=f.index;;){h.depth=r;var C=i(o,s,u,x,t,w,!1,h,f,p,d,v,_,b,y);h[r]=x,h.index=r,f[f.index++]=x;var N=C[0],S=C[1];if(N&&(w?n(t,e,r+1,o,S,N,c,a,h,f,p,d,v,_,b):(c.push(h.slice(0,h.index+1)),a.push(f.slice(0,f.index)))),x=l(g,m),m.done)break;f.index=E}}function o(t,e,r,n,o,u,c,h,l,d,v){var _=r.value;if(o.splice(0,o.length),o.push.apply(o,_),a(r))return o.index=_.length,p(r,c,h),[void 0,e];var b=r,y=e;if(r=r.$_context,null!=r)y=r.$_parent||e,o.index=_.length;else{var m=0,w=_.length-1;y=r=e;do{var g=_[m],x=m<w;o.index=m;var E=i(e,y,r,g,t,x,!0,n,o,u,c,h,l,d,v);if(r=E[0],f(r))return o.index=m,E;y=E[1]}while(m++<w);o.index=m,b.$_context!==r&&s(b,r)}return[r,y]}function i(t,e,r,n,i,s,c,a,h,p,l,d,b,y,m){for(var w=r.$type;w===u;){var g=o(i,t,r,a,h,p,l,d,b,y,m);if(r=g[0],f(r))return g;e=g[1],w=r.$type}if(s&&void 0!==w)return[r,e];if(null==n){if(s)throw new _;r&&(n=r.$_key)}else e=r,r=e[n];return r=v(e,r,n,i,s,c,a,h,p,l,d,b,y,m),[r,e]}var s=t(80),u=t(117),c=t(18),a=t(91),h=t(92),f=t(98),p=t(82),l=t(145).iterateKeySet,d=t(88),v=t(100),_=t(14);e.exports=function(t,e,r,o,i){for(var s=t._root,u=s,a=s.expired,f=d(),p=t._path,l=s.cache,v=p.length?c(t,p).value:l,_=v.$_parent||l,b=l.$_version,y=[],m=[],w=[],g=p.length,x=-1,E=e.length;++x<E;){var C=e[x],N=C.path,S=C.value,k=p.slice(0);k.index=g,n(S,N,0,l,_,v,m,w,y,k,f,a,u,i,o)}var O=l.$_version,A=s.onChange;return h(A)&&b!==O&&A(),[m,w]}},{100:100,117:117,14:14,145:145,18:18,80:80,82:82,88:88,91:91,92:92,98:98}],72:[function(t,e,r){var n=t(129),o=t(53),i=t(97);e.exports=function(t,e){for(var r=i(t)?t:n.pathValue(t,e),s=0,u=r.path,c=u.length;++s<c;)if("object"==typeof u[s])return new o(function(t){t.onError(new Error("Paths must be simple paths"))});var a=this;return new o(function(t){return a.set(r).subscribe(function(e){for(var r=e.json,n=-1,o=u.length;r&&++n<o;)r=r[u[n]];t.onNext(r)},function(e){t.onError(e)},function(){t.onCompleted()})})}},{129:129,53:53,97:97}],73:[function(t,e,r){var n=t(133),o=t(97),i=t(71);e.exports=function(t,e,r,s){var u=n.fromPath(t),c=e,a=r,h=s;if(o(u)?(h=a,a=c,c=u):c={path:u,value:c},o(c)===!1)throw new Error("Model#setValueSync must be called with an Array path.");return"function"!=typeof a&&(a=this._root._errorSelector),"function"!=typeof h&&(h=this._root._comparator),this._syncCheck("setValueSync"),i(this,[c]),this._getValueSync(c.path)}},{133:133,71:71,97:97}],74:[function(t,e,r){e.exports=function(t){if(!t)return t;for(var e=-1,r=t.length,n=[];++e<r;)n[e]=t[e];return n}},{}],75:[function(t,e,r){e.exports=function(t,e){if(!t)return e;for(var r=-1,n=-1,o=t.length,i=e.length,s=new Array(o+i);++r<o;)s[r]=t[r];for(;++n<i;)s[r++]=e[n];return s}},{}],76:[function(t,e,r){e.exports=function(t,e){for(var r=-1,n=-1,o=t.length,i=[];++n<o;)for(var s=e(t[n],n,t),u=-1,c=s.length;++u<c;)i[++r]=s[u];return i}},{}],77:[function(t,e,r){e.exports=function(t,e){for(var r=-1,n=t.length,o=new Array(n);++r<n;)o[r]=e(t[r],r,t);return o}},{}],78:[function(t,e,r){e.exports=function(t,e,r){var n=e||0,o=-1,i=t.length-n;i<0&&(i=0),r>0&&i>r&&(i=r);for(var s=new Array(i);++o<i;)s[o]=t[o+n];return s}},{}],79:[function(t,e,r){var n=t(36),o=t(87),i=Array.isArray,s=t(96);e.exports=function(t){var e=t;if(s(e)){e=i(t)?[]:{};var r=t;for(var u in r)u.substr(0,2)!==n&&o(r,u)&&(e[u]=r[u])}return e}},{36:36,87:87,96:96}],80:[function(t,e,r){var n=t(37);e.exports=function(t,e){var r=e.$_refsLength||0;e[n+r]=t,e.$_refsLength=r+1,t.$_refIndex=r,t.$_context=e}},{37:37}],81:[function(t,e,r){var n=null;r.setVersion=function(t){n=t},r.getVersion=function(){return n}},{}],82:[function(t,e,r){var n=t(43);e.exports=function(t,e,r){return t.$_invalidated||(t.$_invalidated=!0,e.push(t),n(r,t)),t}},{43:43}],83:[function(t,e,r){var n=t(96);e.exports=function(t){return n(t)&&t.$expires||void 0}},{96:96}],84:[function(t,e,r){var n=t(96);e.exports=function(t){return n(t)&&t.$size||0}},{96:96}],85:[function(t,e,r){var n=t(96);e.exports=function(t){return n(t)&&t.$timestamp||void 0}},{96:96}],86:[function(t,e,r){var n=t(96);e.exports=function(t,e){var r=n(t)&&t.$type||void 0;return e&&r?"branch":r}},{96:96}],87:[function(t,e,r){var n=t(96),o=Object.prototype.hasOwnProperty;e.exports=function(t,e){return n(t)&&o.call(t,e)}},{96:96}],88:[function(t,e,r){var n=1;e.exports=function(){return n++},e.exports.getCurrentVersion=function(){return n}},{}],89:[function(t,e,r){e.exports=function(t,e,r,n,o){return t.$_key=r,t.$_parent=e,void 0!==n&&(t.$_version=n),t.$_absolutePath||(t.$_absolutePath=o.slice(0,o.index).concat(r)),e[r]=t,t}},{}],90:[function(t,e,r){var n=t(102),o=t(119),i=t(118);e.exports=function(t){var e=t.$expires;return null!=e&&e!==i&&e!==o&&e<n()}},{102:102,118:118,119:119}],91:[function(t,e,r){var n=t(102),o=t(119),i=t(118);e.exports=function(t){var e=t.$expires;return null!=e&&e!==i&&(e===o||e<n())}},{102:102,118:118,119:119}],92:[function(t,e,r){var n="function";e.exports=function(t){return Boolean(t)&&typeof t===n}},{}],93:[function(t,e,r){var n=t(36);e.exports=function(t){return"$size"===t||t.substr(0,2)===n}},{36:36}],94:[function(t,e,r){var n=t(96);e.exports=function(t){return n(t)&&"json"in t}},{96:96}],95:[function(t,e,r){var n=Array.isArray,o=t(96);e.exports=function(t){return o(t)&&n(t.paths)&&(o(t.jsonGraph)||o(t.jsong)||o(t.json)||o(t.values)||o(t.value))}},{96:96}],96:[function(t,e,r){var n="object";e.exports=function(t){return null!==t&&typeof t===n}},{}],97:[function(t,e,r){var n=Array.isArray,o=t(96);e.exports=function(t){return o(t)&&(n(t.path)||"string"==typeof t.path)}},{96:96}],98:[function(t,e,r){var n="object";e.exports=function(t){return null==t||typeof t!==n}},{}],99:[function(t,e,r){var n=t(117),o=t(116),i=t(84),s=t(85),u=t(96),c=t(91),a=t(92),h=t(113),f=t(89),p=t(82),l=t(106),d=t(111),v=t(103);e.exports=function(t,e,r,_,b,y,m,w,g,x,E,C){var N,S,k,O,A,j,D,P=e&&void 0!==e.value?e.value:e;if(P===r){if(null===r)return e=h(r,void 0,r),t=d(t,-e.$size,g,m),e=f(e,t,_,void 0,y);if(void 0===r)return r;if(O=u(e),O&&(S=e.$type,null==S))return null==e.$_parent&&f(e,t,_,m,y),e}else O=u(e),O&&(S=e.$type);if(S!==n){if(A=u(r),A&&(k=r.$type),O&&!S&&(null==r||A&&!k))return e}else{if(null==r)return c(e)?void p(e,w,g):e;if(A=u(r),A&&(k=r.$type,k===n))if(e===r){if(null!=e.$_parent)return e}else if(j=e.$timestamp,D=r.$timestamp,!c(e)&&!c(r)&&D<j)return}if(S&&A&&!k)return f(l(e,r,t,_,g,C),t,_,void 0,y);if(k||!A){if(k===o&&a(E)&&(r=E(v(b,_),r),k=r.$type||k),k&&e===r)null==e.$_parent&&(e=h(e,k,e.value),t=d(t,-e.$size,g,m),e=f(e,t,_,m,y));else{var $=!0;(S&&!c(e)||!O)&&($=s(r)<s(e)==!1,$&&(S||k)&&a(x)&&($=!x(P,r,y.slice(0,y.index)))),$&&(r=h(r,k,k?r.value:r),N=i(e)-i(r),e=l(e,r,t,_,g,C),t=d(t,N,g,m),e=f(e,t,_,m,y))}c(e)&&p(e,w,g)}else null==e&&(e=f({},t,_,void 0,y));return e}},{103:103,106:106,111:111,113:113,116:116,117:117,82:82,84:84,85:85,89:89,91:91,92:92,96:96}],100:[function(t,e,r){var n=t(117),o=t(116),i=t(86),s=t(84),u=t(85),c=t(91),a=t(98),h=t(92),f=t(113),p=t(82),l=t(89),d=t(106),v=t(111),_=t(110),b=t(103);e.exports=function(t,e,r,y,m,w,g,x,E,C,N,S,k,O){var A=i(e,w);if(m||w)A&&c(e)&&(A="expired",p(e,C,N)),(A&&A!==n||a(e))&&(e=d(e,{},t,r,N,O),e=l(e,t,r,E,x),e=_(e,E));else{var j=y,D=i(j),P=u(j)<u(e)==!1;if((A||D)&&h(S)&&(P=!S(e,j,x.slice(0,x.index))),P){D===o&&h(k)&&(j=k(b(g,r),j),D=j.$type||D),j=f(j,D,D?j.value:j);var $=s(e)-s(j);e=d(e,j,t,r,N,O),t=v(t,$,N,E),e=l(e,t,r,E,x)}}return e}},{103:103,106:106,110:110,111:111,113:113,116:116,117:117,82:82,84:84,85:85,86:86,89:89,91:91,92:92,98:98}],101:[function(t,e,r){e.exports=function(){}},{}],102:[function(t,e,r){e.exports=Date.now},{}],103:[function(t,e,r){e.exports=function(t,e){var r=t.slice(0,t.depth);return r[r.length]=e,r}},{}],104:[function(t,e,r){var n=t(117),o=t(43),i=t(96),s=t(108),u=t(109);e.exports=function(t,e,r,c){if(i(t)){var a=t.$type;return a&&(a===n&&u(t),o(c,t)),s(t),e[r]=t.$_parent=void 0,!0}return!1}},{108:108,109:109,117:117,43:43,96:96}],105:[function(t,e,r){var n=t(87),o=t(38),i=t(104);e.exports=function s(t,e,r,u,c){if(i(t,e,r,u)){if(void 0!==t.$type&&c&&t.$_absolutePath&&(c.hasInvalidatedResult=!0),null==t.$type)for(var a in t)a[0]!==o&&n(t,a)&&s(t[a],t,a,u,c);return!0}return!1}},{104:104,38:38,87:87}],106:[function(t,e,r){var n=t(96),o=t(107),i=t(105);e.exports=function(t,e,r,s,u,c){return t===e?t:(n(t)&&(o(t,e),i(t,r,s,u,c)),r[s]=e,e)}},{105:105,107:107,96:96}],107:[function(t,e,r){var n=t(37);e.exports=function(t,e){for(var r=t.$_refsLength||0,o=e.$_refsLength||0,i=-1;++i<r;){var s=t[n+i];void 0!==s&&(s.$_context=e,e[n+(o+i)]=s,t[n+i]=void 0)}return e.$_refsLength=r+o,t.$_refsLength=void 0,e}},{37:37}],108:[function(t,e,r){var n=t(37);e.exports=function(t){for(var e=-1,r=t.$_refsLength||0;++e<r;){var o=t[n+e];null!=o&&(o.$_context=o.$_refIndex=t[n+e]=void 0)}return t.$_refsLength=void 0,t}},{37:37}],109:[function(t,e,r){var n=t(37);e.exports=function(t){var e=t.$_context;if(e){for(var r=(t.$_refIndex||0)-1,o=(e.$_refsLength||0)-1;++r<=o;)e[n+r]=e[n+(r+1)];e.$_refsLength=o,t.$_refIndex=t.$_context=e=void 0}return t}},{37:37}],110:[function(t,e,r){var n=t(37);e.exports=function(t,e){var r=[t],o=0;do{var i=r[o];if(i&&i.$_version!==e){i.$_version=e,r[o++]=i.$_parent;for(var s=-1,u=i.$_refsLength||0;++s<u;)r[o++]=i[n+s]}}while(--o>-1);return t}},{37:37}],111:[function(t,e,r){var n=t(104),o=t(110);e.exports=function(t,e,r,i){var s=t;do{var u=s.$_parent,c=s.$size=(s.$size||0)-e;c<=0&&null!=u?n(s,u,s.$_key,r):s.$_version!==i&&o(s,i),s=u}while(s);return t}},{104:104,110:110}],112:[function(t,e,r){var n=Array.isArray,o=t(97),i=t(95),s=t(94),u=t(133);e.exports=function(t,e,r){for(var c=0,a=t.length;c<a;++c){var h=t[c],f=!1;if(n(h)&&e.path?f=!0:"string"==typeof h&&e.pathSyntax?f=!0:o(h)&&e.pathValue?(h.path=u.fromPath(h.path),f=!0):i(h)&&e.jsonGraph?f=!0:s(h)&&e.json?f=!0:"function"==typeof h&&c+1===a&&e.selector&&(f=!0),!f)return new Error("Unrecognized argument "+typeof h+" ["+String(h)+"] to Model#"+r)}return!0}},{133:133,94:94,95:95,97:97}],113:[function(t,e,r){var n=t(102),o=t(119),i=50,s=t(79),u=Array.isArray,c=t(84),a=t(83),h=t(115);e.exports=function(t,e,r){var f=0,p=t,l=e;if(l){var d=p.$_modelCreated;p=s(p),f=c(p),p.$type=l,p.$_prev=void 0,p.$_next=void 0,p.$_modelCreated=d||!1}else p={$type:h,value:r,$_prev:void 0,$_next:void 0,$_modelCreated:!0};if(null==r)f=i+1;else if(null==f||f<=0)switch(typeof r){case"object":f=u(r)?i+r.length:i+1;break;case"string":f=i+r.length;break;default:f=i+1}var v=a(p);return"number"==typeof v&&v<o&&(p.$expires=n()+v*-1),p.$size=f,p}},{102:102,115:115,119:119,79:79,83:83,84:84}],114:[function(t,e,r){function n(t){this.esObserver=t}function o(t){this.subscription=t}function i(t){return{subscribe:function(e){return new o(t.subscribe(new n(e)))}}}n.prototype={onNext:function(t){"function"==typeof this.esObserver.next&&this.esObserver.next(t)},onError:function(t){"function"==typeof this.esObserver.error&&this.esObserver.error(t)},onCompleted:function(){"function"==typeof this.esObserver.complete&&this.esObserver.complete()}},o.prototype.unsubscribe=function(){this.subscription.dispose()},e.exports=i},{}],115:[function(t,e,r){e.exports="atom"},{}],116:[function(t,e,r){e.exports="error"},{}],117:[function(t,e,r){e.exports="ref"},{}],118:[function(t,e,r){e.exports=1},{}],119:[function(t,e,r){e.exports=0},{}],120:[function(t,e,r){"use strict";function n(){if(c.length)throw c.shift()}function o(t){var e;e=u.length?u.pop():new i,e.task=t,s(e)}function i(){this.task=null}var s=t(121),u=[],c=[],a=s.makeRequestCallFromTimer(n);e.exports=o,i.prototype.call=function(){try{this.task.call()}catch(t){o.onerror?o.onerror(t):(c.push(t),a())}finally{this.task=null,u[u.length]=this}}},{121:121}],121:[function(t,e,r){(function(t){"use strict";function r(t){u.length||(s(),c=!0),u[u.length]=t}function n(){for(;a<u.length;){var t=a;if(a+=1,u[t].call(),a>h){for(var e=0,r=u.length-a;e<r;e++)u[e]=u[e+a];u.length-=a,a=0}}u.length=0,a=0,c=!1}function o(t){var e=1,r=new p(t),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}function i(t){return function(){function e(){clearTimeout(r),clearInterval(n),t()}var r=setTimeout(e,0),n=setInterval(e,50)}}e.exports=r;var s,u=[],c=!1,a=0,h=1024,f="undefined"!=typeof t?t:self,p=f.MutationObserver||f.WebKitMutationObserver;s="function"==typeof p?o(n):i(n),r.requestFlush=s,r.makeRequestCallFromTimer=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],122:[function(t,e,r){"use strict";function n(){if(c.length)throw c.shift()}function o(t){var e;e=u.length?u.pop():new i,e.task=t,s(e)}function i(){this.task=null}var s=t(123),u=[],c=[],a=s.makeRequestCallFromTimer(n);e.exports=o,i.prototype.call=function(){try{this.task.call()}catch(t){o.onerror?o.onerror(t):(c.push(t),a())}finally{this.task=null,u[u.length]=this}}},{123:123}],123:[function(t,e,r){arguments[4][121][0].apply(r,arguments)},{121:121}],124:[function(t,e,r){"use strict";function n(t,e){var r;for(r in e)t[r]=e[r];return t}function o(t,e){if(this._jsongUrl=t,"number"==typeof e){var r={timeout:e};e=r}this._config=n({timeout:15e3,headers:{}},e||{})}var i=t(128),s=t(125);Array.isArray;o.prototype={constructor:o,buildQueryObject:s,get:function(t){var e="GET",r=this.buildQueryObject(this._jsongUrl,e,{paths:t,method:"get"}),o=n(r,this._config),s=this;return i(e,o,s)},set:function(t){var e="POST",r=this.buildQueryObject(this._jsongUrl,e,{jsonGraph:t,method:"set"}),o=n(r,this._config);o.headers["Content-Type"]="application/x-www-form-urlencoded";var s=this;return i(e,o,s)},call:function(t,e,r,o){e=e||[],r=r||[],o=o||[];var s="POST",u=[];u.push("method=call"),u.push("callPath="+encodeURIComponent(JSON.stringify(t))),u.push("arguments="+encodeURIComponent(JSON.stringify(e))),u.push("pathSuffixes="+encodeURIComponent(JSON.stringify(r))),u.push("paths="+encodeURIComponent(JSON.stringify(o)));var c=this.buildQueryObject(this._jsongUrl,s,u.join("&")),a=n(c,this._config);a.headers["Content-Type"]="application/x-www-form-urlencoded";var h=this;return i(s,a,h)}},o.XMLHttpSource=o,o["default"]=o,e.exports=o},{125:125,128:128}],125:[function(t,e,r){"use strict";e.exports=function(t,e,r){var n,o=[],i={url:t},s=t.indexOf("?")!==-1,u=s?"&":"?";return"string"==typeof r?o.push(r):(n=Object.keys(r),n.forEach(function(t){var e="object"==typeof r[t]?JSON.stringify(r[t]):r[t];o.push(t+"="+encodeURIComponent(e))})),"GET"===e?i.url+=u+o.join("&"):i.data=o.join("&"),i}},{}],126:[function(t,e,r){(function(t){"use strict";e.exports=function(){var e=new t.XMLHttpRequest;if("withCredentials"in e)return e;if(t.XDomainRequest)return new XDomainRequest;throw new Error("CORS is not supported by your browser")}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],127:[function(t,e,r){(function(t){"use strict";e.exports=function(){var e,r,n;if(t.XMLHttpRequest)return new t.XMLHttpRequest;try{for(r=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],n=0;n<3;n++)try{if(e=r[n],new t.ActiveXObject(e))break}catch(o){}return new t.ActiveXObject(e)}catch(o){throw new Error("XMLHttpRequest is not supported by your browser")}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],128:[function(t,e,r){"use strict";function n(){}function o(t,e,r){return n.create(function(n){var o,i,f,p,l,d={method:t||"GET",crossDomain:!1,async:!0,headers:{},responseType:"json"};for(l in e)h.call(e,l)&&(d[l]=e[l]);d.crossDomain||d.headers["X-Requested-With"]||(d.headers["X-Requested-With"]="XMLHttpRequest"),null!=r.onBeforeRequest&&r.onBeforeRequest(d);try{o=d.crossDomain?a():c()}catch(v){n.onError(v)}try{d.user?o.open(d.method,d.url,d.async,d.user,d.password):o.open(d.method,d.url,d.async),o.timeout=d.timeout,o.withCredentials=d.withCredentials!==!1,f=d.headers;for(p in f)h.call(f,p)&&o.setRequestHeader(p,f[p]);if(d.responseType)try{o.responseType=d.responseType}catch(_){if("json"!==d.responseType)throw _}o.onreadystatechange=function(t){4===o.readyState&&(i||(i=!0,s(n,o,t)))},o.ontimeout=function(t){i||(i=!0,u(n,o,"timeout error",t))},o.send(d.data)}catch(_){n.onError(_)}return function(){i||4===o.readyState||(i=!0,o.abort())}})}function i(t,e,r){r||(r=new Error(e)),t.onError(r)}function s(t,e,r){var n,o;if(e&&t){o=e.responseType,n="response"in e?e.response:e.responseText;var s=1223===e.status?204:e.status;if(s>=200&&s<=399){try{"json"!==o&&(n=JSON.parse(n||"")),"string"==typeof n&&(n=JSON.parse(n||""))}catch(r){i(t,"invalid json",r)}return t.onNext(n),void t.onCompleted()}return 401===s||403===s||407===s?i(t,n):410===s?i(t,n):408===s||504===s?i(t,n):i(t,n||"Response code "+s)}}function u(t,e,r,n){i(t,r||e.statusText||"request error",n)}var c=t(127),a=t(126),h=Object.prototype.hasOwnProperty,f=function(){};n.create=function(t){var e=new n;return e.subscribe=function(e,r,n){var o,i;return o="function"==typeof e?{onNext:e,onError:r||f,onCompleted:n||f}:e,i=t(o),"function"==typeof i?{dispose:i}:i},e},e.exports=o},{126:126,127:127}],129:[function(t,e,r){function n(t,e,r){var n=Object.create(null);if(null!=r){for(var o in r)n[o]=r[o];return n.$type=t,n.value=e,n}return{$type:t,value:e}}var o=t(133);e.exports={ref:function(t,e){return n("ref",o.fromPath(t),e)},atom:function(t,e){return n("atom",t,e)},undefined:function(){return n("atom")},error:function(t,e){return n("error",t,e)},pathValue:function(t,e){return{path:o.fromPath(t),value:e}},pathInvalidation:function(t){return{path:o.fromPath(t),invalidated:!0}}}},{133:133}],130:[function(t,e,r){e.exports={integers:"integers",ranges:"ranges",keys:"keys"}},{}],131:[function(t,e,r){var n={token:"token",dotSeparator:".",commaSeparator:",",openingBracket:"[",closingBracket:"]",openingBrace:"{",closingBrace:"}",escape:"\\",space:" ",colon:":",quote:"quote",unknown:"unknown"};e.exports=n},{}],132:[function(t,e,r){e.exports={indexer:{nested:"Indexers cannot be nested.",needQuotes:"unquoted indexers must be numeric.",empty:"cannot have empty indexers.",leadingDot:"Indexers cannot have leading dots.",leadingComma:"Indexers cannot have leading comma.",requiresComma:"Indexers require commas between indexer args.",routedTokens:"Only one token can be used per indexer when specifying routed tokens."},range:{precedingNaN:"ranges must be preceded by numbers.",suceedingNaN:"ranges must be suceeded by numbers."},routed:{invalid:"Invalid routed token.  only integers|ranges|keys are supported."},quote:{empty:"cannot have empty quoted keys.",illegalEscape:"Invalid escape character.  Only quotes are escapable."},unexpectedToken:"Unexpected token.",invalidIdentifier:"Invalid Identifier.",invalidPath:"Please provide a valid path.",throwError:function(t,e,r){if(r)throw t+" -- "+e.parseString+" with next token: "+r;throw t+" -- "+e.parseString}}},{}],133:[function(t,e,r){var n=t(139),o=t(134),i=t(130),s=function(t,e){return o(new n(t,e))};e.exports=s,s.fromPathsOrPathValues=function(t,e){if(!t)return[];for(var r=[],n=0,o=t.length;n<o;n++)"string"==typeof t[n]?r[n]=s(t[n],e):"string"==typeof t[n].path?r[n]={path:s(t[n].path,e),value:t[n].value}:r[n]=t[n];return r},s.fromPath=function(t,e){return t?"string"==typeof t?s(t,e):t:[]},s.RoutedTokens=i},{130:130,134:134,139:139}],134:[function(t,e,r){var n=t(131),o=t(132),i=t(135);e.exports=function(t){for(var e=t.next(),r={},s=[];!e.done;){switch(e.type){case n.token:var u=+e.token[0];isNaN(u)||o.throwError(o.invalidIdentifier,t),s[s.length]=e.token;break;case n.dotSeparator:0===s.length&&o.throwError(o.unexpectedToken,t);break;case n.space:break;case n.openingBracket:i(t,e,r,s);break;default:o.throwError(o.unexpectedToken,t)}e=t.next()}return 0===s.length&&o.throwError(o.invalidPath,t),s}},{131:131,132:132,135:135}],135:[function(t,e,r){var n=t(131),o=t(132),i=o.indexer,s=t(137),u=t(136),c=t(138);e.exports=function(t,e,r,a){var h=t.next(),f=!1,p=1,l=!1;for(r.indexer=[];!h.done;){switch(h.type){case n.token:case n.quote:r.indexer.length===p&&o.throwError(i.requiresComma,t)}switch(h.type){case n.openingBrace:l=!0,c(t,h,r,a);break;case n.token:var d=+h.token;isNaN(d)&&o.throwError(i.needQuotes,t),r.indexer[r.indexer.length]=d;break;case n.dotSeparator:r.indexer.length||o.throwError(i.leadingDot,t),s(t,h,r,a);break;case n.space:break;case n.closingBracket:f=!0;break;case n.quote:u(t,h,r,a);break;case n.openingBracket:o.throwError(i.nested,t);break;case n.commaSeparator:++p;break;default:o.throwError(o.unexpectedToken,t)}if(f)break;h=t.next()}0===r.indexer.length&&o.throwError(i.empty,t),r.indexer.length>1&&l&&o.throwError(i.routedTokens,t),1===r.indexer.length&&(r.indexer=r.indexer[0]),a[a.length]=r.indexer,r.indexer=void 0}},{131:131,132:132,136:136,137:137,138:138}],136:[function(t,e,r){var n=t(131),o=t(132),i=o.quote;e.exports=function(t,e,r,s){for(var u=t.next(),c="",a=e.token,h=!1,f=!1;!u.done;){switch(u.type){case n.token:case n.space:case n.dotSeparator:case n.commaSeparator:case n.openingBracket:case n.closingBracket:case n.openingBrace:case n.closingBrace:h&&o.throwError(i.illegalEscape,t),c+=u.token;break;case n.quote:h?(c+=u.token,h=!1):u.token!==a?c+=u.token:f=!0;break;case n.escape:h=!0;break;default:o.throwError(o.unexpectedToken,t)}if(f)break;u=t.next()}0===c.length&&o.throwError(i.empty,t),r.indexer[r.indexer.length]=c}},{131:131,132:132}],137:[function(t,e,r){var n=t(139),o=t(131),i=t(132);e.exports=function(t,e,r,s){var u,c=t.peek(),a=1,h=!1,f=!0,p=r.indexer.length-1,l=n.toNumber(r.indexer[p]);for(isNaN(l)&&i.throwError(i.range.precedingNaN,t);!h&&!c.done;){switch(c.type){case o.dotSeparator:3===a&&i.throwError(i.unexpectedToken,t),++a,3===a&&(f=!1);break;case o.token:u=n.toNumber(t.next().token),isNaN(u)&&i.throwError(i.range.suceedingNaN,t),h=!0;break;default:h=!0}if(h)break;t.next(),c=t.peek()}r.indexer[p]={from:l,to:f?u:u-1}}},{131:131,132:132,139:139}],138:[function(t,e,r){var n=t(131),o=t(130),i=t(132),s=i.routed;e.exports=function(t,e,r,u){var c=t.next(),a=!1,h="";switch(c.token){case o.integers:case o.ranges:case o.keys:break;default:i.throwError(s.invalid,t)}var f=t.next();if(f.type===n.colon&&(a=!0,f=t.next(),f.type!==n.token&&i.throwError(s.invalid,t),h=f.token,f=t.next()),f.type===n.closingBrace){var p={type:c.token,named:a,name:h};r.indexer[r.indexer.length]=p}else i.throwError(s.invalid,t)}},{130:130,131:131,132:132}],139:[function(t,e,r){function n(t,e,r){return{token:t,
done:r,type:e}}function o(t,e,r){var o,m=!1,w="",g=r?y:b;do{if(o=e+1>=t.length)break;var x=t[e+1];if(void 0===x||g.indexOf(x)!==-1){if(w.length)break;++e;var E;switch(x){case s:E=i.dotSeparator;break;case u:E=i.commaSeparator;break;case c:E=i.openingBracket;break;case a:E=i.closingBracket;break;case h:E=i.openingBrace;break;case f:E=i.closingBrace;break;case _:E=i.space;break;case d:case v:E=i.quote;break;case l:E=i.escape;break;case p:E=i.colon;break;default:E=i.unknown}m=n(x,E,!1);break}w+=x,++e}while(!o);return!m&&w.length&&(m=n(w,i.token,!1)),m||(m={done:!0}),{token:m,idx:e}}var i=t(131),s=".",u=",",c="[",a="]",h="{",f="}",p=":",l="\\",d='"',v="'",_=" ",b="\\'\"[]., ",y="\\{}'\"[]., :",m=e.exports=function(t,e){this._string=t,this._idx=-1,this._extended=e,this.parseString=""};m.prototype={next:function(){var t=this._nextToken?this._nextToken:o(this._string,this._idx,this._extended);return this._idx=t.idx,this._nextToken=!1,this.parseString+=t.token.token,t.token},peek:function(){var t=this._nextToken?this._nextToken:o(this._string,this._idx,this._extended);return this._nextToken=t,t.token}},m.toNumber=function(t){return isNaN(+t)?NaN:+t}},{131:131}],140:[function(t,e,r){var n=t(156),o=t(157);e.exports=function(t){var e=t.reduce(function(t,e){var r=e.length;return t[r]||(t[r]=[]),t[r].push(e),t},{});return Object.keys(e).forEach(function(t){e[t]=o(e[t])}),n(e)}},{156:156,157:157}],141:[function(t,e,r){e.exports={innerReferences:"References with inner references are not allowed.",circularReference:"There appears to be a circular reference, maximum reference following exceeded."}},{}],142:[function(t,e,r){e.exports=function(t){return"_"+t}},{}],143:[function(t,e,r){function n(t,e,r){"undefined"==typeof r&&(r=5);for(var n=t,i=n,s=e,u=-1,c=0;++u<s.length;){var a=s[u];if(i=n[a],null===i||"object"!=typeof i||i.$type&&"ref"!==i.$type)break;if("ref"===i.$type){if(u+1<s.length)return{error:new Error(o.innerReferences)};if(c>=r)return{error:new Error(o.circularReference)};s=i.value,u=-1,n=t,c++}else n=i}return{node:i,refPath:s}}var o=t(141);e.exports=n},{141:141}],144:[function(t,e,r){var n=t(147);e.exports=function o(t,e,r){for(var i=t,s=!0;s&&r<e.length;++r){var u=e[r],c=typeof u;if(u&&"object"===c){var a={},h=n(u,a),f=r+1;do{var p=i[h];s=void 0!==p,s&&(s=o(p,e,f)),h=n(u,a)}while(s&&!a.done);break}i=i[u],s=void 0!==i}return s}},{147:147}],145:[function(t,e,r){e.exports={iterateKeySet:t(147),toTree:t(157),pathsComplementFromTree:t(153),pathsComplementFromLengthTree:t(152),toJsonKey:t(148).toJsonKey,isJsonKey:t(148).isJsonKey,maybeJsonKey:t(148).maybeJsonKey,hasIntersection:t(144),toPaths:t(156),isIntegerKey:t(146).isIntegerKey,maybeIntegerKey:t(146).maybeIntegerKey,collapse:t(140),followReference:t(143),optimizePathSets:t(150),pathCount:t(151),escape:t(142),unescape:t(158),materialize:t(149)}},{140:140,142:142,143:143,144:144,146:146,147:147,148:148,149:149,150:150,151:151,152:152,153:153,156:156,157:157,158:158}],146:[function(t,e,r){"use strict";function n(t){if("string"==typeof t){var e=Number(t);if(u(e)&&String(e)===t)return e}else if(u(t))return t}function o(t){if("string"==typeof t){var e=Number(t);return u(e)&&String(e)===t}return u(t)}var i=9007199254740991,s=Math.abs,u=Number.isSafeInteger||function(t){return"number"==typeof t&&t%1===0&&s(t)<=i};e.exports.isIntegerKey=o,e.exports.maybeIntegerKey=n},{}],147:[function(t,e,r){function n(t,e){var r=e.from=t.from||0,n=e.to=t.to||"number"==typeof t.length&&e.from+t.length-1||0;e.rangeOffset=e.from,e.loaded=!0,r>n&&(e.empty=!0)}function o(t,e){e.done=!1;var r=e.isObject=!(!t||"object"!=typeof t);e.isArray=r&&i(t),e.arrayOffset=0}var i=Array.isArray;e.exports=function(t,e){if(void 0===e.isArray&&o(t,e),e.isArray){var r;do{e.loaded&&e.rangeOffset>e.to&&(++e.arrayOffset,e.loaded=!1);var i=e.arrayOffset,s=t.length;if(i>=s){e.done=!0;break}var u=t[e.arrayOffset];if(null!==u&&"object"==typeof u){if(e.loaded||n(u,e),e.empty)continue;r=e.rangeOffset++}else++e.arrayOffset,r=u}while(void 0===r);return r}return e.isObject?(e.loaded||n(t,e),e.rangeOffset>e.to?void(e.done=!0):e.rangeOffset++):e.loaded?void(e.done=!0):(e.loaded=!0,t)}},{}],148:[function(t,e,r){"use strict";function n(t){if("[object Object]"===Object.prototype.toString.call(t)){var e=JSON.stringify(t,o);if("{"===e[0])return e}throw new TypeError("Only plain objects can be converted to JSON keys")}function o(t,e){return"object"!=typeof e||null===e||Array.isArray(e)?e:Object.keys(e).sort().reduce(function(t,r){return t[r]=e[r],t},{})}function i(t){if("string"==typeof t&&"{"===t[0]){var e;try{e=JSON.parse(t)}catch(r){return}if(JSON.stringify(e,o)===t)return e}}function s(t){return"undefined"!=typeof i(t)}e.exports.toJsonKey=n,e.exports.isJsonKey=s,e.exports.maybeJsonKey=i},{}],149:[function(t,e,r){"use strict";var n=t(147);e.exports=function(t,e){return t.reduceRight(function(t,e){var r={};if("object"!=typeof e||null===e)return r[e]=t,r;for(var o={},i=n(e,o);!o.done;)r[i]=t,i=n(e,o);return r},e)}},{147:147}],150:[function(t,e,r){function n(t,e,r,c,a,h,f){if(void 0===t)return void(a[a.length]=s(h,r,c));if(!(null===t||t.$type&&"ref"!==t.$type||"object"!=typeof t||"ref"===t.$type&&c===r.length)){var p=r[c],l="object"==typeof p&&null!==p,d=c+1,v=!1,_=p;l&&(v={},_=o(p,v));var b,y;do{b=t[_];var m=h.length;if(h[m]=_,b&&"ref"===b.$type&&d<r.length){var w=u(e,b.value,f);if(w.error)return w.error;b=w.node,y=i(w.refPath)}else y=h;var g=n(b,e,r,d,a,y,f);if(g)return g;h.length=m,v&&!v.done&&(_=o(p,v))}while(v&&!v.done)}}var o=t(147),i=t(155),s=t(154),u=t(143);e.exports=function(t,e,r){"undefined"==typeof r&&(r=5);for(var o=[],i=0,s=e.length;i<s;++i){var u=n(t,t,e[i],0,o,[],r);if(u)return{error:u}}return{paths:o}}},{143:143,147:147,154:154,155:155}],151:[function(t,e,r){"use strict";function n(t){if(null==t)return 1;if(Array.isArray(t))throw new Error("Unexpected Array found in keySet: "+JSON.stringify(t));return"object"==typeof t?o(t):1}function o(t){var e=t.to,r=t.length;if(null!=e){if(isNaN(e)||parseInt(e,10)!==e)throw new Error("Invalid range, 'to' is not an integer: "+JSON.stringify(t));var n=t.from||0;if(isNaN(n)||parseInt(n,10)!==n)throw new Error("Invalid range, 'from' is not an integer: "+JSON.stringify(t));return n<=e?e-n+1:0}if(null!=r){if(isNaN(r)||parseInt(r,10)!==r)throw new Error("Invalid range, 'length' is not an integer: "+JSON.stringify(t));return r}throw new Error("Invalid range, expected 'to' or 'length': "+JSON.stringify(t))}function i(t){if(0===t.length)throw new Error("All paths must have length larger than zero.");for(var e=1,r=0;r<t.length;r++){var o=t[r];if(Array.isArray(o)){for(var i=0,s=0;s<o.length;s++){var u=o[s];i+=n(u)}e*=i}else e*=n(o)}return e}e.exports=i},{}],152:[function(t,e,r){var n=t(144);e.exports=function(t,e){for(var r=[],o=-1,i=0,s=t.length;i<s;++i){var u=t[i];n(e[u.length],u,0)||(r[++o]=u)}return r}},{144:144}],153:[function(t,e,r){var n=t(144);e.exports=function(t,e){for(var r=[],o=-1,i=0,s=t.length;i<s;++i)n(e,t[i],0)||(r[++o]=t[i]);return r}},{144:144}],154:[function(t,e,r){e.exports=function(t,e,r){var n,o,i,s=[];for(n=0,i=t.length;n<i;++n)s[n]=t[n];for(o=r||0,i=e.length;o<i;++o,++n)s[n]=e[o];return s}},{}],155:[function(t,e,r){function n(t,e){for(var r=[],n=t.length,o=e||0;o<n;o++)r[o]=t[o];return r}e.exports=n},{}],156:[function(t,e,r){function n(t){return null!==t&&typeof t===l}function o(t,e,r){var n,i,s,u,f,p,l,v,_,b,y,m,w,g,x=a(String(e)),E=Object.create(null),C=[],N=-1,S=0,k=[],O=0;if(u=[],f=-1,e<r-1){for(p=c(t,u);++f<p;){n=u[f],i=o(t[n],e+1,r),s=i.code,E[s]?i=E[s]:(C[S++]=s,i=E[s]={keys:[],sets:i.sets}),x=a(x+n+s);var A=h(n);i.keys.push(typeof A===d?A:n)}for(;++N<S;)if(n=C[N],i=E[n],u=i.keys,p=u.length,p>0)for(l=i.sets,v=-1,_=l.length,w=u[0];++v<_;){for(b=l[v],y=-1,m=b.length,g=new Array(m+1),g[0]=p>1&&u||w;++y<m;)g[y+1]=b[y];k[O++]=g}}else for(p=c(t,u),p>1?k[O++]=[u]:k[O++]=u;++f<p;)x=a(x+u[f]);return{code:x,sets:k}}function i(t){for(var e=-1,r=t.length;++e<r;){var n=t[e];p(n)&&(t[e]=s(n))}return t}function s(t){for(var e=-1,r=t.length-1,n=r>0;++e<=r;){var o=t[e];if(!f(o)){n=!1;break}t[e]=parseInt(o,10)}if(n===!0){t.sort(u);var i=t[0],s=t[r];if(s-i<=r)return{from:i,to:s}}return t}function u(t,e){return t-e}function c(t,e,r){var n=0;for(var o in t)e[n++]=o;return n}function a(t){for(var e=5381,r=-1,n=t.length;++r<n;)e=(e<<5)+e+t.charCodeAt(r);return String(e)}var h=t(146).maybeIntegerKey,f=t(146).isIntegerKey,p=Array.isArray,l="object",d="number";e.exports=function(t){var e,r=[],s=0;for(var u in t){var c=h(u);if(typeof c===d&&n(e=t[u]))for(var a=o(e,0,c).sets,f=-1,p=a.length;++f<p;)r[s++]=i(a[f])}return r},e.exports._isSafeNumber=f},{146:146}],157:[function(t,e,r){function n(t,e,r){var i,s=e[r],u={},c=r+1;for(i=o(s,u);!u.done;){var a=t[i];a||(c===e.length?t[i]=null:a=t[i]={}),c<e.length&&n(a,e,c),i=o(s,u)}}var o=t(147);Array.isArray;e.exports=function(t){return t.reduce(function(t,e){return n(t,e,0),t},{})}},{147:147}],158:[function(t,e,r){e.exports=function(t){if("_"===t.slice(0,1))return t.slice(1);throw SyntaxError('Expected "_".')}},{}],159:[function(t,e,r){arguments[4][140][0].apply(r,arguments)},{140:140,172:172,173:173}],160:[function(t,e,r){arguments[4][141][0].apply(r,arguments)},{141:141}],161:[function(t,e,r){var n=t(170),o=t(171).$ref,i=t(160);e.exports=function(t,e,r){for(var s,u,c,a=t,h=e,f=-1,p=h.length,l=0;++f<p;){if(s=h[f],u=a[s],c=u&&u.$type,!u||c&&c!==o){a=u;break}if(c&&c===o&&f+1<p){var d=new Error(i.innerReferences);throw d.throwToNext=!0,d}if(f+1===p&&(c===o&&(f=-1,h=u.value,p=h.length,u=t,l++),l>r))throw new Error(i.circularReference);a=u}return[a,n(h)]}},{160:160,170:170,171:171}],162:[function(t,e,r){arguments[4][144][0].apply(r,arguments)},{144:144,164:164}],163:[function(t,e,r){e.exports={iterateKeySet:t(164),toTree:t(173),pathsComplementFromTree:t(168),pathsComplementFromLengthTree:t(167),hasIntersection:t(162),toPaths:t(172),collapse:t(159),optimizePathSets:t(165),pathCount:t(166)}},{159:159,162:162,164:164,165:165,166:166,167:167,168:168,172:172,173:173}],164:[function(t,e,r){function n(t,e){var r=e.from=t.from||0,n=e.to=t.to||"number"==typeof t.length&&e.from+t.length-1||0;e.rangeOffset=e.from,e.loaded=!0,r>n&&(e.empty=!0)}function o(t,e){e.done=!1;var r=e.isObject=!(!t||"object"!=typeof t);e.isArray=r&&i(t),e.arrayOffset=0}var i=Array.isArray;e.exports=function(t,e){if(void 0===e.isArray&&o(t,e),e.isArray){var r;do{e.loaded&&e.rangeOffset>e.to&&(++e.arrayOffset,e.loaded=!1);var i=e.arrayOffset,s=t.length;if(i>=s){e.done=!0;break}var u=t[e.arrayOffset],c=typeof u;if("object"===c){if(e.loaded||n(u,e),e.empty)continue;r=e.rangeOffset++}else++e.arrayOffset,r=u}while(void 0===r);return r}return e.isObject?(e.loaded||n(t,e),e.rangeOffset>e.to?void(e.done=!0):e.rangeOffset++):(e.done=!0,t)}},{}],165:[function(t,e,r){function n(t,e,r,u,h,f,p){if(void 0===t)return void(h[h.length]=s(f,r,u));if(!(null===t||t.$type&&t.$type!==c||"object"!=typeof t||t.$type===c&&u===r.length)){var l=r[u],d="object"==typeof l,v=u+1,_=!1,b=l;d&&(_={},b=o(l,_));var y,m;do{y=t[b];var w=f.length;if(null!==b&&(f[w]=b),y&&y.$type===c&&v<r.length){var g=a(e,y.value,p);y=g[0],m=i(g[1])}else m=f;n(y,e,r,v,h,m,p),f.length=w,_&&!_.done&&(b=o(l,_))}while(_&&!_.done)}}var o=t(164),i=t(170),s=t(169),u=t(171),c=u.$ref,a=t(161);e.exports=function(t,e,r){var o=[];return e.forEach(function(e){n(t,t,e,0,o,[],r)}),o}},{161:161,164:164,169:169,170:170,171:171}],166:[function(t,e,r){arguments[4][151][0].apply(r,arguments)},{151:151}],167:[function(t,e,r){arguments[4][152][0].apply(r,arguments)},{152:152,162:162}],168:[function(t,e,r){arguments[4][153][0].apply(r,arguments)},{153:153,162:162}],169:[function(t,e,r){arguments[4][154][0].apply(r,arguments)},{154:154}],170:[function(t,e,r){arguments[4][155][0].apply(r,arguments)},{155:155}],171:[function(t,e,r){e.exports={$ref:"ref",$atom:"atom",$error:"error"}},{}],172:[function(t,e,r){function n(t){return null!==t&&typeof t===p}function o(t,e,r){var n,i,s,u,f,p,l,d,v,_,b,y,m,w,g=a(String(e)),x=Object.create(null),E=[],C=-1,N=0,S=[],k=0;if(u=[],f=-1,e<r-1){for(p=c(t,u);++f<p;)n=u[f],i=o(t[n],e+1,r),s=i.code,x[s]?i=x[s]:(E[N++]=s,i=x[s]={keys:[],sets:i.sets}),g=a(g+n+s),h(n)&&i.keys.push(parseInt(n,10))||i.keys.push(n);for(;++C<N;)if(n=E[C],i=x[n],u=i.keys,p=u.length,p>0)for(l=i.sets,d=-1,v=l.length,m=u[0];++d<v;){for(_=l[d],b=-1,y=_.length,w=new Array(y+1),w[0]=p>1&&u||m;++b<y;)w[b+1]=_[b];S[k++]=w}}else for(p=c(t,u),p>1?S[k++]=[u]:S[k++]=u;++f<p;)g=a(g+u[f]);return{code:g,sets:S}}function i(t){for(var e=-1,r=t.length;++e<r;){var n=t[e];f(n)&&(t[e]=s(n))}return t}function s(t){for(var e=-1,r=t.length-1,n=r>0;++e<=r;){var o=t[e];if(!h(o)){n=!1;break}t[e]=parseInt(o,10)}if(n===!0){t.sort(u);var i=t[0],s=t[r];if(s-i<=r)return{from:i,to:s}}return t}function u(t,e){return t-e}function c(t,e,r){var n=0;for(var o in t)e[n++]=o;return n>1&&e.sort(r),n}function a(t){for(var e=5381,r=-1,n=t.length;++r<n;)e=(e<<5)+e+t.charCodeAt(r);return String(e)}function h(t){var e=t,r=typeof t;if(r===l){var n=t.length;if(0===n||n>b)return!1;if(!m.test(t))return!1;if(n<_)return!0;e=+t}else if(r!==d)return!1;return e%1===0&&y(e)<=v}var f=Array.isArray,p="object",l="string",d="number",v=9007199254740991,_=16,b=17,y=Math.abs,m=/^(0|(\-?[1-9][0-9]*))$/;e.exports=function(t){var e,r=[],s=0;for(var u in t)if(h(u)&&n(e=t[u]))for(var c=o(e,0,parseInt(u,10)).sets,a=-1,f=c.length;++a<f;)r[s++]=i(c[a]);return r},e.exports._isSafeNumber=h},{}],173:[function(t,e,r){function n(t,e,r){var i,s=e[r],u={},c=r+1;i=o(s,u);do{var a=t[i];a||(c===e.length?t[i]=null:a=t[i]={}),c<e.length&&n(a,e,c),u.done||(i=o(s,u))}while(!u.done)}var o=t(164);Array.isArray;e.exports=function(t){return t.reduce(function(t,e){return n(t,e,0),t},{})}},{164:164}],174:[function(e,r,n){(function(e,o){(function(i){function s(t){return t&&t.Object===Object?t:null}function u(t){for(var e=[],r=0,n=t.length;r<n;r++)e.push(t[r]);return e}function c(t){return function(){try{return t.apply(this,arguments)}catch(e){return re.e=e,re}}}function a(t){throw t}function h(t,e){if(oe&&e.stack&&"object"==typeof t&&null!==t&&t.stack&&t.stack.indexOf(ce)===-1){for(var r=[],n=e;n;n=n.source)n.stack&&r.unshift(n.stack);r.unshift(t.stack);var o=r.join("\n"+ce+"\n");t.stack=f(o)}}function f(t){for(var e=t.split("\n"),r=[],n=0,o=e.length;n<o;n++){var i=e[n];p(i)||l(i)||!i||r.push(i)}return r.join("\n")}function p(t){var e=v(t);if(!e)return!1;var r=e[0],n=e[1];return r===se&&n>=ue&&n<=Fs}function l(t){return t.indexOf("(module.js:")!==-1||t.indexOf("(node.js:")!==-1}function d(){if(oe)try{throw new Error}catch(t){var e=t.stack.split("\n"),r=e[0].indexOf("@")>0?e[1]:e[2],n=v(r);if(!n)return;return se=n[0],n[1]}}function v(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var r=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(r)return[r[1],Number(r[2])];var n=/.*@(.+):(\d+)$/.exec(t);return n?[n[1],Number(n[2])]:void 0}function _(t,e,r,n,o,s){var u=Qe(t),c=u.length,a=Qe(e),h=a.length;if(c!==h&&!n)return!1;for(var f,p=c;p--;)if(f=u[p],!(n?f in e:Be.call(e,f)))return!1;for(var l=n;++p<c;){f=u[p];var d,v=t[f],_=e[f];if(!(d===i?r(v,_,n,o,s):d))return!1;l||(l="constructor"===f)}if(!l){var b=t.constructor,y=e.constructor;if(b!==y&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y))return!1}return!0}function b(t,e,r){switch(r){case Ee:case Ce:return+t===+e;case Ne:return t.name===e.name&&t.message===e.message;case Oe:return t!==+t?e!==+e:t===+e;case je:case Pe:return t===e+""}return!1}function y(t){return!!t&&"object"==typeof t}function m(t){return"number"==typeof t&&t>-1&&t%1===0&&t<=Ue}function w(t){return y(t)&&m(t.length)&&!!Je[Ke.call(t)]}function g(t,e){for(var r=-1,n=t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function x(t,e,r,n,o,s){var u=-1,c=t.length,a=e.length;if(c!==a&&!(n&&a>c))return!1;for(;++u<c;){var h,f=t[u],p=e[u];if(h!==i){if(h)continue;return!1}if(n){if(!g(e,function(t){return f===t||r(f,t,n,o,s)}))return!1}else if(f!==p&&!r(f,p,n,o,s))return!1}return!0}function E(t,e,r,n,o,i){var s=Xe(t),u=Xe(e),c=xe,a=xe;s||(c=Ke.call(t),c===ge?c=Ae:c!==Ae&&(s=w(t))),u||(a=Ke.call(e),a===ge&&(a=Ae));var h=c===Ae&&!He(t),f=a===Ae&&!He(e),p=c===a;if(p&&!s&&!h)return b(t,e,c);if(!n){var l=h&&Be.call(t,"__wrapped__"),d=f&&Be.call(e,"__wrapped__");if(l||d)return r(l?t.value():t,d?e.value():e,n,o,i)}if(!p)return!1;o||(o=[]),i||(i=[]);for(var v=o.length;v--;)if(o[v]===t)return i[v]===e;o.push(t),i.push(e);var y=(s?x:_)(t,e,r,n,o,i);return o.pop(),i.pop(),y}function C(t,e,r,n,o){return t===e||(null==t||null==e||!st(t)&&!y(e)?t!==t&&e!==e:E(t,e,C,r,n,o))}function N(t,e){for(var r=new Array(t),n=0;n<t;n++)r[n]=e();return r}function S(t,e){this.id=t,this.value=e}function k(t,e){this.scheduler=t,this.disposable=e,this.isDisposed=!1}function O(t,e){e.isDisposed||(e.isDisposed=!0,e.disposable.dispose())}function A(t){this._s=t,this.isDisposed=!1}function j(t){this._s=t}function D(t){this._s=t,this._l=t.length,this._i=0}function P(t){this._a=t}function $(t){this._a=t,this._l=M(t),this._i=0}function q(t){return"number"==typeof t&&Bt.isFinite(t)}function T(t){var e,r=t[ve];if(!r&&"string"==typeof t)return e=new j(t),e[ve]();if(!r&&t.length!==i)return e=new P(t),e[ve]();if(!r)throw new TypeError("Object is not iterable");return t[ve]()}function R(t){var e=+t;return 0===e?e:isNaN(e)?e:e<0?-1:1}function M(t){var e=+t.length;return isNaN(e)?0:0!==e&&q(e)?(e=R(e)*Math.floor(Math.abs(e)),e<=0?0:e>bn?bn:e):e}function F(t,e){return wr(t)||(t=kr),new mn(e,t)}function V(t,e){this.observer=t,this.parent=e}function I(t,e){return t.amb(e)}function z(){return!1}function G(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e}function z(){return!1}function G(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e}function z(){return!1}function L(){return[]}function z(){return!1}function L(){return[]}function G(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e}function J(t){return function(e){return t.subscribe(e)}}function W(t){return t.toArray()}function B(t){return t.length>0}function K(t){return{"@@iterator":function(){return{next:function(){return{done:!1,value:t}}}}}}function K(t){return{"@@iterator":function(){return{next:function(){return{done:!1,value:t}}}}}}function U(t,e,r){var n=me(e,r,3);return t.map(function(e,r){var o=n(e,r,t);return te(o)&&(o=an(o)),(ye(o)||be(o))&&(o=yn(o)),o}).concatAll()}function Q(t,e,r){for(var n=0,o=t.length;n<o;n++)if(r(t[n],e))return n;return-1}function H(t){this.comparer=t,this.set=[]}function X(t,e){return function(r){for(var n=r,o=0;o<e;o++){var s=n[t[o]];if("undefined"==typeof s)return i;n=s}return n}}function Y(t){if(0===t.length)throw new ae;return t[0]}function Z(t,e,r,n){var o=me(e,r,3);return new As(function(e){return t.subscribe(new li(e,t,o,n))},t)}function tt(t){return t?Qr.isObservable(t)?t:te(t)?Qr.fromPromise(t):it(t)||ot(t)?xi.call(this,t):ee(t)?nt.call(this,t):ye(t)||be(t)?et.call(this,t):st(t)?rt.call(this,t):t:t}function et(t){return Qr.from(t).concatMap(function(t){return Qr.isObservable(t)||st(t)?tt.call(null,t):Kt.Observable.just(t)}).toArray()}function rt(t){function e(t,e){r[e]=i,o.push(t.map(function(t){r[e]=t}))}for(var r=new t.constructor,n=Object.keys(t),o=[],s=0,u=n.length;s<u;s++){var c=n[s],a=tt.call(this,t[c]);a&&Qr.isObservable(a)?e(a,c):r[c]=t[c]}return Qr.forkJoin.apply(Qr,o).map(function(){return r})}function nt(t){var e=this;return new As(function(r){t.call(e,function(){var t=arguments[0],e=arguments[1];if(t)return r.onError(t);if(arguments.length>2){for(var n=[],o=1,i=arguments.length;o<i;o++)n.push(arguments[o]);e=n}r.onNext(e),r.onCompleted()})})}function ot(t){return ee(t.next)&&ee(t["throw"])}function it(t){var e=t.constructor;return!!e&&("GeneratorFunction"===e.name||"GeneratorFunction"===e.displayName||ot(e.prototype))}function st(t){return Object==t.constructor}function ut(t,e,r,n){var o=new qs;return n.push(ct(o,e,r)),t.apply(e,n),o.asObservable()}function ct(t,e,r){return function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];if(ee(r)){if(o=ne(r).apply(e,o),o===re)return t.onError(o.e);t.onNext(o)}else o.length<=1?t.onNext(o[0]):t.onNext(o);t.onCompleted()}}function at(t,e,r,n){var o=new qs;return n.push(ht(o,e,r)),t.apply(e,n),o.asObservable()}function ht(t,e,r){return function(){var n=arguments[0];if(n)return t.onError(n);for(var o=arguments.length,i=[],s=1;s<o;s++)i[s-1]=arguments[s];if(ee(r)){var i=ne(r).apply(e,i);if(i===re)return t.onError(i.e);t.onNext(i)}else i.length<=1?t.onNext(i[0]):t.onNext(i);t.onCompleted()}}function ft(t){return Bt.StaticNodeList?t instanceof Bt.StaticNodeList||t instanceof Bt.NodeList:"[object NodeList]"===Object.prototype.toString.call(t)}function pt(t,e,r){this._e=t,this._n=e,this._fn=r,this._e.addEventListener(this._n,this._fn,!1),this.isDisposed=!1}function lt(t,e,r){var n=new or,o=Object.prototype.toString.call(t);if(ft(t)||"[object HTMLCollection]"===o)for(var i=0,s=t.length;i<s;i++)n.add(lt(t.item(i),e,r));else t&&n.add(new pt(t,e,r));return n}function dt(t,e,r){return new As(function(n){function o(t,e){if(a[e]=t,s[e]=!0,u||(u=s.every(Qt))){if(i)return n.onError(i);var o=ne(r).apply(null,a);if(o===re)return n.onError(o.e);n.onNext(o)}c&&a[1]&&n.onCompleted()}var i,s=[!1,!1],u=!1,c=!1,a=new Array(2);return new dr(t.subscribe(function(t){o(t,0)},function(t){a[1]?n.onError(t):i=t},function(){c=!0,a[1]&&n.onCompleted()}),e.subscribe(function(t){o(t,1)},function(t){n.onError(t)},function(){c=!0,o(!0,1)}))},t)}function W(t){return t.toArray()}function vt(t,e){return t.groupJoin(this,e,vn,function(t,e){return e})}function _t(t){var e=this;return new As(function(r){var n=new $s,o=new or,i=new _r(o);return r.onNext(er(n,i)),o.add(e.subscribe(function(t){n.onNext(t)},function(t){n.onError(t),r.onError(t)},function(){n.onCompleted(),r.onCompleted()})),te(t)&&(t=an(t)),o.add(t.subscribe(function(t){n.onCompleted(),n=new $s,r.onNext(er(n,i))},function(t){n.onError(t),r.onError(t)},function(){n.onCompleted(),r.onCompleted()})),i},e)}function bt(t){var e=this;return new As(function(r){function n(){var e;try{e=t()}catch(i){return void r.onError(i)}te(e)&&(e=an(e));var c=new pr;o.setDisposable(c),c.setDisposable(e.take(1).subscribe(Ut,function(t){u.onError(t),r.onError(t)},function(){u.onCompleted(),u=new $s,r.onNext(er(u,s)),n()}))}var o=new lr,i=new or(o),s=new _r(i),u=new $s;return r.onNext(er(u,s)),i.add(e.subscribe(function(t){u.onNext(t)},function(t){u.onError(t),r.onError(t)},function(){u.onCompleted(),r.onCompleted()})),n(),s},e)}function yt(t,e){return new Vi(t,e)}function G(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e}function mt(t){this.patterns=t}function wt(t,e){this.expression=t,this.selector=e}function gt(t){return function(e){t.onError(e)}}function xt(t,e){return function(){var r=ne(t.selector).apply(t,arguments);return r===re?e.onError(r.e):void e.onNext(r)}}function Et(t,e,r){var n=t.get(e);if(!n){var o=new Ki(e,r);return t.set(e,o),o}return n}function Ct(t,e,r){this.joinObserverArray=t,this.onNext=e,this.onCompleted=r,this.joinObservers=new Bi;for(var n=0,o=this.joinObserverArray.length;n<o;n++){var i=this.joinObserverArray[n];this.joinObservers.set(i,i)}}function Nt(t,e){return new Ui(t,e)}function St(t,e,r){return new As(function(n){var o=t,i=mr(e);return r.scheduleRecursiveFuture(0,o,function(t,e){if(i>0){var s=r.now();o=new Date(o.getTime()+i),o.getTime()<=s&&(o=new Date(s+i))}n.onNext(t),e(t+1,new Date(o))})})}function kt(t,e,r){return t===e?new As(function(t){return r.schedulePeriodic(0,e,function(e){return t.onNext(e),e+1})}):pn(function(){return St(new Date(r.now()+t),e,r)})}function Ot(t,e,r){return new As(function(n){var o,i=!1,s=new lr,u=null,c=[],a=!1;return o=t.materialize().timestamp(r).subscribe(function(t){var o,h;"E"===t.value.kind?(c=[],c.push(t),u=t.value.error,h=!a):(c.push({value:t.value,timestamp:t.timestamp+e}),h=!i,i=!0),h&&(null!==u?n.onError(u):(o=new pr,s.setDisposable(o),o.setDisposable(r.scheduleRecursiveFuture(null,e,function(t,e){var o,s,h,f;if(null===u){a=!0;do h=null,c.length>0&&c[0].timestamp-r.now()<=0&&(h=c.shift().value),null!==h&&h.accept(n);while(null!==h);f=!1,s=0,c.length>0?(f=!0,s=Math.max(0,c[0].timestamp-r.now())):i=!1,o=u,a=!1,null!==o?n.onError(o):f&&e(null,s)}}))))}),new dr(o,s)},t)}function At(t,e,r){return pn(function(){return Ot(t,e-r.now(),r)})}function jt(t,e,r){var n,o;return ee(e)?o=e:(n=e,o=r),new As(function(e){function r(){c.setDisposable(t.subscribe(function(t){var r=ne(o)(t);if(r===re)return e.onError(r.e);var n=new pr;s.add(n),n.setDisposable(r.subscribe(function(){e.onNext(t),s.remove(n),i()},function(t){e.onError(t)},function(){e.onNext(t),s.remove(n),i()}))},function(t){e.onError(t)},function(){u=!0,c.dispose(),i()}))}function i(){u&&0===s.length&&e.onCompleted()}var s=new or,u=!1,c=new lr;return n?c.setDisposable(n.subscribe(r,function(t){e.onError(t)},r)):r(),new dr(c,s)},t)}function Dt(t,e){return new As(function(r){var n,o=!1,i=new lr,s=0,u=t.subscribe(function(t){var u=ne(e)(t);if(u===re)return r.onError(u.e);te(u)&&(u=an(u)),o=!0,n=t,s++;var c=s,a=new pr;i.setDisposable(a),a.setDisposable(u.subscribe(function(){o&&s===c&&r.onNext(n),o=!1,a.dispose()},function(t){r.onError(t)},function(){o&&s===c&&r.onNext(n),o=!1,a.dispose()}))},function(t){i.dispose(),r.onError(t),o=!1,s++},function(){i.dispose(),o&&r.onNext(n),r.onCompleted(),o=!1,s++});return new dr(u,i)},t)}function W(t){return t.toArray()}function W(t){return t.toArray()}function Pt(t,e,r,n){return ee(e)&&(n=r,r=e,e=Cn()),Qr.isObservable(n)||(n=jn(new is)),new As(function(o){function i(t){function e(){return f=r===h}var r=h,i=new pr;c.setDisposable(i),i.setDisposable(t.subscribe(function(){e()&&u.setDisposable(n.subscribe(o)),i.dispose()},function(t){e()&&o.onError(t)},function(){e()&&u.setDisposable(n.subscribe(o))}))}function s(){var t=!f;return t&&h++,t}var u=new lr,c=new lr,a=new pr;u.setDisposable(a);var h=0,f=!1;return i(e),a.setDisposable(t.subscribe(function(t){if(s()){o.onNext(t);var e=ne(r)(t);if(e===re)return o.onError(e.e);i(te(e)?an(e):e)}},function(t){s()&&o.onError(t)},function(){s()&&o.onCompleted()})),new dr(u,c)},t)}function $t(t,e,r,n){return wr(r)&&(n=r,r=jn(new is)),r instanceof Error&&(r=jn(r)),wr(n)||(n=Pr),Qr.isObservable(r)||(r=jn(new is)),new As(function(o){function i(){var t=s;h.setDisposable(n.scheduleFuture(null,e,function(){a=s===t,a&&(te(r)&&(r=an(r)),c.setDisposable(r.subscribe(o)))}))}var s=0,u=new pr,c=new lr,a=!1,h=new lr;return c.setDisposable(u),i(),u.setDisposable(t.subscribe(function(t){a||(s++,o.onNext(t),i())},function(t){a||(s++,o.onError(t))},function(){a||(s++,o.onCompleted())})),new dr(c,h)},t)}function qt(t){return{"@@transducer/init":function(){return t},"@@transducer/step":function(t,e){return t.onNext(e)},"@@transducer/result":function(t){return t.onCompleted()}}}function Tt(t){this.predicate=t}function Rt(t){this.predicate=t}function Mt(t,e){var r=this;this.scheduler=t,this.messages=e,this.subscriptions=[],this.observers=[];for(var n=0,o=this.messages.length;n<o;n++){var i=this.messages[n],s=i.value;!function(e){t.scheduleAbsolute(null,i.time,function(){for(var t=r.observers.slice(0),n=0,o=t.length;n<o;n++)e.accept(t[n]);return cr})}(s)}}var Ft={"function":!0,object:!0},Vt=Ft[typeof n]&&n&&!n.nodeType?n:null,It=Ft[typeof r]&&r&&!r.nodeType?r:null,zt=s(Vt&&It&&"object"==typeof o&&o),Gt=s(Ft[typeof self]&&self),Lt=s(Ft[typeof window]&&window),Jt=It&&It.exports===Vt?Vt:null,Wt=s(Ft[typeof this]&&this),Bt=zt||Lt!==(Wt&&Wt.window)&&Lt||Gt||Wt||Function("return this")(),Kt={internals:{},config:{Promise:Bt.Promise},helpers:{}},Ut=Kt.helpers.noop=function(){},Qt=Kt.helpers.identity=function(t){return t},Ht=Kt.helpers.defaultNow=Date.now,Xt=Kt.helpers.defaultComparer=function(t,e){return Ye(t,e)},Yt=Kt.helpers.defaultSubComparer=function(t,e){return t>e?1:t<e?-1:0},Zt=(Kt.helpers.defaultKeySerializer=function(t){return t.toString()},Kt.helpers.defaultError=function(t){throw t}),te=Kt.helpers.isPromise=function(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then},ee=Kt.helpers.isFunction=function(){var t=function(t){return"function"==typeof t||!1};return t(/x/)&&(t=function(t){return"function"==typeof t&&"[object Function]"==toString.call(t)}),t}(),re={e:{}},ne=Kt.internals.tryCatch=function(t){if(!ee(t))throw new TypeError("fn must be a function");return c(t)};Kt.config.longStackSupport=!1;var oe=!1,ie=ne(function(){throw new Error})();oe=!!ie.e&&!!ie.e.stack;var se,ue=d(),ce="From previous event:",ae=Kt.EmptyError=function(){this.message="Sequence contains no elements.",Error.call(this)};ae.prototype=Object.create(Error.prototype),ae.prototype.name="EmptyError";var he=Kt.ObjectDisposedError=function(){this.message="Object has been disposed",Error.call(this)};he.prototype=Object.create(Error.prototype),he.prototype.name="ObjectDisposedError";var fe=Kt.ArgumentOutOfRangeError=function(){this.message="Argument out of range",Error.call(this)};fe.prototype=Object.create(Error.prototype),fe.prototype.name="ArgumentOutOfRangeError";var pe=Kt.NotSupportedError=function(t){this.message=t||"This operation is not supported",Error.call(this)};pe.prototype=Object.create(Error.prototype),pe.prototype.name="NotSupportedError";var le=Kt.NotImplementedError=function(t){this.message=t||"This operation is not implemented",Error.call(this)};le.prototype=Object.create(Error.prototype),le.prototype.name="NotImplementedError";var de=Kt.helpers.notImplemented=function(){throw new le},ve=(Kt.helpers.notSupported=function(){throw new pe},"function"==typeof Symbol&&Symbol.iterator||"_es6shim_iterator_");Bt.Set&&"function"==typeof(new Bt.Set)["@@iterator"]&&(ve="@@iterator");var _e=Kt.doneEnumerator={done:!0,value:i},be=Kt.helpers.isIterable=function(t){return t&&t[ve]!==i},ye=Kt.helpers.isArrayLike=function(t){return t&&t.length!==i};Kt.helpers.iterator=ve;var me=Kt.internals.bindCallback=function(t,e,r){if("undefined"==typeof e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}},we=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ge=(we.length,"[object Arguments]"),xe="[object Array]",Ee="[object Boolean]",Ce="[object Date]",Ne="[object Error]",Se="[object Function]",ke="[object Map]",Oe="[object Number]",Ae="[object Object]",je="[object RegExp]",De="[object Set]",Pe="[object String]",$e="[object WeakMap]",qe="[object ArrayBuffer]",Te="[object Float32Array]",Re="[object Float64Array]",Me="[object Int8Array]",Fe="[object Int16Array]",Ve="[object Int32Array]",Ie="[object Uint8Array]",ze="[object Uint8ClampedArray]",Ge="[object Uint16Array]",Le="[object Uint32Array]",Je={};Je[Te]=Je[Re]=Je[Me]=Je[Fe]=Je[Ve]=Je[Ie]=Je[ze]=Je[Ge]=Je[Le]=!0,Je[ge]=Je[xe]=Je[qe]=Je[Ee]=Je[Ce]=Je[Ne]=Je[Se]=Je[ke]=Je[Oe]=Je[Ae]=Je[je]=Je[De]=Je[Pe]=Je[$e]=!1;var We=Object.prototype,Be=We.hasOwnProperty,Ke=We.toString,Ue=Math.pow(2,53)-1,Qe=Object.keys||function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=r.length;return function(o){if("object"!=typeof o&&("function"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var i,s,u=[];for(i in o)t.call(o,i)&&u.push(i);if(e)for(s=0;s<n;s++)t.call(o,r[s])&&u.push(r[s]);return u}}(),st=Kt.internals.isObject=function(t){var e=typeof t;return!!t&&("object"===e||"function"===e)},He=function(){try{Object({toString:0}+"")}catch(t){return function(){return!1}}return function(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}}(),Xe=Array.isArray||function(t){
return y(t)&&m(t.length)&&Ke.call(t)===xe},Ye=Kt.internals.isEqual=function(t,e){return C(t,e)},Ze=({}.hasOwnProperty,Array.prototype.slice,Kt.internals.inherits=function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}),tr=Kt.internals.addProperties=function(t){for(var e=[],r=1,n=arguments.length;r<n;r++)e.push(arguments[r]);for(var o=0,i=e.length;o<i;o++){var s=e[o];for(var u in s)t[u]=s[u]}},er=Kt.internals.addRef=function(t,e){return new As(function(r){return new dr(e.getDisposable(),t.subscribe(r))})};S.prototype.compareTo=function(t){var e=this.value.compareTo(t.value);return 0===e&&(e=this.id-t.id),e};var rr=Kt.internals.PriorityQueue=function(t){this.items=new Array(t),this.length=0},nr=rr.prototype;nr.isHigherPriority=function(t,e){return this.items[t].compareTo(this.items[e])<0},nr.percolate=function(t){if(!(t>=this.length||t<0)){var e=t-1>>1;if(!(e<0||e===t)&&this.isHigherPriority(t,e)){var r=this.items[t];this.items[t]=this.items[e],this.items[e]=r,this.percolate(e)}}},nr.heapify=function(t){if(+t||(t=0),!(t>=this.length||t<0)){var e=2*t+1,r=2*t+2,n=t;if(e<this.length&&this.isHigherPriority(e,n)&&(n=e),r<this.length&&this.isHigherPriority(r,n)&&(n=r),n!==t){var o=this.items[t];this.items[t]=this.items[n],this.items[n]=o,this.heapify(n)}}},nr.peek=function(){return this.items[0].value},nr.removeAt=function(t){this.items[t]=this.items[--this.length],this.items[this.length]=i,this.heapify()},nr.dequeue=function(){var t=this.peek();return this.removeAt(0),t},nr.enqueue=function(t){var e=this.length++;this.items[e]=new S((rr.count++),t),this.percolate(e)},nr.remove=function(t){for(var e=0;e<this.length;e++)if(this.items[e].value===t)return this.removeAt(e),!0;return!1},rr.count=0;var or=Kt.CompositeDisposable=function(){var t,e,r=[];if(Array.isArray(arguments[0]))r=arguments[0];else for(e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];this.disposables=r,this.isDisposed=!1,this.length=r.length},ir=or.prototype;ir.add=function(t){this.isDisposed?t.dispose():(this.disposables.push(t),this.length++)},ir.remove=function(t){var e=!1;if(!this.isDisposed){var r=this.disposables.indexOf(t);r!==-1&&(e=!0,this.disposables.splice(r,1),this.length--,t.dispose())}return e},ir.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var t=this.disposables.length,e=new Array(t),r=0;r<t;r++)e[r]=this.disposables[r];for(this.disposables=[],this.length=0,r=0;r<t;r++)e[r].dispose()}};var sr=Kt.Disposable=function(t){this.isDisposed=!1,this.action=t||Ut};sr.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)};var ur=sr.create=function(t){return new sr(t)},cr=sr.empty={dispose:Ut},ar=sr.isDisposable=function(t){return t&&ee(t.dispose)},hr=sr.checkDisposed=function(t){if(t.isDisposed)throw new he},fr=sr._fixup=function(t){return ar(t)?t:cr},pr=Kt.SingleAssignmentDisposable=function(){this.isDisposed=!1,this.current=null};pr.prototype.getDisposable=function(){return this.current},pr.prototype.setDisposable=function(t){if(this.current)throw new Error("Disposable has already been assigned");var e=this.isDisposed;!e&&(this.current=t),e&&t&&t.dispose()},pr.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this.current;this.current=null,t&&t.dispose()}};var lr=Kt.SerialDisposable=function(){this.isDisposed=!1,this.current=null};lr.prototype.getDisposable=function(){return this.current},lr.prototype.setDisposable=function(t){var e=this.isDisposed;if(!e){var r=this.current;this.current=t}r&&r.dispose(),e&&t&&t.dispose()},lr.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this.current;this.current=null}t&&t.dispose()};var dr=Kt.BinaryDisposable=function(t,e){this._first=t,this._second=e,this.isDisposed=!1};dr.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this._first;this._first=null,t&&t.dispose();var e=this._second;this._second=null,e&&e.dispose()}};var vr=Kt.NAryDisposable=function(t){this._disposables=t,this.isDisposed=!1};vr.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var t=0,e=this._disposables.length;t<e;t++)this._disposables[t].dispose();this._disposables.length=0}};var _r=Kt.RefCountDisposable=function(){function t(t){this.disposable=t,this.disposable.count++,this.isInnerDisposed=!1}function e(t){this.underlyingDisposable=t,this.isDisposed=!1,this.isPrimaryDisposed=!1,this.count=0}return t.prototype.dispose=function(){this.disposable.isDisposed||this.isInnerDisposed||(this.isInnerDisposed=!0,this.disposable.count--,0===this.disposable.count&&this.disposable.isPrimaryDisposed&&(this.disposable.isDisposed=!0,this.disposable.underlyingDisposable.dispose()))},e.prototype.dispose=function(){this.isDisposed||this.isPrimaryDisposed||(this.isPrimaryDisposed=!0,0===this.count&&(this.isDisposed=!0,this.underlyingDisposable.dispose()))},e.prototype.getDisposable=function(){return this.isDisposed?cr:new t(this)},e}();k.prototype.dispose=function(){this.scheduler.schedule(this,O)};var br=Kt.internals.ScheduledItem=function(t,e,r,n,o){this.scheduler=t,this.state=e,this.action=r,this.dueTime=n,this.comparer=o||Yt,this.disposable=new pr};br.prototype.invoke=function(){this.disposable.setDisposable(this.invokeCore())},br.prototype.compareTo=function(t){return this.comparer(this.dueTime,t.dueTime)},br.prototype.isCancelled=function(){return this.disposable.isDisposed},br.prototype.invokeCore=function(){return fr(this.action(this.scheduler,this.state))};var yr=Kt.Scheduler=function(){function t(){}t.isScheduler=function(e){return e instanceof t};var e=t.prototype;return e.schedule=function(t,e){throw new le},e.scheduleFuture=function(e,r,n){var o=r;return o instanceof Date&&(o-=this.now()),o=t.normalize(o),0===o?this.schedule(e,n):this._scheduleFuture(e,o,n)},e._scheduleFuture=function(t,e,r){throw new le},t.now=Ht,t.prototype.now=Ht,t.normalize=function(t){return t<0&&(t=0),t},t}(),mr=yr.normalize,wr=yr.isScheduler;!function(t){function e(t,e){function r(e){function n(t,e){return s?i.remove(c):u=!0,o(e,r),cr}var s=!1,u=!1,c=t.schedule(e,n);u||(i.add(c),s=!0)}var n=e[0],o=e[1],i=new or;return o(n,r),i}function r(t,e){function r(e,n){function s(t,e){return u?i.remove(a):c=!0,o(e,r),cr}var u=!1,c=!1,a=t.scheduleFuture(e,n,s);c||(i.add(a),u=!0)}var n=e[0],o=e[1],i=new or;return o(n,r),i}t.scheduleRecursive=function(t,r){return this.schedule([t,r],e)},t.scheduleRecursiveFuture=function(t,e,n){return this.scheduleFuture([t,n],e,r)}}(yr.prototype),function(t){t.schedulePeriodic=function(t,e,r){if("undefined"==typeof Bt.setInterval)throw new pe;e=mr(e);var n=t,o=Bt.setInterval(function(){n=r(n)},e);return ur(function(){Bt.clearInterval(o)})}}(yr.prototype),function(t){t.catchError=t["catch"]=function(t){return new $r(this,t)}}(yr.prototype);var gr,xr,Er=Kt.internals.SchedulePeriodicRecursive=function(){function t(t){return function(e,r){r(0,t._period);var n=ne(t._action)(t._state);n===re&&(t._cancel.dispose(),a(n.e)),t._state=n}}function e(t,e,r,n){this._scheduler=t,this._state=e,this._period=r,this._action=n}return e.prototype.start=function(){var e=new pr;return this._cancel=e,e.setDisposable(this._scheduler.scheduleRecursiveFuture(0,this._period,t(this))),e},e}(),Cr=function(t){function e(){t.call(this)}return Ze(e,t),e.prototype.schedule=function(t,e){return fr(e(this,t))},e}(yr),Nr=yr.immediate=new Cr,Sr=function(t){function e(){for(;n.length>0;){var t=n.dequeue();!t.isCancelled()&&t.invoke()}}function r(){t.call(this)}var n;return Ze(r,t),r.prototype.schedule=function(t,r){var o=new br(this,t,r,this.now());if(n)n.enqueue(o);else{n=new rr(4),n.enqueue(o);var i=ne(e)();n=null,i===re&&a(i.e)}return o.disposable},r.prototype.scheduleRequired=function(){return!n},r}(yr),kr=yr.currentThread=new Sr,Or=function(){var t,e=Ut;if(Bt.setTimeout)t=Bt.setTimeout,e=Bt.clearTimeout;else{if(!Bt.WScript)throw new pe;t=function(t,e){Bt.WScript.Sleep(e),t()}}return{setTimeout:t,clearTimeout:e}}(),Ar=Or.setTimeout,jr=Or.clearTimeout;!function(){function t(e){if(i)Ar(function(){t(e)},0);else{var r=o[e];if(r){i=!0;var n=ne(r)();xr(e),i=!1,n===re&&a(n.e)}}}function r(){if(!Bt.postMessage||Bt.importScripts)return!1;var t=!1,e=Bt.onmessage;return Bt.onmessage=function(){t=!0},Bt.postMessage("","*"),Bt.onmessage=e,t}var n=1,o={},i=!1;xr=function(t){delete o[t]};var s=new RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),u="function"==typeof(u=zt&&Jt&&zt.setImmediate)&&!s.test(u)&&u;if(ee(u))gr=function(e){var r=n++;return o[r]=e,u(function(){t(r)}),r};else if("undefined"!=typeof e&&"[object process]"==={}.toString.call(e))gr=function(r){var i=n++;return o[i]=r,e.nextTick(function(){t(i)}),i};else if(r()){var c="ms.rx.schedule"+Math.random(),h=function(e){"string"==typeof e.data&&e.data.substring(0,c.length)===c&&t(e.data.substring(c.length))};Bt.addEventListener("message",h,!1),gr=function(t){var e=n++;return o[e]=t,Bt.postMessage(c+e,"*"),e}}else if(Bt.MessageChannel){var f=new Bt.MessageChannel;f.port1.onmessage=function(e){t(e.data)},gr=function(t){var e=n++;return o[e]=t,f.port2.postMessage(e),e}}else gr="document"in Bt&&"onreadystatechange"in Bt.document.createElement("script")?function(e){var r=Bt.document.createElement("script"),i=n++;return o[i]=e,r.onreadystatechange=function(){t(i),r.onreadystatechange=null,r.parentNode.removeChild(r),r=null},Bt.document.documentElement.appendChild(r),i}:function(e){var r=n++;return o[r]=e,Ar(function(){t(r)},0),r}}();var Dr=function(t){function e(){t.call(this)}function r(t,e,r,n){return function(){t.setDisposable(sr._fixup(e(r,n)))}}function n(t){this._id=t,this.isDisposed=!1}function o(t){this._id=t,this.isDisposed=!1}function i(t,e,r){return function(){e(t,r)}}return Ze(e,t),n.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,xr(this._id))},o.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,jr(this._id))},e.prototype.schedule=function(t,e){var o=new pr,i=gr(r(o,e,this,t));return new dr(o,new n(i))},e.prototype._scheduleFuture=function(t,e,n){if(0===e)return this.schedule(t,n);var i=new pr,s=Ar(r(i,n,this,t),e);return new dr(i,new o(s))},e.prototype.scheduleLongRunning=function(t,e){var r=ur(Ut);return gr(i(t,e,r)),r},e}(yr),Pr=yr["default"]=yr.async=new Dr,$r=function(t){function e(e,r){this._scheduler=e,this._handler=r,this._recursiveOriginal=null,this._recursiveWrapper=null,t.call(this)}return Ze(e,t),e.prototype.schedule=function(t,e){return this._scheduler.schedule(t,this._wrap(e))},e.prototype._scheduleFuture=function(t,e,r){return this._scheduler.schedule(t,e,this._wrap(r))},e.prototype.now=function(){return this._scheduler.now()},e.prototype._clone=function(t){return new e(t,this._handler)},e.prototype._wrap=function(t){var e=this;return function(r,n){var o=ne(t)(e._getRecursiveWrapper(r),n);return o===re?(e._handler(o.e)||a(o.e),cr):fr(o)}},e.prototype._getRecursiveWrapper=function(t){if(this._recursiveOriginal!==t){this._recursiveOriginal=t;var e=this._clone(t);e._recursiveOriginal=t,e._recursiveWrapper=e,this._recursiveWrapper=e}return this._recursiveWrapper},e.prototype.schedulePeriodic=function(t,e,r){var n=this,o=!1,i=new pr;return i.setDisposable(this._scheduler.schedulePeriodic(t,e,function(t){if(o)return null;var e=ne(r)(t);return e===re?(o=!0,n._handler(e.e)||a(e.e),i.dispose(),null):e})),i},e}(yr),qr=Kt.Notification=function(){function t(){}return t.prototype._accept=function(t,e,r){throw new le},t.prototype._acceptObserver=function(t,e,r){throw new le},t.prototype.accept=function(t,e,r){return t&&"object"==typeof t?this._acceptObserver(t):this._accept(t,e,r)},t.prototype.toObservable=function(t){var e=this;return wr(t)||(t=Nr),new As(function(r){return t.schedule(e,function(t,e){e._acceptObserver(r),"N"===e.kind&&r.onCompleted()})})},t}(),Tr=function(t){function e(t){this.value=t,this.kind="N"}return Ze(e,t),e.prototype._accept=function(t){return t(this.value)},e.prototype._acceptObserver=function(t){return t.onNext(this.value)},e.prototype.toString=function(){return"OnNext("+this.value+")"},e}(qr),Rr=function(t){function e(t){this.error=t,this.kind="E"}return Ze(e,t),e.prototype._accept=function(t,e){return e(this.error)},e.prototype._acceptObserver=function(t){return t.onError(this.error)},e.prototype.toString=function(){return"OnError("+this.error+")"},e}(qr),Mr=function(t){function e(){this.kind="C"}return Ze(e,t),e.prototype._accept=function(t,e,r){return r()},e.prototype._acceptObserver=function(t){return t.onCompleted()},e.prototype.toString=function(){return"OnCompleted()"},e}(qr),Fr=qr.createOnNext=function(t){return new Tr(t)},Vr=qr.createOnError=function(t){return new Rr(t)},Ir=qr.createOnCompleted=function(){return new Mr},zr=Kt.Observer=function(){};zr.prototype.toNotifier=function(){var t=this;return function(e){return e.accept(t)}},zr.prototype.asObserver=function(){var t=this;return new Wr(function(e){t.onNext(e)},function(e){t.onError(e)},function(){t.onCompleted()})},zr.prototype.checked=function(){return new Br(this)};var Gr=zr.create=function(t,e,r){return t||(t=Ut),e||(e=Zt),r||(r=Ut),new Wr(t,e,r)};zr.fromNotifier=function(t,e){var r=me(t,e,1);return new Wr(function(t){return r(Fr(t))},function(t){return r(Vr(t))},function(){return r(Ir())})},zr.prototype.notifyOn=function(t){return new Ur(t,this)},zr.prototype.makeSafe=function(t){return new AnonymousSafeObserver(this._onNext,this._onError,this._onCompleted,t)};var Lr,Jr=Kt.internals.AbstractObserver=function(t){function e(){this.isStopped=!1}return Ze(e,t),e.prototype.next=de,e.prototype.error=de,e.prototype.completed=de,e.prototype.onNext=function(t){!this.isStopped&&this.next(t)},e.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.error(t))},e.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.completed())},e.prototype.dispose=function(){this.isStopped=!0},e.prototype.fail=function(t){return!this.isStopped&&(this.isStopped=!0,this.error(t),!0)},e}(zr),Wr=Kt.AnonymousObserver=function(t){function e(e,r,n){t.call(this),this._onNext=e,this._onError=r,this._onCompleted=n}return Ze(e,t),e.prototype.next=function(t){this._onNext(t)},e.prototype.error=function(t){this._onError(t)},e.prototype.completed=function(){this._onCompleted()},e}(Jr),Br=function(t){function e(e){t.call(this),this._observer=e,this._state=0}Ze(e,t);var r=e.prototype;return r.onNext=function(t){this.checkAccess();var e=ne(this._observer.onNext).call(this._observer,t);this._state=0,e===re&&a(e.e)},r.onError=function(t){this.checkAccess();var e=ne(this._observer.onError).call(this._observer,t);this._state=2,e===re&&a(e.e)},r.onCompleted=function(){this.checkAccess();var t=ne(this._observer.onCompleted).call(this._observer);this._state=2,t===re&&a(t.e)},r.checkAccess=function(){if(1===this._state)throw new Error("Re-entrancy detected");if(2===this._state)throw new Error("Observer completed");0===this._state&&(this._state=1)},e}(zr),Kr=Kt.internals.ScheduledObserver=function(t){function e(e,r){t.call(this),this.scheduler=e,this.observer=r,this.isAcquired=!1,this.hasFaulted=!1,this.queue=[],this.disposable=new lr}function r(t,e){return function(){t.onNext(e)}}function n(t,e){return function(){t.onError(e)}}function o(t){return function(){t.onCompleted()}}function i(t,e){var r;if(!(t.queue.length>0))return void(t.isAcquired=!1);r=t.queue.shift();var n=ne(r)();return n===re?(t.queue=[],t.hasFaulted=!0,a(n.e)):void e(t)}return Ze(e,t),e.prototype.next=function(t){this.queue.push(r(this.observer,t))},e.prototype.error=function(t){this.queue.push(n(this.observer,t))},e.prototype.completed=function(){this.queue.push(o(this.observer))},e.prototype.ensureActive=function(){var t=!1;!this.hasFaulted&&this.queue.length>0&&(t=!this.isAcquired,this.isAcquired=!0),t&&this.disposable.setDisposable(this.scheduler.scheduleRecursive(this,i))},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.disposable.dispose()},e}(Jr),Ur=function(t){function e(e,r,n){t.call(this,e,r),this._cancel=n}return Ze(e,t),e.prototype.next=function(e){t.prototype.next.call(this,e),this.ensureActive()},e.prototype.error=function(e){t.prototype.error.call(this,e),this.ensureActive()},e.prototype.completed=function(){t.prototype.completed.call(this),this.ensureActive()},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._cancel&&this._cancel.dispose(),this._cancel=null},e}(Kr),Qr=Kt.Observable=function(){function t(t,e){return function(r){var n=r.onError;return r.onError=function(e){h(e,t),n.call(r,e)},e.call(t,r)}}function e(){if(Kt.config.longStackSupport&&oe){var e=this._subscribe,r=ne(a)(new Error).e;this.stack=r.stack.substring(r.stack.indexOf("\n")+1),this._subscribe=t(this,e)}}return Lr=e.prototype,e.isObservable=function(t){return t&&ee(t.subscribe)},Lr.subscribe=Lr.forEach=function(t,e,r){return this._subscribe("object"==typeof t?t:Gr(t,e,r))},Lr.subscribeOnNext=function(t,e){return this._subscribe(Gr("undefined"!=typeof e?function(r){t.call(e,r)}:t))},Lr.subscribeOnError=function(t,e){return this._subscribe(Gr(null,"undefined"!=typeof e?function(r){t.call(e,r)}:t))},Lr.subscribeOnCompleted=function(t,e){return this._subscribe(Gr(null,null,"undefined"!=typeof e?function(){t.call(e)}:t))},e}(),Hr=Kt.ObservableBase=function(t){function e(t){return t&&ee(t.dispose)?t:ee(t)?ur(t):cr}function r(t,r){var n=r[0],o=r[1],i=ne(o.subscribeCore).call(o,n);i!==re||n.fail(re.e)||a(re.e),n.setDisposable(e(i))}function n(){t.call(this)}return Ze(n,t),n.prototype._subscribe=function(t){var e=new js(t),n=[e,this];return kr.scheduleRequired()?kr.schedule(n,r):r(null,n),e},n.prototype.subscribeCore=de,n}(Qr),Xr=Kt.FlatMapObservable=function(t){function e(e,r,n,o){this.resultSelector=ee(n)?n:null,this.selector=me(ee(r)?r:function(){return r},o,3),this.source=e,t.call(this)}function r(t,e,r,n){this.i=0,this.selector=e,this.resultSelector=r,this.source=n,this.o=t,Jr.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new r(t,this.selector,this.resultSelector,this))},Ze(r,Jr),r.prototype._wrapResult=function(t,e,r){return this.resultSelector?t.map(function(t,n){return this.resultSelector(e,t,r,n)},this):t},r.prototype.next=function(t){var e=this.i++,r=ne(this.selector)(t,e,this.source);return r===re?this.o.onError(r.e):(te(r)&&(r=an(r)),(ye(r)||be(r))&&(r=Qr.from(r)),void this.o.onNext(this._wrapResult(r,t,e)))},r.prototype.error=function(t){this.o.onError(t)},r.prototype.completed=function(){this.o.onCompleted()},e}(Hr),Yr=Kt.internals.Enumerable=function(){};A.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._s.isDisposed=!0)};var Zr=function(t){function e(e){this.sources=e,t.call(this)}function r(t,e){if(!t.isDisposed){var r=ne(t.e.next).call(t.e);if(r===re)return t.o.onError(r.e);if(r.done)return t.o.onCompleted();var o=r.value;te(o)&&(o=an(o));var i=new pr;t.subscription.setDisposable(i),i.setDisposable(o.subscribe(new n(t,e)))}}function n(t,e){this._state=t,this._recurse=e,Jr.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){var e=new lr,n={isDisposed:!1,o:t,subscription:e,e:this.sources[ve]()},o=kr.scheduleRecursive(n,r);return new vr([e,o,new A(n)])},Ze(n,Jr),n.prototype.next=function(t){this._state.o.onNext(t)},n.prototype.error=function(t){this._state.o.onError(t)},n.prototype.completed=function(){this._recurse(this._state)},e}(Hr);Yr.prototype.concat=function(){return new Zr(this)};var tn=function(t){function e(e){this.sources=e,t.call(this)}function r(t,e){if(!t.isDisposed){var r=ne(t.e.next).call(t.e);if(r===re)return t.o.onError(r.e);if(r.done)return null!==t.lastError?t.o.onError(t.lastError):t.o.onCompleted();var o=r.value;te(o)&&(o=an(o));var i=new pr;t.subscription.setDisposable(i),i.setDisposable(o.subscribe(new n(t,e)))}}function n(t,e){this._state=t,this._recurse=e,Jr.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){var e=new lr,n={isDisposed:!1,e:this.sources[ve](),subscription:e,lastError:null,o:t},o=kr.scheduleRecursive(n,r);return new vr([e,o,new A(n)])},Ze(n,Jr),n.prototype.next=function(t){this._state.o.onNext(t)},n.prototype.error=function(t){this._state.lastError=t,this._recurse(this._state)},n.prototype.completed=function(){this._state.o.onCompleted()},e}(Hr);Yr.prototype.catchError=function(){return new tn(this)};var en=function(t){function e(t,e){this.v=t,this.c=null==e?-1:e}function r(t){this.v=t.v,this.l=t.c}return Ze(e,t),e.prototype[ve]=function(){return new r(this)},r.prototype.next=function(){return 0===this.l?_e:(this.l>0&&this.l--,{done:!1,value:this.v})},e}(Yr),rn=Yr.repeat=function(t,e){return new en(t,e)},nn=function(t){function e(t,e,r){this.s=t,this.fn=e?me(e,r,3):null}function r(t){this.i=-1,this.s=t.s,this.l=this.s.length,this.fn=t.fn}return Ze(e,t),e.prototype[ve]=function(){return new r(this)},r.prototype.next=function(){return++this.i<this.l?{done:!1,value:this.fn?this.fn(this.s[this.i],this.i,this.s):this.s[this.i]}:_e},e}(Yr),on=Yr.of=function(t,e,r){return new nn(t,e,r)},sn=function(t){function e(e,r){this.source=e,this._s=r,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Ur(this._s,t))},e}(Hr);Lr.observeOn=function(t){return new sn(this,t)};var un=function(t){function e(e,r){this.source=e,this._s=r,t.call(this)}function r(t,e){var r=e[0],n=e[1],o=e[2];n.setDisposable(new k(t,r.subscribe(o)))}return Ze(e,t),e.prototype.subscribeCore=function(t){var e=new pr,n=new lr;return n.setDisposable(e),e.setDisposable(this._s.schedule([this.source,n,t],r)),n},e}(Hr);Lr.subscribeOn=function(t){return new un(this,t)};var cn=function(t){function e(e,r){this._p=e,this._s=r,t.call(this)}function r(t,e){var r=e[0],n=e[1];r.onNext(n),r.onCompleted()}function n(t,e){var r=e[0],n=e[1];r.onError(n)}return Ze(e,t),e.prototype.subscribeCore=function(t){var e=new pr,o=this,i=this._p;return ee(i)&&(i=ne(i)(),i===re)?(t.onError(i.e),e):(i.then(function(n){e.setDisposable(o._s.schedule([t,n],r))},function(r){e.setDisposable(o._s.schedule([t,r],n))}),e)},e}(Hr),an=Qr.fromPromise=function(t,e){return e||(e=Pr),new cn(t,e)};Lr.toPromise=function(t){if(t||(t=Kt.config.Promise),!t)throw new pe("Promise type not provided nor in Rx.config.Promise");var e=this;return new t(function(t,r){var n;e.subscribe(function(t){n=t},r,function(){t(n)})})};var hn=function(t){function e(e){this.source=e,t.call(this)}function r(t){this.o=t,this.a=[],Jr.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new r(t))},Ze(r,Jr),r.prototype.next=function(t){this.a.push(t)},r.prototype.error=function(t){this.o.onError(t)},r.prototype.completed=function(){this.o.onNext(this.a),this.o.onCompleted()},e}(Hr);Lr.toArray=function(){return new hn(this)},Qr.create=function(t,e){return new As(t,e)};var fn=function(t){function e(e){this._f=e,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){var e=ne(this._f)();return e===re?jn(e.e).subscribe(t):(te(e)&&(e=an(e)),e.subscribe(t))},e}(Hr),pn=Qr.defer=function(t){return new fn(t)},ln=function(t){function e(e){this.scheduler=e,t.call(this)}function r(t,e){this.observer=t,this.scheduler=e}function n(t,e){return e.onCompleted(),cr}return Ze(e,t),e.prototype.subscribeCore=function(t){var e=new r(t,this.scheduler);return e.run()},r.prototype.run=function(){var t=this.observer;return this.scheduler===Nr?n(null,t):this.scheduler.schedule(t,n)},e}(Hr),dn=new ln(Nr),vn=Qr.empty=function(t){return wr(t)||(t=Nr),t===Nr?dn:new ln(t)},_n=function(t){function e(e,r,n){this._iterable=e,this._fn=r,this._scheduler=n,t.call(this)}function r(t,e,r){return function(n,o){var i=ne(e.next).call(e);if(i===re)return t.onError(i.e);if(i.done)return t.onCompleted();var s=i.value;return ee(r)&&(s=ne(r)(s,n),s===re)?t.onError(s.e):(t.onNext(s),void o(n+1))}}return Ze(e,t),e.prototype.subscribeCore=function(t){var e=Object(this._iterable),n=T(e);return this._scheduler.scheduleRecursive(0,r(t,n,this._fn))},e}(Hr),bn=Math.pow(2,53)-1;j.prototype[ve]=function(){return new D(this._s)},D.prototype[ve]=function(){return this},D.prototype.next=function(){return this._i<this._l?{done:!1,value:this._s.charAt(this._i++)}:_e},P.prototype[ve]=function(){return new $(this._a)},$.prototype[ve]=function(){return this},$.prototype.next=function(){return this._i<this._l?{done:!1,value:this._a[this._i++]}:_e};var yn=Qr.from=function(t,e,r,n){if(null==t)throw new Error("iterable cannot be null.");if(e&&!ee(e))throw new Error("mapFn when provided must be a function");if(e)var o=me(e,r,2);return wr(n)||(n=kr),new _n(t,o,n)},mn=function(t){function e(e,r){this._args=e,this._scheduler=r,t.call(this)}function r(t,e){var r=e.length;return function(n,o){n<r?(t.onNext(e[n]),o(n+1)):t.onCompleted()}}return Ze(e,t),e.prototype.subscribeCore=function(t){return this._scheduler.scheduleRecursive(0,r(t,this._args))},e}(Hr),wn=Qr.fromArray=function(t,e){return wr(e)||(e=kr),new mn(t,e)},gn=function(t){function e(e,r,n,o,i){this._initialState=e,this._cndFn=r,this._itrFn=n,this._resFn=o,this._s=i,t.call(this)}function r(t,e){if(t.first)t.first=!1;else if(t.newState=ne(t.self._itrFn)(t.newState),t.newState===re)return t.o.onError(t.newState.e);var r=ne(t.self._cndFn)(t.newState);if(r===re)return t.o.onError(r.e);if(r){var n=ne(t.self._resFn)(t.newState);if(n===re)return t.o.onError(n.e);t.o.onNext(n),e(t)}else t.o.onCompleted()}return Ze(e,t),e.prototype.subscribeCore=function(t){var e={o:t,self:this,first:!0,newState:this._initialState};return this._s.scheduleRecursive(e,r)},e}(Hr);Qr.generate=function(t,e,r,n,o){return wr(o)||(o=kr),new gn(t,e,r,n,o)},Qr.of=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return new mn(e,kr)},Qr.ofWithScheduler=function(t){for(var e=arguments.length,r=new Array(e-1),n=1;n<e;n++)r[n-1]=arguments[n];return new mn(r,t)},Qr.ofArrayChanges=function(t){if(!Array.isArray(t))throw new TypeError("Array.observe only accepts arrays.");if("function"!=typeof Array.observe&&"function"!=typeof Array.unobserve)throw new TypeError("Array.observe is not supported on your platform");return new As(function(e){function r(t){for(var r=0,n=t.length;r<n;r++)e.onNext(t[r])}return Array.observe(t,r),function(){Array.unobserve(t,r)}})},Qr.ofObjectChanges=function(t){if(null==t)throw new TypeError("object must not be null or undefined.");if("function"!=typeof Object.observe&&"function"!=typeof Object.unobserve)throw new TypeError("Object.observe is not supported on your platform");return new As(function(e){function r(t){for(var r=0,n=t.length;r<n;r++)e.onNext(t[r])}return Object.observe(t,r),function(){Object.unobserve(t,r)}})};var xn=function(t){function e(){t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return cr},e}(Hr),En=new xn,Cn=Qr.never=function(){return En},Nn=function(t){function e(e,r){this._o=e,this._keys=Object.keys(e),this._scheduler=r,t.call(this)}function r(t,e,r){return function(n,o){if(n<r.length){var i=r[n];t.onNext([i,e[i]]),o(n+1)}else t.onCompleted()}}return Ze(e,t),e.prototype.subscribeCore=function(t){return this._scheduler.scheduleRecursive(0,r(t,this._o,this._keys))},e}(Hr);Qr.pairs=function(t,e){return e||(e=kr),new Nn(t,e)};var Sn=function(t){function e(e,r,n){this.start=e,this.rangeCount=r,this.scheduler=n,t.call(this)}function r(t,e,r){return function(n,o){n<e?(r.onNext(t+n),o(n+1)):r.onCompleted()}}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.scheduler.scheduleRecursive(0,r(this.start,this.rangeCount,t))},e}(Hr);Qr.range=function(t,e,r){return wr(r)||(r=kr),new Sn(t,e,r)};var kn=function(t){function e(e,r,n){this.value=e,this.repeatCount=null==r?-1:r,this.scheduler=n,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){var e=new V(t,this);return e.run()},e}(Hr);V.prototype.run=function(){function t(t,n){return(t===-1||t>0)&&(e.onNext(r),t>0&&t--),0===t?e.onCompleted():void n(t)}var e=this.observer,r=this.parent.value;return this.parent.scheduler.scheduleRecursive(this.parent.repeatCount,t)},Qr.repeat=function(t,e,r){return wr(r)||(r=kr),new kn(t,e,r)};var On=function(t){function e(e,r){this._value=e,this._scheduler=r,t.call(this)}function r(t,e){var r=e[0],n=e[1];return n.onNext(r),n.onCompleted(),cr}return Ze(e,t),e.prototype.subscribeCore=function(t){var e=[this._value,t];return this._scheduler===Nr?r(null,e):this._scheduler.schedule(e,r)},e}(Hr),An=(Qr["return"]=Qr.just=function(t,e){return wr(e)||(e=Nr),new On(t,e)},function(t){function e(e,r){this._error=e,this._scheduler=r,t.call(this)}function r(t,e){var r=e[0],n=e[1];return n.onError(r),cr}return Ze(e,t),e.prototype.subscribeCore=function(t){var e=[this._error,t];return this._scheduler===Nr?r(null,e):this._scheduler.schedule(e,r)},e}(Hr)),jn=Qr["throw"]=function(t,e){return wr(e)||(e=Nr),new An(t,e)},Dn=function(t){function e(e,r){this._resFn=e,this._obsFn=r,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){var e=cr,r=ne(this._resFn)();if(r===re)return new dr(jn(r.e).subscribe(t),e);r&&(e=r);var n=ne(this._obsFn)(r);return n===re?new dr(jn(n.e).subscribe(t),e):new dr(n.subscribe(t),e)},e}(Hr);Qr.using=function(t,e){return new Dn(t,e)},Lr.amb=function(t){var e=this;return new As(function(r){function n(){i||(i=s,a.dispose())}function o(){i||(i=u,c.dispose())}var i,s="L",u="R",c=new pr,a=new pr;te(t)&&(t=an(t));var h=Gr(function(t){n(),i===s&&r.onNext(t)},function(t){n(),i===s&&r.onError(t)},function(){n(),i===s&&r.onCompleted()}),f=Gr(function(t){o(),i===u&&r.onNext(t)},function(t){o(),i===u&&r.onError(t)},function(){o(),i===u&&r.onCompleted()});return c.setDisposable(e.subscribe(h)),a.setDisposable(t.subscribe(f)),new dr(c,a)})},Qr.amb=function(){var t,e=Cn();if(Array.isArray(arguments[0]))t=arguments[0];else{var r=arguments.length;t=new Array(t);for(var n=0;n<r;n++)t[n]=arguments[n]}for(var n=0,r=t.length;n<r;n++)e=I(e,t[n]);return e};var Pn=function(t){function e(e,r){this.source=e,this._fn=r,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){var e=new pr,r=new lr;return r.setDisposable(e),e.setDisposable(this.source.subscribe(new $n(t,r,this._fn))),r},e}(Hr),$n=function(t){function e(e,r,n){this._o=e,this._s=r,this._fn=n,t.call(this)}return Ze(e,t),e.prototype.next=function(t){this._o.onNext(t)},e.prototype.completed=function(){return this._o.onCompleted()},e.prototype.error=function(t){var e=ne(this._fn)(t);if(e===re)return this._o.onError(e.e);te(e)&&(e=an(e));var r=new pr;this._s.setDisposable(r),r.setDisposable(e.subscribe(this._o))},e}(Jr);Lr["catch"]=function(t){return ee(t)?new Pn(this,t):qn([this,t])};var qn=Qr["catch"]=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{var e=arguments.length;t=new Array(e);for(var r=0;r<e;r++)t[r]=arguments[r]}return on(t).catchError()};Lr.combineLatest=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Array.isArray(e[0])?e[0].unshift(this):e.unshift(this),Mn.apply(this,e)};var Tn=function(t){function e(e,r){this._params=e,this._cb=r,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){for(var e=this._params.length,r=new Array(e),n={hasValue:N(e,z),hasValueAll:!1,isDone:N(e,z),values:new Array(e)},o=0;o<e;o++){var i=this._params[o],s=new pr;r[o]=s,te(i)&&(i=an(i)),s.setDisposable(i.subscribe(new Rn(t,o,this._cb,n)))}return new vr(r)},e}(Hr),Rn=function(t){function e(e,r,n,o){this._o=e,this._i=r,this._cb=n,this._state=o,t.call(this)}function r(t){return function(e,r){return r!==t}}return Ze(e,t),e.prototype.next=function(t){if(this._state.values[this._i]=t,this._state.hasValue[this._i]=!0,this._state.hasValueAll||(this._state.hasValueAll=this._state.hasValue.every(Qt))){var e=ne(this._cb).apply(null,this._state.values);if(e===re)return this._o.onError(e.e);this._o.onNext(e)}else this._state.isDone.filter(r(this._i)).every(Qt)&&this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._state.isDone[this._i]=!0,this._state.isDone.every(Qt)&&this._o.onCompleted();
},e}(Jr),Mn=Qr.combineLatest=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=ee(e[t-1])?e.pop():G;return Array.isArray(e[0])&&(e=e[0]),new Tn(e,n)};Lr.concat=function(){for(var t=[],e=0,r=arguments.length;e<r;e++)t.push(arguments[e]);return t.unshift(this),In.apply(null,t)};var Fn=function(t){function e(e,r){this._s=e,this._fn=r,t.call(this)}return Ze(e,t),e.prototype.next=function(t){this._s.o.onNext(t)},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.i++,this._fn(this._s)},e}(Jr),Vn=function(t){function e(e){this._sources=e,t.call(this)}function r(t,e){if(!t.disposable.isDisposed){if(t.i===t.sources.length)return t.o.onCompleted();var r=t.sources[t.i];te(r)&&(r=an(r));var n=new pr;t.subscription.setDisposable(n),n.setDisposable(r.subscribe(new Fn(t,e)))}}return Ze(e,t),e.prototype.subscribeCore=function(t){var e=new lr,n=ur(Ut),o={o:t,i:0,subscription:e,disposable:n,sources:this._sources},i=Nr.scheduleRecursive(o,r);return new vr([e,n,i])},e}(Hr),In=Qr.concat=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(arguments.length);for(var e=0,r=arguments.length;e<r;e++)t[e]=arguments[e]}return new Vn(t)};Lr.concatAll=function(){return this.merge(1)};var zn=function(t){function e(e,r){this.source=e,this.maxConcurrent=r,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){var e=new or;return e.add(this.source.subscribe(new Gn(t,this.maxConcurrent,e))),e},e}(Hr),Gn=function(t){function e(e,r,n){this.o=e,this.max=r,this.g=n,this.done=!1,this.q=[],this.activeCount=0,t.call(this)}function r(e,r){this.parent=e,this.sad=r,t.call(this)}return Ze(e,t),e.prototype.handleSubscribe=function(t){var e=new pr;this.g.add(e),te(t)&&(t=an(t)),e.setDisposable(t.subscribe(new r(this,e)))},e.prototype.next=function(t){this.activeCount<this.max?(this.activeCount++,this.handleSubscribe(t)):this.q.push(t)},e.prototype.error=function(t){this.o.onError(t)},e.prototype.completed=function(){this.done=!0,0===this.activeCount&&this.o.onCompleted()},Ze(r,t),r.prototype.next=function(t){this.parent.o.onNext(t)},r.prototype.error=function(t){this.parent.o.onError(t)},r.prototype.completed=function(){this.parent.g.remove(this.sad),this.parent.q.length>0?this.parent.handleSubscribe(this.parent.q.shift()):(this.parent.activeCount--,this.parent.done&&0===this.parent.activeCount&&this.parent.o.onCompleted())},e}(Jr);Lr.merge=function(t){return"number"!=typeof t?Ln(this,t):new zn(this,t)};var Ln=Qr.merge=function(){var t,e,r=[],n=arguments.length;if(arguments[0])if(wr(arguments[0]))for(t=arguments[0],e=1;e<n;e++)r.push(arguments[e]);else for(t=Nr,e=0;e<n;e++)r.push(arguments[e]);else for(t=Nr,e=1;e<n;e++)r.push(arguments[e]);return Array.isArray(r[0])&&(r=r[0]),F(t,r).mergeAll()},Jn=function(t){function e(e){this.source=e,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){var e=new or,r=new pr;return e.add(r),r.setDisposable(this.source.subscribe(new Wn(t,e))),e},e}(Hr),Wn=function(t){function e(e,r){this.o=e,this.g=r,this.done=!1,t.call(this)}function r(e,r){this.parent=e,this.sad=r,t.call(this)}return Ze(e,t),e.prototype.next=function(t){var e=new pr;this.g.add(e),te(t)&&(t=an(t)),e.setDisposable(t.subscribe(new r(this,e)))},e.prototype.error=function(t){this.o.onError(t)},e.prototype.completed=function(){this.done=!0,1===this.g.length&&this.o.onCompleted()},Ze(r,t),r.prototype.next=function(t){this.parent.o.onNext(t)},r.prototype.error=function(t){this.parent.o.onError(t)},r.prototype.completed=function(){this.parent.g.remove(this.sad),this.parent.done&&1===this.parent.g.length&&this.parent.o.onCompleted()},e}(Jr);Lr.mergeAll=function(){return new Jn(this)};var Bn=Kt.CompositeError=function(t){this.innerErrors=t,this.message="This contains multiple errors. Check the innerErrors",Error.call(this)};Bn.prototype=Object.create(Error.prototype),Bn.prototype.name="CompositeError";var Kn=function(t){function e(e){this.source=e,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){var e=new or,r=new pr,n={isStopped:!1,errors:[],o:t};return e.add(r),r.setDisposable(this.source.subscribe(new Un(e,n))),e},e}(Hr),Un=function(t){function e(e,r){this._group=e,this._state=r,t.call(this)}function r(t,e){0===e.length?t.onCompleted():1===e.length?t.onError(e[0]):t.onError(new Bn(e))}function n(e,r,n){this._inner=e,this._group=r,this._state=n,t.call(this)}return Ze(e,t),e.prototype.next=function(t){var e=new pr;this._group.add(e),te(t)&&(t=an(t)),e.setDisposable(t.subscribe(new n(e,this._group,this._state)))},e.prototype.error=function(t){this._state.errors.push(t),this._state.isStopped=!0,1===this._group.length&&r(this._state.o,this._state.errors)},e.prototype.completed=function(){this._state.isStopped=!0,1===this._group.length&&r(this._state.o,this._state.errors)},Ze(n,t),n.prototype.next=function(t){this._state.o.onNext(t)},n.prototype.error=function(t){this._state.errors.push(t),this._group.remove(this._inner),this._state.isStopped&&1===this._group.length&&r(this._state.o,this._state.errors)},n.prototype.completed=function(){this._group.remove(this._inner),this._state.isStopped&&1===this._group.length&&r(this._state.o,this._state.errors)},e}(Jr);Qr.mergeDelayError=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{var e=arguments.length;t=new Array(e);for(var r=0;r<e;r++)t[r]=arguments[r]}var n=F(null,t);return new Kn(n)},Lr.onErrorResumeNext=function(t){if(!t)throw new Error("Second observable is required");return Xn([this,t])};var Qn=function(t){function e(e){this.sources=e,t.call(this)}function r(t,e){if(t.pos<t.sources.length){var r=t.sources[t.pos++];te(r)&&(r=an(r));var n=new pr;t.subscription.setDisposable(n),n.setDisposable(r.subscribe(new Hn(t,e)))}else t.o.onCompleted()}return Ze(e,t),e.prototype.subscribeCore=function(t){var e=new lr,n={pos:0,subscription:e,o:t,sources:this.sources},o=Nr.scheduleRecursive(n,r);return new dr(e,o)},e}(Hr),Hn=function(t){function e(e,r){this._state=e,this._recurse=r,t.call(this)}return Ze(e,t),e.prototype.next=function(t){this._state.o.onNext(t)},e.prototype.error=function(){this._recurse(this._state)},e.prototype.completed=function(){this._recurse(this._state)},e}(Jr),Xn=Qr.onErrorResumeNext=function(){var t=[];if(Array.isArray(arguments[0]))t=arguments[0];else{var e=arguments.length;t=new Array(e);for(var r=0;r<e;r++)t[r]=arguments[r]}return new Qn(t)},Yn=function(t){function e(e,r){this._s=e,this._o=te(r)?an(r):r,this._open=!1,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){var e=new pr;e.setDisposable(this._s.subscribe(new Zn(t,this))),te(this._o)&&(this._o=an(this._o));var r=new pr;return r.setDisposable(this._o.subscribe(new to(t,this,r))),new dr(e,r)},e}(Hr),Zn=function(t){function e(e,r){this._o=e,this._p=r,t.call(this)}return Ze(e,t),e.prototype.next=function(t){this._p._open&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.onCompleted=function(){this._p._open&&this._o.onCompleted()},e}(Jr),to=function(t){function e(e,r,n){this._o=e,this._p=r,this._r=n,t.call(this)}return Ze(e,t),e.prototype.next=function(){this._p._open=!0,this._r.dispose()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.onCompleted=function(){this._r.dispose()},e}(Jr);Lr.skipUntil=function(t){return new Yn(this,t)};var eo=function(t){function e(e){this.source=e,t.call(this)}function r(t,e){this.o=t,this.inner=e,this.stopped=!1,this.latest=0,this.hasLatest=!1,Jr.call(this)}function n(t,e){this.parent=t,this.id=e,Jr.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){var e=new lr,n=this.source.subscribe(new r(t,e));return new dr(n,e)},Ze(r,Jr),r.prototype.next=function(t){var e=new pr,r=++this.latest;this.hasLatest=!0,this.inner.setDisposable(e),te(t)&&(t=an(t)),e.setDisposable(t.subscribe(new n(this,r)))},r.prototype.error=function(t){this.o.onError(t)},r.prototype.completed=function(){this.stopped=!0,!this.hasLatest&&this.o.onCompleted()},Ze(n,Jr),n.prototype.next=function(t){this.parent.latest===this.id&&this.parent.o.onNext(t)},n.prototype.error=function(t){this.parent.latest===this.id&&this.parent.o.onError(t)},n.prototype.completed=function(){this.parent.latest===this.id&&(this.parent.hasLatest=!1,this.parent.stopped&&this.parent.o.onCompleted())},e}(Hr);Lr["switch"]=Lr.switchLatest=function(){return new eo(this)};var ro=function(t){function e(e,r){this.source=e,this.other=te(r)?an(r):r,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return new dr(this.source.subscribe(t),this.other.subscribe(new no(t)))},e}(Hr),no=function(t){function e(e){this._o=e,t.call(this)}return Ze(e,t),e.prototype.next=function(){this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.onCompleted=Ut,e}(Jr);Lr.takeUntil=function(t){return new ro(this,t)};var oo=function(t){function e(e,r,n){this._s=e,this._ss=r,this._cb=n,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){for(var e=this._ss.length,r={hasValue:N(e,z),hasValueAll:!1,values:new Array(e)},n=this._ss.length,o=new Array(n+1),i=0;i<n;i++){var s=this._ss[i],u=new pr;te(s)&&(s=an(s)),u.setDisposable(s.subscribe(new io(t,i,r))),o[i]=u}var c=new pr;return c.setDisposable(this._s.subscribe(new so(t,this._cb,r))),o[n]=c,new vr(o)},e}(Hr),io=function(t){function e(e,r,n){this._o=e,this._i=r,this._state=n,t.call(this)}return Ze(e,t),e.prototype.next=function(t){this._state.values[this._i]=t,this._state.hasValue[this._i]=!0,this._state.hasValueAll=this._state.hasValue.every(Qt)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=Ut,e}(Jr),so=function(t){function e(e,r,n){this._o=e,this._cb=r,this._state=n,t.call(this)}return Ze(e,t),e.prototype.next=function(t){var e=[t].concat(this._state.values);if(this._state.hasValueAll){var r=ne(this._cb).apply(null,e);return r===re?this._o.onError(r.e):void this._o.onNext(r)}},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Jr);Lr.withLatestFrom=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=ee(e[t-1])?e.pop():G;return Array.isArray(e[0])&&(e=e[0]),new oo(this,e,n)};var uo=function(t){function e(e,r){this._s=e,this._cb=r,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){for(var e=this._s.length,r=new Array(e),n=N(e,z),o=N(e,L),i=0;i<e;i++){var s=this._s[i],u=new pr;r[i]=u,te(s)&&(s=an(s)),u.setDisposable(s.subscribe(new co(t,i,this,o,n)))}return new vr(r)},e}(Hr),co=function(t){function e(e,r,n,o,i){this._o=e,this._i=r,this._p=n,this._q=o,this._d=i,t.call(this)}function r(t){return t.length>0}function n(t){return t.shift()}function o(t){return function(e,r){return r!==t}}return Ze(e,t),e.prototype.next=function(t){if(this._q[this._i].push(t),this._q.every(r)){var e=this._q.map(n),i=ne(this._p._cb).apply(null,e);if(i===re)return this._o.onError(i.e);this._o.onNext(i)}else this._d.filter(o(this._i)).every(Qt)&&this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._d[this._i]=!0,this._d.every(Qt)&&this._o.onCompleted()},e}(Jr);Lr.zip=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=ee(e[t-1])?e.pop():G;Array.isArray(e[0])&&(e=e[0]);var o=this;return e.unshift(o),new uo(e,n)},Qr.zip=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];Array.isArray(e[0])&&(e=ee(e[1])?e[0].concat(e[1]):e[0]);var n=e.shift();return n.zip.apply(n,e)};var ao=function(t){function e(e,r){this.sources=e,this._cb=r,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){for(var e=this.sources,r=e.length,n=new Array(r),o={q:N(r,L),done:N(r,z),cb:this._cb,o:t},i=0;i<r;i++)!function(t){var r=e[t],i=new pr;(ye(r)||be(r))&&(r=yn(r)),n[t]=i,i.setDisposable(r.subscribe(new ho(o,t)))}(i);return new vr(n)},e}(Hr),ho=function(t){function e(e,r){this._s=e,this._i=r,t.call(this)}function r(t){return t.length>0}function n(t){return t.shift()}function o(t){return function(e,r){return r!==t}}return Ze(e,t),e.prototype.next=function(t){if(this._s.q[this._i].push(t),this._s.q.every(r)){var e=this._s.q.map(n),i=ne(this._s.cb).apply(null,e);if(i===re)return this._s.o.onError(i.e);this._s.o.onNext(i)}else this._s.done.filter(o(this._i)).every(Qt)&&this._s.o.onCompleted()},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.done[this._i]=!0,this._s.done.every(Qt)&&this._s.o.onCompleted()},e}(Jr);Lr.zipIterable=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=ee(e[t-1])?e.pop():G,o=this;return e.unshift(o),new ao(e,n)},Lr.asObservable=function(){return new As(J(this),this)},Lr.bufferWithCount=Lr.bufferCount=function(t,e){return"number"!=typeof e&&(e=t),this.windowWithCount(t,e).flatMap(W).filter(B)};var fo=function(t){function e(e){this.source=e,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new po(t))},e}(Hr),po=function(t){function e(e){this._o=e,t.call(this)}return Ze(e,t),e.prototype.next=function(t){t.accept(this._o)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Jr);Lr.dematerialize=function(){return new fo(this)};var lo=function(t){function e(e,r,n){this.source=e,this.keyFn=r,this.comparer=n,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new vo(t,this.keyFn,this.comparer))},e}(Hr),vo=function(t){function e(e,r,n){this.o=e,this.keyFn=r,this.comparer=n,this.hasCurrentKey=!1,this.currentKey=null,t.call(this)}return Ze(e,t),e.prototype.next=function(t){var e,r=t;return ee(this.keyFn)&&(r=ne(this.keyFn)(t),r===re)?this.o.onError(r.e):this.hasCurrentKey&&(e=ne(this.comparer)(this.currentKey,r),e===re)?this.o.onError(e.e):void(this.hasCurrentKey&&e||(this.hasCurrentKey=!0,this.currentKey=r,this.o.onNext(t)))},e.prototype.error=function(t){this.o.onError(t)},e.prototype.completed=function(){this.o.onCompleted()},e}(Jr);Lr.distinctUntilChanged=function(t,e){return e||(e=Xt),new lo(this,t,e)};var _o=function(t){function e(e,r,n,o){this.source=e,this._oN=r,this._oE=n,this._oC=o,t.call(this)}function r(t,e){this.o=t,this.t=!e._oN||ee(e._oN)?Gr(e._oN||Ut,e._oE||Ut,e._oC||Ut):e._oN,this.isStopped=!1,Jr.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new r(t,this))},Ze(r,Jr),r.prototype.next=function(t){var e=ne(this.t.onNext).call(this.t,t);e===re&&this.o.onError(e.e),this.o.onNext(t)},r.prototype.error=function(t){var e=ne(this.t.onError).call(this.t,t);return e===re?this.o.onError(e.e):void this.o.onError(t)},r.prototype.completed=function(){var t=ne(this.t.onCompleted).call(this.t);return t===re?this.o.onError(t.e):void this.o.onCompleted()},e}(Hr);Lr["do"]=Lr.tap=Lr.doAction=function(t,e,r){return new _o(this,t,e,r)},Lr.doOnNext=Lr.tapOnNext=function(t,e){return this.tap("undefined"!=typeof e?function(r){t.call(e,r)}:t)},Lr.doOnError=Lr.tapOnError=function(t,e){return this.tap(Ut,"undefined"!=typeof e?function(r){t.call(e,r)}:t)},Lr.doOnCompleted=Lr.tapOnCompleted=function(t,e){return this.tap(Ut,null,"undefined"!=typeof e?function(){t.call(e)}:t)};var bo=function(t){function e(e,r,n){this.source=e,this._fn=me(r,n,0),t.call(this)}function r(t,e){this.isDisposed=!1,this._s=t,this._fn=e}return Ze(e,t),e.prototype.subscribeCore=function(t){var e=ne(this.source.subscribe).call(this.source,t);return e===re&&(this._fn(),a(e.e)),new r(e,this._fn)},r.prototype.dispose=function(){if(!this.isDisposed){var t=ne(this._s.dispose).call(this._s);this._fn(),t===re&&a(t.e)}},e}(Hr);Lr["finally"]=function(t,e){return new bo(this,t,e)};var yo=function(t){function e(e){this.source=e,t.call(this)}function r(t){this.o=t,this.isStopped=!1}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new r(t))},r.prototype.onNext=Ut,r.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},r.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},r.prototype.dispose=function(){this.isStopped=!0},r.prototype.fail=function(t){return!this.isStopped&&(this.isStopped=!0,this.observer.onError(t),!0)},e}(Hr);Lr.ignoreElements=function(){return new yo(this)};var mo=function(t){function e(e,r){this.source=e,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new wo(t))},e}(Hr),wo=function(t){function e(e){this._o=e,t.call(this)}return Ze(e,t),e.prototype.next=function(t){this._o.onNext(Fr(t))},e.prototype.error=function(t){this._o.onNext(Vr(t)),this._o.onCompleted()},e.prototype.completed=function(){this._o.onNext(Ir()),this._o.onCompleted()},e}(Jr);Lr.materialize=function(){return new mo(this)},Lr.repeat=function(t){return rn(this,t).concat()},Lr.retry=function(t){return rn(this,t).catchError()};var go=function(t){function e(t){return{isDisposed:!1,dispose:function(){this.isDisposed||(this.isDisposed=!0,t.isDisposed=!0)}}}function r(e,r){this.source=e,this._notifier=r,t.call(this)}return Ze(r,t),r.prototype.subscribeCore=function(t){var r,n=new $s,o=new $s,i=this._notifier(n),s=i.subscribe(o),u=this.source["@@iterator"](),c={isDisposed:!1},a=new lr,h=kr.scheduleRecursive(null,function(e,i){if(!c.isDisposed){var s=u.next();if(s.done)return void(r?t.onError(r):t.onCompleted());var h=s.value;te(h)&&(h=an(h));var f=new pr,p=new pr;a.setDisposable(new dr(p,f)),f.setDisposable(h.subscribe(function(e){t.onNext(e)},function(e){p.setDisposable(o.subscribe(i,function(e){t.onError(e)},function(){t.onCompleted()})),n.onNext(e),f.dispose()},function(){t.onCompleted()}))}});return new vr([s,a,h,e(c)])},r}(Hr);Lr.retryWhen=function(t){return new go(K(this),t)};var xo=function(t){function e(t){return{isDisposed:!1,dispose:function(){this.isDisposed||(this.isDisposed=!0,t.isDisposed=!0)}}}function r(e,r){this.source=e,this._notifier=r,t.call(this)}return Ze(r,t),r.prototype.subscribeCore=function(t){var r,n=new $s,o=new $s,i=this._notifier(n),s=i.subscribe(o),u=this.source["@@iterator"](),c={isDisposed:!1},a=new lr,h=kr.scheduleRecursive(null,function(e,i){if(!c.isDisposed){var s=u.next();if(s.done)return void(r?t.onError(r):t.onCompleted());var h=s.value;te(h)&&(h=an(h));var f=new pr,p=new pr;a.setDisposable(new dr(p,f)),f.setDisposable(h.subscribe(function(e){t.onNext(e)},function(e){t.onError(e)},function(){p.setDisposable(o.subscribe(i,function(e){t.onError(e)},function(){t.onCompleted()})),n.onNext(null),f.dispose()}))}});return new vr([s,a,h,e(c)])},r}(Hr);Lr.repeatWhen=function(t){return new xo(K(this),t)};var Eo=function(t){function e(e,r,n,o){this.source=e,this.accumulator=r,this.hasSeed=n,this.seed=o,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Co(t,this))},e}(Hr),Co=function(t){function e(e,r){this._o=e,this._p=r,this._fn=r.accumulator,this._hs=r.hasSeed,this._s=r.seed,this._ha=!1,this._a=null,this._hv=!1,this._i=0,t.call(this)}return Ze(e,t),e.prototype.next=function(t){return!this._hv&&(this._hv=!0),this._ha?this._a=ne(this._fn)(this._a,t,this._i,this._p):(this._a=this._hs?ne(this._fn)(this._s,t,this._i,this._p):t,this._ha=!0),this._a===re?this._o.onError(this._a.e):(this._o.onNext(this._a),void this._i++)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){!this._hv&&this._hs&&this._o.onNext(this._s),this._o.onCompleted()},e}(Jr);Lr.scan=function(){var t,e=!1,r=arguments[0];return 2===arguments.length&&(e=!0,t=arguments[1]),new Eo(this,r,e,t)};var No=function(t){function e(e,r){this.source=e,this._c=r,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new So(t,this._c))},e}(Hr),So=function(t){function e(e,r){this._o=e,this._c=r,this._q=[],t.call(this)}return Ze(e,t),e.prototype.next=function(t){this._q.push(t),this._q.length>this._c&&this._o.onNext(this._q.shift())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Jr);Lr.skipLast=function(t){if(t<0)throw new fe;return new No(this,t)},Lr.startWith=function(){var t,e=0;arguments.length&&wr(arguments[0])?(t=arguments[0],e=1):t=Nr;for(var r=[],n=e,o=arguments.length;n<o;n++)r.push(arguments[n]);return In.apply(null,[wn(r,t),this])};var ko=function(t){function e(e,r){this._o=e,this._c=r,this._q=[],t.call(this)}return Ze(e,t),e.prototype.next=function(t){this._q.push(t),this._q.length>this._c&&this._q.shift()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){for(;this._q.length>0;)this._o.onNext(this._q.shift());this._o.onCompleted()},e}(Jr);Lr.takeLast=function(t){if(t<0)throw new fe;var e=this;return new As(function(r){return e.subscribe(new ko(r,t))},e)};var Oo=function(t){function e(e,r){this._o=e,this._c=r,this._q=[],t.call(this)}return Ze(e,t),e.prototype.next=function(t){this._q.push(t),this._q.length>this._c&&this._q.shift()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._q),this._o.onCompleted()},e}(Jr);Lr.takeLastBuffer=function(t){if(t<0)throw new fe;var e=this;return new As(function(r){return e.subscribe(new Oo(r,t))},e)},Lr.windowWithCount=Lr.windowCount=function(t,e){var r=this;if(+t||(t=0),Math.abs(t)===1/0&&(t=0),t<=0)throw new fe;if(null==e&&(e=t),+e||(e=0),Math.abs(e)===1/0&&(e=0),e<=0)throw new fe;return new As(function(n){function o(){var t=new $s;c.push(t),n.onNext(er(t,s))}var i=new pr,s=new _r(i),u=0,c=[];return o(),i.setDisposable(r.subscribe(function(r){for(var n=0,i=c.length;n<i;n++)c[n].onNext(r);var s=u-t+1;s>=0&&s%e===0&&c.shift().onCompleted(),++u%e===0&&o()},function(t){for(;c.length>0;)c.shift().onError(t);n.onError(t)},function(){for(;c.length>0;)c.shift().onCompleted();n.onCompleted()})),s},r)},Lr.selectConcat=Lr.concatMap=function(t,e,r){return ee(t)&&ee(e)?this.concatMap(function(r,n){var o=t(r,n);return te(o)&&(o=an(o)),(ye(o)||be(o))&&(o=yn(o)),o.map(function(t,o){return e(r,t,n,o)})}):ee(t)?U(this,t,r):U(this,function(){return t})},Lr.concatMapObserver=Lr.selectConcatObserver=function(t,e,r,n){var o=this,i=me(t,n,2),s=me(e,n,1),u=me(r,n,0);return new As(function(t){var e=0;return o.subscribe(function(r){var n;try{n=i(r,e++)}catch(o){return void t.onError(o)}te(n)&&(n=an(n)),t.onNext(n)},function(e){var r;try{r=s(e)}catch(n){return void t.onError(n)}te(r)&&(r=an(r)),t.onNext(r),t.onCompleted()},function(){var e;try{e=u()}catch(r){return void t.onError(r)}te(e)&&(e=an(e)),t.onNext(e),t.onCompleted()})},this).concatAll()};var Ao=function(t){function e(e,r){this._o=e,this._d=r,this._f=!1,t.call(this)}return Ze(e,t),e.prototype.next=function(t){this._f=!0,this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){!this._f&&this._o.onNext(this._d),this._o.onCompleted()},e}(Jr);Lr.defaultIfEmpty=function(t){var e=this;return t===i&&(t=null),new As(function(r){return e.subscribe(new Ao(r,t))},e)},H.prototype.push=function(t){var e=Q(this.set,t,this.comparer)===-1;return e&&this.set.push(t),e};var jo=function(t){function e(e,r,n){this.source=e,this._keyFn=r,this._cmpFn=n,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Do(t,this._keyFn,this._cmpFn))},e}(Hr),Do=function(t){function e(e,r,n){this._o=e,this._keyFn=r,this._h=new H(n),t.call(this)}return Ze(e,t),e.prototype.next=function(t){var e=t;return ee(this._keyFn)&&(e=ne(this._keyFn)(t),e===re)?this._o.onError(e.e):void(this._h.push(e)&&this._o.onNext(t))},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Jr);Lr.distinct=function(t,e){return e||(e=Xt),new jo(this,t,e)},Lr.groupBy=function(t,e){return this.groupByUntil(t,e,Cn)},Lr.groupByUntil=function(t,e,r){var n=this;return new As(function(o){var s=new Bi,u=new or,c=new _r(u),a=function(t){return function(e){e.onError(t)}};return u.add(n.subscribe(function(n){var h=ne(t)(n);if(h===re)return s.forEach(a(h.e)),o.onError(h.e);var f=!1,p=s.get(h);if(p===i&&(p=new $s,s.set(h,p),f=!0),f){var l=new Ps(h,p,c),d=new Ps(h,p),v=ne(r)(d);if(v===re)return s.forEach(a(v.e)),o.onError(v.e);o.onNext(l);var _=new pr;u.add(_),_.setDisposable(v.take(1).subscribe(Ut,function(t){s.forEach(a(t)),o.onError(t)},function(){s["delete"](h)&&p.onCompleted(),u.remove(_)}))}var b=n;return ee(e)&&(b=ne(e)(n),b===re)?(s.forEach(a(b.e)),o.onError(b.e)):void p.onNext(b)},function(t){s.forEach(a(t)),o.onError(t)},function(){s.forEach(function(t){t.onCompleted()}),o.onCompleted()})),c},n)};var Po=function(t){function e(e,r,n){this.source=e,this.selector=me(r,n,3),t.call(this)}function r(t,e){return function(r,n,o){return t.call(this,e.selector(r,n,o),n,o)}}function n(t,e,r){this.o=t,this.selector=e,this.source=r,this.i=0,Jr.call(this)}return Ze(e,t),e.prototype.internalMap=function(t,n){return new e(this.source,r(t,this),n)},e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this.selector,this))},Ze(n,Jr),n.prototype.next=function(t){var e=ne(this.selector)(t,this.i++,this.source);return e===re?this.o.onError(e.e):void this.o.onNext(e)},n.prototype.error=function(t){this.o.onError(t)},n.prototype.completed=function(){this.o.onCompleted()},e}(Hr);Lr.map=Lr.select=function(t,e){var r="function"==typeof t?t:function(){return t};return this instanceof Po?this.internalMap(r,e):new Po(this,r,e)},Lr.pluck=function(){var t=arguments.length,e=new Array(t);if(0===t)throw new Error("List of properties cannot be empty.");for(var r=0;r<t;r++)e[r]=arguments[r];return this.map(X(e,t))},Lr.flatMap=Lr.selectMany=Lr.mergeMap=function(t,e,r){return new Xr(this,t,e,r).mergeAll()},Lr.flatMapObserver=Lr.selectManyObserver=function(t,e,r,n){var o=this;return new As(function(i){var s=0;return o.subscribe(function(e){var r;try{r=t.call(n,e,s++)}catch(o){return void i.onError(o)}te(r)&&(r=an(r)),i.onNext(r)},function(t){var r;try{r=e.call(n,t)}catch(o){return void i.onError(o)}te(r)&&(r=an(r)),i.onNext(r),i.onCompleted()},function(){var t;try{t=r.call(n)}catch(e){return void i.onError(e)}te(t)&&(t=an(t)),i.onNext(t),i.onCompleted()})},o).mergeAll()},Lr.flatMapLatest=Lr.switchMap=function(t,e,r){return new Xr(this,t,e,r).switchLatest()};var $o=function(t){function e(e,r){this.source=e,this._count=r,t.call(this)}function r(t,e){this._o=t,this._r=e,Jr.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new r(t,this._count))},Ze(r,Jr),r.prototype.next=function(t){this._r<=0?this._o.onNext(t):this._r--},r.prototype.error=function(t){this._o.onError(t)},r.prototype.completed=function(){this._o.onCompleted()},e}(Hr);Lr.skip=function(t){if(t<0)throw new fe;return new $o(this,t)};var qo=function(t){function e(e,r){this.source=e,this._fn=r,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new To(t,this))},e}(Hr),To=function(t){function e(e,r){this._o=e,this._p=r,this._i=0,this._r=!1,t.call(this)}return Ze(e,t),e.prototype.next=function(t){if(!this._r){var e=ne(this._p._fn)(t,this._i++,this._p);if(e===re)return this._o.onError(e.e);this._r=!e}this._r&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Jr);Lr.skipWhile=function(t,e){var r=me(t,e,3);return new qo(this,r)};var Ro=function(t){function e(e,r){this.source=e,this._count=r,t.call(this)}function r(t,e){this._o=t,this._c=e,this._r=e,Jr.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new r(t,this._count))},Ze(r,Jr),r.prototype.next=function(t){this._r-- >0&&(this._o.onNext(t),this._r<=0&&this._o.onCompleted())},r.prototype.error=function(t){this._o.onError(t)},r.prototype.completed=function(){this._o.onCompleted()},e}(Hr);Lr.take=function(t,e){if(t<0)throw new fe;return 0===t?vn(e):new Ro(this,t)};var Mo=function(t){function e(e,r){this.source=e,this._fn=r,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Fo(t,this))},e}(Hr),Fo=function(t){function e(e,r){this._o=e,this._p=r,this._i=0,this._r=!0,t.call(this)}return Ze(e,t),e.prototype.next=function(t){return this._r&&(this._r=ne(this._p._fn)(t,this._i++,this._p),this._r===re)?this._o.onError(this._r.e):void(this._r?this._o.onNext(t):this._o.onCompleted())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Jr);Lr.takeWhile=function(t,e){var r=me(t,e,3);return new Mo(this,r)};var Vo=function(t){function e(e,r,n){this.source=e,this.predicate=me(r,n,3),t.call(this)}function r(t,e){return function(r,n,o){return e.predicate(r,n,o)&&t.call(this,r,n,o)}}function n(t,e,r){this.o=t,this.predicate=e,this.source=r,this.i=0,Jr.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this.predicate,this))},e.prototype.internalFilter=function(t,n){return new e(this.source,r(t,this),n)},Ze(n,Jr),n.prototype.next=function(t){var e=ne(this.predicate)(t,this.i++,this.source);return e===re?this.o.onError(e.e):void(e&&this.o.onNext(t))},n.prototype.error=function(t){this.o.onError(t)},n.prototype.completed=function(){this.o.onCompleted()},e}(Hr);Lr.filter=Lr.where=function(t,e){return this instanceof Vo?this.internalFilter(t,e):new Vo(this,t,e)};var Io=function(t){function e(e,r,n){this.source=e,this._k=r,this._c=n,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new zo(t,this._k,this._c))},e}(Hr),zo=function(t){function e(e,r,n){this._o=e,this._k=r,this._c=n,this._v=null,this._hv=!1,this._l=[],t.call(this)}return Ze(e,t),e.prototype.next=function(t){var e=ne(this._k)(t);if(e===re)return this._o.onError(e.e);var r=0;if(this._hv){if(r=ne(this._c)(e,this._v),r===re)return this._o.onError(r.e)}else this._hv=!0,this._v=e;r>0&&(this._v=e,this._l=[]),r>=0&&this._l.push(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._l),this._o.onCompleted()},e}(Jr),Go=function(t){function e(e,r,n,o){this.source=e,this.accumulator=r,this.hasSeed=n,this.seed=o,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Lo(t,this))},e}(Hr),Lo=function(t){function e(e,r){this._o=e,this._p=r,this._fn=r.accumulator,this._hs=r.hasSeed,this._s=r.seed,this._ha=!1,this._a=null,this._hv=!1,this._i=0,t.call(this)}return Ze(e,t),e.prototype.next=function(t){return!this._hv&&(this._hv=!0),this._ha?this._a=ne(this._fn)(this._a,t,this._i,this._p):(this._a=this._hs?ne(this._fn)(this._s,t,this._i,this._p):t,this._ha=!0),this._a===re?this._o.onError(this._a.e):void this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._hv&&this._o.onNext(this._a),!this._hv&&this._hs&&this._o.onNext(this._s),!this._hv&&!this._hs&&this._o.onError(new ae),this._o.onCompleted()},e}(Jr);Lr.reduce=function(){var t,e=!1,r=arguments[0];return 2===arguments.length&&(e=!0,t=arguments[1]),new Go(this,r,e,t)};var Jo=function(t){function e(e,r){this.source=e,this._fn=r,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Wo(t,this._fn,this.source))},e}(Hr),Wo=function(t){function e(e,r,n){this._o=e,this._fn=r,this._s=n,this._i=0,t.call(this)}return Ze(e,t),e.prototype.next=function(t){var e=ne(this._fn)(t,this._i++,this._s);return e===re?this._o.onError(e.e):void(Boolean(e)&&(this._o.onNext(!0),this._o.onCompleted()))},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(!1),this._o.onCompleted()},e}(Jr);Lr.some=function(t,e){var r=me(t,e,3);return new Jo(this,r)};var Bo=function(t){
function e(e){this.source=e,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Ko(t))},e}(Hr),Ko=function(t){function e(e){this._o=e,t.call(this)}return Ze(e,t),e.prototype.next=function(){this._o.onNext(!1),this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(!0),this._o.onCompleted()},e}(Jr);Lr.isEmpty=function(){return new Bo(this)};var Uo=function(t){function e(e,r){this.source=e,this._fn=r,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Qo(t,this._fn,this.source))},e}(Hr),Qo=function(t){function e(e,r,n){this._o=e,this._fn=r,this._s=n,this._i=0,t.call(this)}return Ze(e,t),e.prototype.next=function(t){var e=ne(this._fn)(t,this._i++,this._s);return e===re?this._o.onError(e.e):void(Boolean(e)||(this._o.onNext(!1),this._o.onCompleted()))},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(!0),this._o.onCompleted()},e}(Jr);Lr.every=function(t,e){var r=me(t,e,3);return new Uo(this,r)};var Ho=function(t){function e(e,r,n){var o=+n||0;Math.abs(o)===1/0&&(o=0),this.source=e,this._elem=r,this._n=o,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this._n<0?(t.onNext(!1),t.onCompleted(),cr):this.source.subscribe(new Xo(t,this._elem,this._n))},e}(Hr),Xo=function(t){function e(e,r,n){this._o=e,this._elem=r,this._n=n,this._i=0,t.call(this)}function r(t,e){return 0===t&&0===e||t===e||isNaN(t)&&isNaN(e)}return Ze(e,t),e.prototype.next=function(t){this._i++>=this._n&&r(t,this._elem)&&(this._o.onNext(!0),this._o.onCompleted())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(!1),this._o.onCompleted()},e}(Jr);Lr.includes=function(t,e){return new Ho(this,t,e)};var Yo=function(t){function e(e,r){this.source=e,this._fn=r,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Zo(t,this._fn,this.source))},e}(Hr),Zo=function(t){function e(e,r,n){this._o=e,this._fn=r,this._s=n,this._i=0,this._c=0,t.call(this)}return Ze(e,t),e.prototype.next=function(t){if(this._fn){var e=ne(this._fn)(t,this._i++,this._s);if(e===re)return this._o.onError(e.e);Boolean(e)&&this._c++}else this._c++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._c),this._o.onCompleted()},e}(Jr);Lr.count=function(t,e){var r=me(t,e,3);return new Yo(this,r)};var ti=function(t){function e(e,r,n){this.source=e,this._e=r,this._n=n,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this._n<0?(t.onNext(-1),t.onCompleted(),cr):this.source.subscribe(new ei(t,this._e,this._n))},e}(Hr),ei=function(t){function e(e,r,n){this._o=e,this._e=r,this._n=n,this._i=0,t.call(this)}return Ze(e,t),e.prototype.next=function(t){this._i>=this._n&&t===this._e&&(this._o.onNext(this._i),this._o.onCompleted()),this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(-1),this._o.onCompleted()},e}(Jr);Lr.indexOf=function(t,e){var r=+e||0;return Math.abs(r)===1/0&&(r=0),new ti(this,t,r)};var ri=function(t){function e(e,r){this.source=e,this._fn=r,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new ni(t,this._fn,this.source))},e}(Hr),ni=function(t){function e(e,r,n){this._o=e,this._fn=r,this._s=n,this._i=0,this._c=0,t.call(this)}return Ze(e,t),e.prototype.next=function(t){if(this._fn){var e=ne(this._fn)(t,this._i++,this._s);if(e===re)return this._o.onError(e.e);this._c+=e}else this._c+=t},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._c),this._o.onCompleted()},e}(Jr);Lr.sum=function(t,e){var r=me(t,e,3);return new ri(this,r)},Lr.minBy=function(t,e){return e||(e=Yt),new Io(this,t,function(t,r){return e(t,r)*-1})},Lr.min=function(t){return this.minBy(Qt,t).map(Y)},Lr.maxBy=function(t,e){return e||(e=Yt),new Io(this,t,e)},Lr.max=function(t){return this.maxBy(Qt,t).map(Y)};var oi=function(t){function e(e,r){this.source=e,this._fn=r,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new ii(t,this._fn,this.source))},e}(Hr),ii=function(t){function e(e,r,n){this._o=e,this._fn=r,this._s=n,this._c=0,this._t=0,t.call(this)}return Ze(e,t),e.prototype.next=function(t){if(this._fn){var e=ne(this._fn)(t,this._c++,this._s);if(e===re)return this._o.onError(e.e);this._t+=e}else this._c++,this._t+=t},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){return 0===this._c?this._o.onError(new ae):(this._o.onNext(this._t/this._c),void this._o.onCompleted())},e}(Jr);Lr.average=function(t,e){var r,n=this;return ee(t)&&(r=me(t,e,3)),new oi(n,r)},Lr.sequenceEqual=function(t,e){var r=this;return e||(e=Xt),new As(function(n){var o=!1,i=!1,s=[],u=[],c=r.subscribe(function(t){if(u.length>0){var r=u.shift(),o=ne(e)(r,t);if(o===re)return n.onError(o.e);o||(n.onNext(!1),n.onCompleted())}else i?(n.onNext(!1),n.onCompleted()):s.push(t)},function(t){n.onError(t)},function(){o=!0,0===s.length&&(u.length>0?(n.onNext(!1),n.onCompleted()):i&&(n.onNext(!0),n.onCompleted()))});(ye(t)||be(t))&&(t=yn(t)),te(t)&&(t=an(t));var a=t.subscribe(function(t){if(s.length>0){var r=s.shift(),i=ne(e)(r,t);if(i===re)return n.onError(i.e);i||(n.onNext(!1),n.onCompleted())}else o?(n.onNext(!1),n.onCompleted()):u.push(t)},function(t){n.onError(t)},function(){i=!0,0===u.length&&(s.length>0?(n.onNext(!1),n.onCompleted()):o&&(n.onNext(!0),n.onCompleted()))});return new dr(c,a)},r)};var si=function(t){function e(e,r,n){this.source=e,this._i=r,this._d=n,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new ui(t,this._i,this._d))},e}(Hr),ui=function(t){function e(e,r,n){this._o=e,this._i=r,this._d=n,t.call(this)}return Ze(e,t),e.prototype.next=function(t){0===this._i--&&(this._o.onNext(t),this._o.onCompleted())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._d===i?this._o.onError(new fe):(this._o.onNext(this._d),this._o.onCompleted())},e}(Jr);Lr.elementAt=function(t,e){if(t<0)throw new fe;return new si(this,t,e)};var ci=function(t){function e(e,r,n){this._o=e,this._obj=r,this._s=n,this._i=0,this._hv=!1,this._v=null,t.call(this)}return Ze(e,t),e.prototype.next=function(t){var e=!1;if(this._obj.predicate){var r=ne(this._obj.predicate)(t,this._i++,this._s);if(r===re)return this._o.onError(r.e);Boolean(r)&&(e=!0)}else this._obj.predicate||(e=!0);if(e){if(this._hv)return this._o.onError(new Error("Sequence contains more than one matching element"));this._hv=!0,this._v=t}},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._hv?(this._o.onNext(this._v),this._o.onCompleted()):this._obj.defaultValue===i?this._o.onError(new ae):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},e}(Jr);Lr.single=function(t,e){var r={},n=this;if(r="object"==typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},ee(r.predicate)){var o=r.predicate;r.predicate=me(o,r.thisArg,3)}return new As(function(t){return n.subscribe(new ci(t,r,n))},n)};var ai=function(t){function e(e,r){this.source=e,this._obj=r,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new hi(t,this._obj,this.source))},e}(Hr),hi=function(t){function e(e,r,n){this._o=e,this._obj=r,this._s=n,this._i=0,t.call(this)}return Ze(e,t),e.prototype.next=function(t){if(this._obj.predicate){var e=ne(this._obj.predicate)(t,this._i++,this._s);if(e===re)return this._o.onError(e.e);Boolean(e)&&(this._o.onNext(t),this._o.onCompleted())}else this._obj.predicate||(this._o.onNext(t),this._o.onCompleted())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._obj.defaultValue===i?this._o.onError(new ae):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},e}(Jr);Lr.first=function(){var t={};if(t="object"==typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},ee(t.predicate)){var e=t.predicate;t.predicate=me(e,t.thisArg,3)}return new ai(this,t)};var fi=function(t){function e(e,r){this.source=e,this._obj=r,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new pi(t,this._obj,this.source))},e}(Hr),pi=function(t){function e(e,r,n){this._o=e,this._obj=r,this._s=n,this._i=0,this._hv=!1,this._v=null,t.call(this)}return Ze(e,t),e.prototype.next=function(t){var e=!1;if(this._obj.predicate){var r=ne(this._obj.predicate)(t,this._i++,this._s);if(r===re)return this._o.onError(r.e);Boolean(r)&&(e=!0)}else this._obj.predicate||(e=!0);e&&(this._hv=!0,this._v=t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._hv?(this._o.onNext(this._v),this._o.onCompleted()):this._obj.defaultValue===i?this._o.onError(new ae):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},e}(Jr);Lr.last=function(){var t={};if(t="object"==typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},ee(t.predicate)){var e=t.predicate;t.predicate=me(e,t.thisArg,3)}return new fi(this,t)};var li=function(t){function e(e,r,n,o){this._o=e,this._s=r,this._cb=n,this._y=o,this._i=0,t.call(this)}return Ze(e,t),e.prototype.next=function(t){var e=ne(this._cb)(t,this._i,this._s);return e===re?this._o.onError(e.e):void(e?(this._o.onNext(this._y?this._i:t),this._o.onCompleted()):this._i++)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._y&&this._o.onNext(-1),this._o.onCompleted()},e}(Jr);Lr.find=function(t,e){return Z(this,t,e,!1)},Lr.findIndex=function(t,e){return Z(this,t,e,!0)};var di=function(t){function e(e){this.source=e,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new vi(t))},e}(Hr),vi=function(t){function e(e){this._o=e,this._s=new Bt.Set,t.call(this)}return Ze(e,t),e.prototype.next=function(t){this._s.add(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._s),this._o.onCompleted()},e}(Jr);Lr.toSet=function(){if("undefined"==typeof Bt.Set)throw new TypeError;return new di(this)};var _i=function(t){function e(e,r,n){this.source=e,this._k=r,this._e=n,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new bi(t,this._k,this._e))},e}(Hr),bi=function(t){function e(e,r,n){this._o=e,this._k=r,this._e=n,this._m=new Bt.Map,t.call(this)}return Ze(e,t),e.prototype.next=function(t){var e=ne(this._k)(t);if(e===re)return this._o.onError(e.e);var r=t;return this._e&&(r=ne(this._e)(t),r===re)?this._o.onError(r.e):void this._m.set(e,r)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._m),this._o.onCompleted()},e}(Jr);Lr.toMap=function(t,e){if("undefined"==typeof Bt.Map)throw new TypeError;return new _i(this,t,e)};var yi=function(t){function e(e,r,n){this.source=e,this._b=r,this._e=n,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new mi(t,this._b,this._e))},e}(Hr),mi=function(t){function e(e,r,n){this._o=e,this._b=r,this._e=n,this._i=0,t.call(this)}return Ze(e,t),e.prototype.next=function(t){this._i>=this._b&&(this._e===this._i?this._o.onCompleted():this._o.onNext(t)),this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Jr);Lr.slice=function(t,e){var r=t||0;if(r<0)throw new Kt.ArgumentOutOfRangeError;if("number"==typeof e&&e<r)throw new Kt.ArgumentOutOfRangeError;return new yi(this,r,e)};var wi=function(t){function e(e,r,n){this.source=e,this._e=r,this._n=n,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this._n<0?(t.onNext(-1),t.onCompleted(),cr):this.source.subscribe(new gi(t,this._e,this._n))},e}(Hr),gi=function(t){function e(e,r,n){this._o=e,this._e=r,this._n=n,this._v=0,this._hv=!1,this._i=0,t.call(this)}return Ze(e,t),e.prototype.next=function(t){this._i>=this._n&&t===this._e&&(this._hv=!0,this._v=this._i),this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._hv?this._o.onNext(this._v):this._o.onNext(-1),this._o.onCompleted()},e}(Jr);Lr.lastIndexOf=function(t,e){var r=+e||0;return Math.abs(r)===1/0&&(r=0),new wi(this,t,r)},Qr.wrap=function(t){function e(){return Qr.spawn.call(this,t.apply(this,arguments))}return e.__generatorFunction__=t,e};var xi=Qr.spawn=function(){for(var t=arguments[0],e=this,r=[],n=1,o=arguments.length;n<o;n++)r.push(arguments[n]);return new As(function(n){function o(e){var r=ne(t.next).call(t,e);return r===re?n.onError(r.e):void s(r)}function i(e){var r=ne(t.next).call(t,e);return r===re?n.onError(r.e):void s(r)}function s(t){if(t.done)return n.onNext(t.value),void n.onCompleted();var r=tt.call(e,t.value),s=null,c=!1;Qr.isObservable(r)?u.add(r.subscribe(function(t){c=!0,s=t},i,function(){c&&o(s)})):i(new TypeError("type not supported"))}var u=new or;return ee(t)&&(t=t.apply(e,r)),t&&ee(t.next)?(o(),u):(n.onNext(t),n.onCompleted())})};Qr.start=function(t,e,r){return Ei(t,e,r)()};var Ei=Qr.toAsync=function(t,e,r){return wr(r)||(r=Pr),function(){var n=arguments,o=new qs;return r.schedule(null,function(){var r;try{r=t.apply(e,n)}catch(i){return void o.onError(i)}o.onNext(r),o.onCompleted()}),o.asObservable()}};Qr.fromCallback=function(t,e,r){return function(){"undefined"==typeof e&&(e=this);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return ut(t,e,r,o)}},Qr.fromNodeCallback=function(t,e,r){return function(){"undefined"==typeof e&&(e=this);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return at(t,e,r,o)}},pt.prototype.dispose=function(){this.isDisposed||(this._e.removeEventListener(this._n,this._fn,!1),this.isDisposed=!0)},Kt.config.useNativeEvents=!1;var Ci=function(t){function e(e,r,n){this._el=e,this._n=r,this._fn=n,t.call(this)}function r(t,e){return function(){var r=arguments[0];return ee(e)&&(r=ne(e).apply(null,arguments),r===re)?t.onError(r.e):void t.onNext(r)}}return Ze(e,t),e.prototype.subscribeCore=function(t){return lt(this._el,this._n,r(t,this._fn))},e}(Hr);Qr.fromEvent=function(t,e,r){return t.addListener?Si(function(r){t.addListener(e,r)},function(r){t.removeListener(e,r)},r):Kt.config.useNativeEvents||"function"!=typeof t.on||"function"!=typeof t.off?new Ci(t,e,r).publish().refCount():Si(function(r){t.on(e,r)},function(r){t.off(e,r)},r)};var Ni=function(t){function e(e,r,n){this._add=e,this._del=r,this._fn=n,t.call(this)}function r(t,e){return function(){var r=arguments[0];return ee(e)&&(r=ne(e).apply(null,arguments),r===re)?t.onError(r.e):void t.onNext(r)}}function n(t,e,r){this._del=t,this._fn=e,this._ret=r,this.isDisposed=!1}return Ze(e,t),e.prototype.subscribeCore=function(t){var e=r(t,this._fn),o=this._add(e);return new n(this._del,e,o)},n.prototype.dispose=function(){this.isDisposed||(ee(this._del)&&this._del(this._fn,this._ret),this.isDisposed=!0)},e}(Hr),Si=Qr.fromEventPattern=function(t,e,r){return new Ni(t,e,r).publish().refCount()};Qr.startAsync=function(t){var e=ne(t)();return e===re?jn(e.e):an(e)};var ki=function(t){function e(e,r){this.source=e,this.controller=new $s,this.paused=!0,r&&r.subscribe?this.pauser=this.controller.merge(r):this.pauser=this.controller,t.call(this)}return Ze(e,t),e.prototype._subscribe=function(t){var e=this.source.publish(),r=e.subscribe(t),n=cr,o=this.pauser.startWith(!this.paused).distinctUntilChanged().subscribe(function(t){t?n=e.connect():(n.dispose(),n=cr)});return new vr([r,n,o])},e.prototype.pause=function(){this.paused=!0,this.controller.onNext(!1)},e.prototype.resume=function(){this.paused=!1,this.controller.onNext(!0)},e}(Qr);Lr.pausable=function(t){return new ki(this,t)};var Oi=function(t){function e(e,r){this.source=e,this.controller=new $s,this.paused=!0,r&&r.subscribe?this.pauser=this.controller.merge(r):this.pauser=this.controller,t.call(this)}return Ze(e,t),e.prototype._subscribe=function(t){function e(){for(;n.length>0;)t.onNext(n.shift())}var r,n=[],o=dt(this.source,this.pauser.startWith(!this.paused).distinctUntilChanged(),function(t,e){return{data:t,shouldFire:e}}).subscribe(function(o){r!==i&&o.shouldFire!==r?(r=o.shouldFire,o.shouldFire&&e()):(r=o.shouldFire,o.shouldFire?t.onNext(o.data):n.push(o.data))},function(r){e(),t.onError(r)},function(){e(),t.onCompleted()});return o},e.prototype.pause=function(){this.paused=!0,this.controller.onNext(!1)},e.prototype.resume=function(){this.paused=!1,this.controller.onNext(!0)},e}(Qr);Lr.pausableBuffered=function(t){return new Oi(this,t)};var Ai=function(t){function e(e,r,n){t.call(this),this.subject=new ji(r,n),this.source=e.multicast(this.subject).refCount()}return Ze(e,t),e.prototype._subscribe=function(t){return this.source.subscribe(t)},e.prototype.request=function(t){return this.subject.request(null==t?-1:t)},e}(Qr),ji=function(t){function e(e,r){null==e&&(e=!0),t.call(this),this.subject=new $s,this.enableQueue=e,this.queue=e?[]:null,this.requestedCount=0,this.requestedDisposable=null,this.error=null,this.hasFailed=!1,this.hasCompleted=!1,this.scheduler=r||kr}return Ze(e,t),tr(e.prototype,zr,{_subscribe:function(t){return this.subject.subscribe(t)},onCompleted:function(){this.hasCompleted=!0,this.enableQueue&&0!==this.queue.length?this.queue.push(qr.createOnCompleted()):(this.subject.onCompleted(),this.disposeCurrentRequest())},onError:function(t){this.hasFailed=!0,this.error=t,this.enableQueue&&0!==this.queue.length?this.queue.push(qr.createOnError(t)):(this.subject.onError(t),this.disposeCurrentRequest())},onNext:function(t){this.requestedCount<=0?this.enableQueue&&this.queue.push(qr.createOnNext(t)):(0===this.requestedCount--&&this.disposeCurrentRequest(),this.subject.onNext(t))},_processRequest:function(t){if(this.enableQueue)for(;this.queue.length>0&&(t>0||"N"!==this.queue[0].kind);){var e=this.queue.shift();e.accept(this.subject),"N"===e.kind?t--:(this.disposeCurrentRequest(),this.queue=[])}return t},request:function(t){this.disposeCurrentRequest();var e=this;return this.requestedDisposable=this.scheduler.schedule(t,function(t,r){var n=e._processRequest(r),o=e.hasCompleted||e.hasFailed;if(!o&&n>0)return e.requestedCount=n,ur(function(){e.requestedCount=0})}),this.requestedDisposable},disposeCurrentRequest:function(){this.requestedDisposable&&(this.requestedDisposable.dispose(),this.requestedDisposable=null)}}),e}(Qr);Lr.controlled=function(t,e){return t&&wr(t)&&(e=t,t=!0),null==t&&(t=!0),new Ai(this,t,e)};var Di=function(t){function e(e){t.call(this),this.source=e}function r(t,e){return e.source.request(1)}Ze(e,t),e.prototype._subscribe=function(t){return this.subscription=this.source.subscribe(new n(t,this,this.subscription)),new dr(this.subscription,Pr.schedule(this,r))};var n=function(t){function e(e,r,n){t.call(this),this.observer=e,this.observable=r,this.cancel=n,this.scheduleDisposable=null}function r(t,e){return e.observable.source.request(1)}return Ze(e,t),e.prototype.completed=function(){this.observer.onCompleted(),this.dispose()},e.prototype.error=function(t){this.observer.onError(t),this.dispose()},e.prototype.next=function(t){this.observer.onNext(t),this.scheduleDisposable=Pr.schedule(this,r)},e.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),this.scheduleDisposable&&(this.scheduleDisposable.dispose(),this.scheduleDisposable=null),t.prototype.dispose.call(this)},e}(Jr);return e}(Qr);Ai.prototype.stopAndWait=function(){return new Di(this)};var Pi=function(t){function e(e,r){t.call(this),this.source=e,this.windowSize=r}function r(t,e){return e.source.request(e.windowSize)}Ze(e,t),e.prototype._subscribe=function(t){return this.subscription=this.source.subscribe(new n(t,this,this.subscription)),new dr(this.subscription,Pr.schedule(this,r))};var n=function(t){function e(e,r,n){this.observer=e,this.observable=r,this.cancel=n,this.received=0,this.scheduleDisposable=null,t.call(this)}function r(t,e){return e.observable.source.request(e.observable.windowSize)}return Ze(e,t),e.prototype.completed=function(){this.observer.onCompleted(),this.dispose()},e.prototype.error=function(t){this.observer.onError(t),this.dispose()},e.prototype.next=function(t){this.observer.onNext(t),this.received=++this.received%this.observable.windowSize,0===this.received&&(this.scheduleDisposable=Pr.schedule(this,r))},e.prototype.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),this.scheduleDisposable&&(this.scheduleDisposable.dispose(),this.scheduleDisposable=null),t.prototype.dispose.call(this)},e}(Jr);return e}(Qr);Ai.prototype.windowed=function(t){return new Pi(this,t)},Lr.pipe=function(t){function e(){r.resume()}var r=this.pausableBuffered();return t.addListener("drain",e),r.subscribe(function(e){!t.write(e)&&r.pause()},function(e){t.emit("error",e)},function(){!t._isStdio&&t.end(),t.removeListener("drain",e)}),r.resume(),t};var $i=function(t){function e(e,r,n){this.source=e,this._fn1=r,this._fn2=n,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){var e=this.source.multicast(this._fn1());return new dr(this._fn2(e).subscribe(t),e.connect())},e}(Hr);Lr.multicast=function(t,e){return ee(t)?new $i(this,t,e):new Ri(this,t)},Lr.publish=function(t){return t&&ee(t)?this.multicast(function(){return new $s},t):this.multicast(new $s)},Lr.share=function(){return this.publish().refCount()},Lr.publishLast=function(t){return t&&ee(t)?this.multicast(function(){return new qs},t):this.multicast(new qs)},Lr.publishValue=function(t,e){return 2===arguments.length?this.multicast(function(){return new Ts(e)},t):this.multicast(new Ts(t))},Lr.shareValue=function(t){return this.publishValue(t).refCount()},Lr.replay=function(t,e,r,n){return t&&ee(t)?this.multicast(function(){return new Rs(e,r,n)},t):this.multicast(new Rs(e,r,n))},Lr.shareReplay=function(t,e,r){return this.replay(null,t,e,r).refCount()};var qi=function(t,e){this._s=t,this._o=e};qi.prototype.dispose=function(){if(!this._s.isDisposed&&null!==this._o){var t=this._s.observers.indexOf(this._o);this._s.observers.splice(t,1),this._o=null}};var Ti=function(t){function e(e){this.source=e,this._count=0,this._connectableSubscription=null,t.call(this)}function r(t,e){this._p=t,this._s=e,this.isDisposed=!1}return Ze(e,t),e.prototype.subscribeCore=function(t){var e=this.source.subscribe(t);return 1===++this._count&&(this._connectableSubscription=this.source.connect()),new r(this,e)},r.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._s.dispose(),0===--this._p._count&&this._p._connectableSubscription.dispose())},e}(Hr),Ri=Kt.ConnectableObservable=function(t){function e(e,r){this.source=e,this._connection=null,this._source=e.asObservable(),this._subject=r,t.call(this)}function r(t,e){this._p=t,this._s=e}return Ze(e,t),r.prototype.dispose=function(){this._s&&(this._s.dispose(),this._s=null,this._p._connection=null)},e.prototype.connect=function(){if(!this._connection){if(this._subject.isStopped)return cr;var t=this._source.subscribe(this._subject);this._connection=new r(this,t)}return this._connection},e.prototype._subscribe=function(t){return this._subject.subscribe(t)},e.prototype.refCount=function(){return new Ti(this)},e}(Qr);Lr.singleInstance=function(){function t(){return n||(n=!0,e=r["finally"](function(){n=!1}).publish().refCount()),e}var e,r=this,n=!1;return new As(function(e){return t().subscribe(e)})},Lr.join=function(t,e,r,n){var o=this;return new As(function(i){var s=new or,u=!1,c=!1,a=0,h=0,f=new Bi,p=new Bi,l=function(t){i.onError(t)};return s.add(o.subscribe(function(t){var r=a++,o=new pr;f.set(r,t),s.add(o);var c=ne(e)(t);return c===re?i.onError(c.e):(o.setDisposable(c.take(1).subscribe(Ut,l,function(){f["delete"](r)&&0===f.size&&u&&i.onCompleted(),s.remove(o)})),void p.forEach(function(e){var r=ne(n)(t,e);return r===re?i.onError(r.e):void i.onNext(r)}))},l,function(){u=!0,(c||0===f.size)&&i.onCompleted()})),s.add(t.subscribe(function(t){var e=h++,o=new pr;p.set(e,t),s.add(o);var u=ne(r)(t);return u===re?i.onError(u.e):(o.setDisposable(u.take(1).subscribe(Ut,l,function(){p["delete"](e)&&0===p.size&&c&&i.onCompleted(),s.remove(o)})),void f.forEach(function(e){var r=ne(n)(e,t);return r===re?i.onError(r.e):void i.onNext(r)}))},l,function(){c=!0,(u||0===p.size)&&i.onCompleted()})),s},o)},Lr.groupJoin=function(t,e,r,n){var o=this;return new As(function(i){function s(t){}var u=new or,c=new _r(u),a=new Bi,h=new Bi,f=0,p=0,s=function(t){return function(e){e.onError(t)}};return u.add(o.subscribe(function(t){var r=new $s,o=f++;a.set(o,r);var p=ne(n)(t,er(r,c));if(p===re)return a.forEach(s(p.e)),i.onError(p.e);i.onNext(p),h.forEach(function(t){r.onNext(t)});var l=new pr;u.add(l);var d=ne(e)(t);return d===re?(a.forEach(s(d.e)),i.onError(d.e)):void l.setDisposable(d.take(1).subscribe(Ut,function(t){a.forEach(s(t)),i.onError(t)},function(){a["delete"](o)&&r.onCompleted(),u.remove(l)}))},function(t){a.forEach(s(t)),i.onError(t)},function(){i.onCompleted()})),u.add(t.subscribe(function(t){var e=p++;h.set(e,t);var n=new pr;u.add(n);var o=ne(r)(t);return o===re?(a.forEach(s(o.e)),i.onError(o.e)):(n.setDisposable(o.take(1).subscribe(Ut,function(t){a.forEach(s(t)),i.onError(t)},function(){h["delete"](e),u.remove(n)})),void a.forEach(function(e){e.onNext(t)}))},function(t){a.forEach(s(t)),i.onError(t)})),c},o)},Lr.buffer=function(){return this.window.apply(this,arguments).flatMap(W)},Lr.window=function(t,e){return 1===arguments.length&&"function"!=typeof arguments[0]?_t.call(this,t):"function"==typeof t?bt.call(this,t):vt.call(this,t,e)};var Mi=function(t){function e(e){this.source=e,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Fi(t))},e}(Hr),Fi=function(t){function e(e){this._o=e,this._p=null,this._hp=!1,t.call(this)}return Ze(e,t),e.prototype.next=function(t){this._hp?this._o.onNext([this._p,t]):this._hp=!0,this._p=t},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Jr);Lr.pairwise=function(){return new Mi(this)},Lr.partition=function(t,e){var r=me(t,e,3);return[this.filter(t,e),this.filter(function(t,e,n){return!r(t,e,n)})]};var Vi=function(t){function e(t,e){this.c=t,this.s=e}return Ze(e,t),e.prototype[ve]=function(){var t=this;return{next:function(){return t.c()?{done:!1,value:t.s}:{done:!0,value:void 0}}}},e}(Yr);Lr.letBind=Lr["let"]=function(t){return t(this)},Qr["if"]=function(t,e,r){return pn(function(){return r||(r=vn()),te(e)&&(e=an(e)),te(r)&&(r=an(r)),"function"==typeof r.now&&(r=vn(r)),t()?e:r})},Qr["for"]=Qr.forIn=function(t,e,r){return on(t,e,r).concat()};var Ii=Qr["while"]=Qr.whileDo=function(t,e){return te(e)&&(e=an(e)),yt(t,e).concat()};Lr.doWhile=function(t){return In([this,Ii(t,this)])},Qr["case"]=function(t,e,r){return pn(function(){te(r)&&(r=an(r)),r||(r=vn()),wr(r)&&(r=vn(r));var n=e[t()];return te(n)&&(n=an(n)),n||r})};var zi=function(t){function e(e,r,n){this.source=e,this._fn=r,this._scheduler=n,t.call(this)}function r(t,e){var r,n=t[0],o=t[1];if(!(n.q.length>0))return void(n.isAcquired=!1);r=n.q.shift();var i=new pr;n.d.add(i),i.setDisposable(r.subscribe(new Gi(n,o,i))),e([n,o])}return Ze(e,t),e.prototype._ensureActive=function(t){var e=!1;t.q.length>0&&(e=!t.isAcquired,t.isAcquired=!0),e&&t.m.setDisposable(this._scheduler.scheduleRecursive([t,this],r))},e.prototype.subscribeCore=function(t){var e=new lr,r=new or(e),n={q:[],m:e,d:r,activeCount:0,isAcquired:!1,o:t};return n.q.push(this.source),n.activeCount++,this._ensureActive(n),r},e}(Hr),Gi=function(t){function e(e,r,n){this._s=e,this._p=r,this._m1=n,t.call(this)}return Ze(e,t),e.prototype.next=function(t){this._s.o.onNext(t);var e=ne(this._p._fn)(t);return e===re?this._s.o.onError(e.e):(this._s.q.push(e),this._s.activeCount++,void this._p._ensureActive(this._s))},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.d.remove(this._m1),this._s.activeCount--,0===this._s.activeCount&&this._s.o.onCompleted()},e}(Jr);Lr.expand=function(t,e){return wr(e)||(e=kr),new zi(this,t,e)};var Li=function(t){function e(e,r){this._sources=e,this._cb=r,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){if(0===this._sources.length)return t.onCompleted(),cr;for(var e=this._sources.length,r={finished:!1,hasResults:new Array(e),hasCompleted:new Array(e),results:new Array(e)},n=new or,o=0,i=this._sources.length;o<i;o++){var s=this._sources[o];te(s)&&(s=an(s)),n.add(s.subscribe(new Ji(t,r,o,this._cb,n)))}return n},e}(Hr),Ji=function(t){function e(e,r,n,o,i){this._o=e,this._s=r,this._i=n,this._cb=o,this._subs=i,t.call(this)}return Ze(e,t),e.prototype.next=function(t){this._s.finished||(this._s.hasResults[this._i]=!0,this._s.results[this._i]=t)},e.prototype.error=function(t){this._s.finished=!0,this._o.onError(t),this._subs.dispose()},e.prototype.completed=function(){if(!this._s.finished){if(!this._s.hasResults[this._i])return this._o.onCompleted();this._s.hasCompleted[this._i]=!0;for(var t=0;t<this._s.results.length;t++)if(!this._s.hasCompleted[t])return;this._s.finished=!0;var e=ne(this._cb).apply(null,this._s.results);if(e===re)return this._o.onError(e.e);this._o.onNext(e),this._o.onCompleted()}},e}(Jr);Qr.forkJoin=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=ee(e[t-1])?e.pop():G;return Array.isArray(e[0])&&(e=e[0]),new Li(e,n)},Lr.forkJoin=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Array.isArray(e[0])?e[0].unshift(this):e.unshift(this),Qr.forkJoin.apply(null,e)},Lr.manySelect=Lr.extend=function(t,e){wr(e)||(e=Kt.Scheduler.immediate);var r=this;return pn(function(){var n;return r.map(function(t){var e=new Wi(t);return n&&n.onNext(t),n=e,e}).tap(Ut,function(t){n&&n.onError(t)},function(){n&&n.onCompleted()}).observeOn(e).map(t)},r)};var Wi=function(t){function e(e){t.call(this),this.head=e,this.tail=new qs}return Ze(e,t),tr(e.prototype,zr,{_subscribe:function(t){var e=new or;return e.add(kr.schedule(this,function(r,n){t.onNext(n.head),e.add(n.tail.mergeAll().subscribe(t))})),e},onCompleted:function(){this.onNext(Qr.empty())},onError:function(t){this.onNext(Qr["throw"](t))},onNext:function(t){this.tail.onNext(t),this.tail.onCompleted()}}),e}(Qr),Bi=Bt.Map||function(){function t(){this.size=0,this._values=[],this._keys=[]}return t.prototype["delete"]=function(t){var e=this._keys.indexOf(t);return e!==-1&&(this._values.splice(e,1),this._keys.splice(e,1),this.size--,!0)},t.prototype.get=function(t){var e=this._keys.indexOf(t);return e===-1?i:this._values[e]},t.prototype.set=function(t,e){var r=this._keys.indexOf(t);return r===-1?(this._keys.push(t),this._values.push(e),this.size++):this._values[r]=e,this},t.prototype.forEach=function(t,e){for(var r=0;r<this.size;r++)t.call(e,this._values[r],this._keys[r])},t}();mt.prototype.and=function(t){return new mt(this.patterns.concat(t))},mt.prototype.thenDo=function(t){return new wt(this,t)},wt.prototype.activate=function(t,e,r){for(var n=[],o=gt(e),i=0,s=this.expression.patterns.length;i<s;i++)n.push(Et(t,this.expression.patterns[i],o));var u=new Ct(n,xt(this,e),function(){for(var t=0,e=n.length;t<e;t++)n[t].removeActivePlan(u);r(u)});for(i=0,s=n.length;i<s;i++)n[i].addActivePlan(u);return u},Ct.prototype.dequeue=function(){this.joinObservers.forEach(function(t){t.queue.shift()})},Ct.prototype.match=function(){var t,e,r=!0;for(t=0,e=this.joinObserverArray.length;t<e;t++)if(0===this.joinObserverArray[t].queue.length){r=!1;break}if(r){var n=[],o=!1;for(t=0,e=this.joinObserverArray.length;t<e;t++)n.push(this.joinObserverArray[t].queue[0]),"C"===this.joinObserverArray[t].queue[0].kind&&(o=!0);if(o)this.onCompleted();else{
this.dequeue();var i=[];for(t=0,e=n.length;t<n.length;t++)i.push(n[t].value);this.onNext.apply(this,i)}}};var Ki=function(t){function e(e,r){t.call(this),this.source=e,this.onError=r,this.queue=[],this.activePlans=[],this.subscription=new pr,this.isDisposed=!1}Ze(e,t);var r=e.prototype;return r.next=function(t){if(!this.isDisposed){if("E"===t.kind)return this.onError(t.error);this.queue.push(t);for(var e=this.activePlans.slice(0),r=0,n=e.length;r<n;r++)e[r].match()}},r.error=Ut,r.completed=Ut,r.addActivePlan=function(t){this.activePlans.push(t)},r.subscribe=function(){this.subscription.setDisposable(this.source.materialize().subscribe(this))},r.removeActivePlan=function(t){this.activePlans.splice(this.activePlans.indexOf(t),1),0===this.activePlans.length&&this.dispose()},r.dispose=function(){t.prototype.dispose.call(this),this.isDisposed||(this.isDisposed=!0,this.subscription.dispose())},e}(Jr);Lr.and=function(t){return new mt([this,t])},Lr.thenDo=function(t){return new mt([this]).thenDo(t)},Qr.when=function(){var t,e=arguments.length;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(e);for(var r=0;r<e;r++)t[r]=arguments[r]}return new As(function(e){var r=[],n=new Bi,o=Gr(function(t){e.onNext(t)},function(t){n.forEach(function(e){e.onError(t)}),e.onError(t)},function(t){e.onCompleted()});try{for(var i=0,s=t.length;i<s;i++)r.push(t[i].activate(n,o,function(t){var n=r.indexOf(t);r.splice(n,1),0===r.length&&e.onCompleted()}))}catch(u){return jn(u).subscribe(e)}var c=new or;return n.forEach(function(t){t.subscribe(),c.add(t)}),c})};var Ui=function(t){function e(e,r){this._dt=e,this._s=r,t.call(this)}function r(t,e){e.onNext(0),e.onCompleted()}return Ze(e,t),e.prototype.subscribeCore=function(t){return this._s.scheduleFuture(t,this._dt,r)},e}(Hr),Qi=Qr.interval=function(t,e){return kt(t,t,wr(e)?e:Pr)};Qr.timer=function(t,e,r){var n;return wr(r)||(r=Pr),null!=e&&"number"==typeof e?n=e:wr(e)&&(r=e),(t instanceof Date||"number"==typeof t)&&n===i?Nt(t,r):t instanceof Date&&n!==i?St(t,e,r):kt(t,n,r)};Lr.delay=function(){var t=arguments[0];if("number"==typeof t||t instanceof Date){var e=t,r=arguments[1];return wr(r)||(r=Pr),e instanceof Date?At(this,e,r):Ot(this,e,r)}if(Qr.isObservable(t)||ee(t))return jt(this,t,arguments[1]);throw new Error("Invalid arguments")};var Hi=function(t){function e(e,r,n){wr(n)||(n=Pr),this.source=e,this._dt=r,this._s=n,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){var e=new lr;return new dr(this.source.subscribe(new Xi(t,this._dt,this._s,e)),e)},e}(Hr),Xi=function(t){function e(e,r,n,o){this._o=e,this._d=r,this._scheduler=n,this._c=o,this._v=null,this._hv=!1,this._id=0,t.call(this)}return Ze(e,t),e.prototype.next=function(t){this._hv=!0,this._v=t;var e=++this._id,r=new pr;this._c.setDisposable(r),r.setDisposable(this._scheduler.scheduleFuture(this,this._d,function(r,n){n._hv&&n._id===e&&n._o.onNext(t),n._hv=!1}))},e.prototype.error=function(t){this._c.dispose(),this._o.onError(t),this._hv=!1,this._id++},e.prototype.completed=function(){this._c.dispose(),this._hv&&this._o.onNext(this._v),this._o.onCompleted(),this._hv=!1,this._id++},e}(Jr);Lr.debounce=function(){if(ee(arguments[0]))return Dt(this,arguments[0]);if("number"==typeof arguments[0])return new Hi(this,arguments[0],arguments[1]);throw new Error("Invalid arguments")},Lr.windowWithTime=Lr.windowTime=function(t,e,r){var n,o=this;return null==e&&(n=t),wr(r)||(r=Pr),"number"==typeof e?n=e:wr(e)&&(n=t,r=e),new As(function(e){function i(){var t=new pr,o=!1,s=!1;f.setDisposable(t),a===c?(o=!0,s=!0):a<c?o=!0:s=!0;var l=o?a:c,d=l-p;p=l,o&&(a+=n),s&&(c+=n),t.setDisposable(r.scheduleFuture(null,d,function(){if(s){var t=new $s;h.push(t),e.onNext(er(t,u))}o&&h.shift().onCompleted(),i()}))}var s,u,c=n,a=t,h=[],f=new lr,p=0;return s=new or(f),u=new _r(s),h.push(new $s),e.onNext(er(h[0],u)),i(),s.add(o.subscribe(function(t){for(var e=0,r=h.length;e<r;e++)h[e].onNext(t)},function(t){for(var r=0,n=h.length;r<n;r++)h[r].onError(t);e.onError(t)},function(){for(var t=0,r=h.length;t<r;t++)h[t].onCompleted();e.onCompleted()})),u},o)},Lr.windowWithTimeOrCount=Lr.windowTimeOrCount=function(t,e,r){var n=this;return wr(r)||(r=Pr),new As(function(o){function i(e){var n=new pr;s.setDisposable(n),n.setDisposable(r.scheduleFuture(null,t,function(){if(e===h){a=0;var t=++h;f.onCompleted(),f=new $s,o.onNext(er(f,c)),i(t)}}))}var s=new lr,u=new or(s),c=new _r(u),a=0,h=0,f=new $s;return o.onNext(er(f,c)),i(0),u.add(n.subscribe(function(t){var r=0,n=!1;f.onNext(t),++a===e&&(n=!0,a=0,r=++h,f.onCompleted(),f=new $s,o.onNext(er(f,c))),n&&i(r)},function(t){f.onError(t),o.onError(t)},function(){f.onCompleted(),o.onCompleted()})),c},n)},Lr.bufferWithTime=Lr.bufferTime=function(t,e,r){return this.windowWithTime(t,e,r).flatMap(W)},Lr.bufferWithTimeOrCount=Lr.bufferTimeOrCount=function(t,e,r){return this.windowWithTimeOrCount(t,e,r).flatMap(W)};var Yi=function(t){function e(e,r){this.source=e,this._s=r,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Zi(t,this._s))},e}(Hr),Zi=function(t){function e(e,r){this._o=e,this._s=r,this._l=r.now(),t.call(this)}return Ze(e,t),e.prototype.next=function(t){var e=this._s.now(),r=e-this._l;this._l=e,this._o.onNext({value:t,interval:r})},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Jr);Lr.timeInterval=function(t){return wr(t)||(t=Pr),new Yi(this,t)};var ts=function(t){function e(e,r){this.source=e,this._s=r,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new es(t,this._s))},e}(Hr),es=function(t){function e(e,r){this._o=e,this._s=r,t.call(this)}return Ze(e,t),e.prototype.next=function(t){this._o.onNext({value:t,timestamp:this._s.now()})},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Jr);Lr.timestamp=function(t){return wr(t)||(t=Pr),new ts(this,t)};var rs=function(t){function e(e,r){this.source=e,this._sampler=r,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){var e={o:t,atEnd:!1,value:null,hasValue:!1,sourceSubscription:new pr};return e.sourceSubscription.setDisposable(this.source.subscribe(new os(e))),new dr(e.sourceSubscription,this._sampler.subscribe(new ns(e)))},e}(Hr),ns=function(t){function e(e){this._s=e,t.call(this)}return Ze(e,t),e.prototype._handleMessage=function(){this._s.hasValue&&(this._s.hasValue=!1,this._s.o.onNext(this._s.value)),this._s.atEnd&&this._s.o.onCompleted()},e.prototype.next=function(){this._handleMessage()},e.prototype.error=function(t){this._s.onError(t)},e.prototype.completed=function(){this._handleMessage()},e}(Jr),os=function(t){function e(e){this._s=e,t.call(this)}return Ze(e,t),e.prototype.next=function(t){this._s.hasValue=!0,this._s.value=t},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.atEnd=!0,this._s.sourceSubscription.dispose()},e}(Jr);Lr.sample=function(t,e){return wr(e)||(e=Pr),"number"==typeof t?new rs(this,Qi(t,e)):new rs(this,t)};var is=Kt.TimeoutError=function(t){this.message=t||"Timeout has occurred",this.name="TimeoutError",Error.call(this)};is.prototype=Object.create(Error.prototype),Lr.timeout=function(){var t=arguments[0];if(t instanceof Date||"number"==typeof t)return $t(this,t,arguments[1],arguments[2]);if(Qr.isObservable(t)||ee(t))return Pt(this,t,arguments[1],arguments[2]);throw new Error("Invalid arguments")};var ss=function(t){function e(e,r,n,o,i,s){this._state=e,this._cndFn=r,this._itrFn=n,this._resFn=o,this._timeFn=i,this._s=s,t.call(this)}function r(t,e){if(t.hasResult&&t.o.onNext(t.result),t.first)t.first=!1;else if(t.newState=ne(t.self._itrFn)(t.newState),t.newState===re)return t.o.onError(t.newState.e);if(t.hasResult=ne(t.self._cndFn)(t.newState),t.hasResult===re)return t.o.onError(t.hasResult.e);if(t.hasResult){if(t.result=ne(t.self._resFn)(t.newState),t.result===re)return t.o.onError(t.result.e);var r=ne(t.self._timeFn)(t.newState);if(r===re)return t.o.onError(r.e);e(t,r)}else t.o.onCompleted()}return Ze(e,t),e.prototype.subscribeCore=function(t){var e={o:t,self:this,newState:this._state,first:!0,hasResult:!1};return this._s.scheduleRecursiveFuture(e,new Date(this._s.now()),r)},e}(Hr);Qr.generateWithAbsoluteTime=function(t,e,r,n,o,i){return wr(i)||(i=Pr),new ss(t,e,r,n,o,i)};var us=function(t){function e(e,r,n,o,i,s){this._state=e,this._cndFn=r,this._itrFn=n,this._resFn=o,this._timeFn=i,this._s=s,t.call(this)}function r(t,e){if(t.hasResult&&t.o.onNext(t.result),t.first)t.first=!1;else if(t.newState=ne(t.self._itrFn)(t.newState),t.newState===re)return t.o.onError(t.newState.e);if(t.hasResult=ne(t.self._cndFn)(t.newState),t.hasResult===re)return t.o.onError(t.hasResult.e);if(t.hasResult){if(t.result=ne(t.self._resFn)(t.newState),t.result===re)return t.o.onError(t.result.e);var r=ne(t.self._timeFn)(t.newState);if(r===re)return t.o.onError(r.e);e(t,r)}else t.o.onCompleted()}return Ze(e,t),e.prototype.subscribeCore=function(t){var e={o:t,self:this,newState:this._state,first:!0,hasResult:!1};return this._s.scheduleRecursiveFuture(e,0,r)},e}(Hr);Qr.generateWithRelativeTime=function(t,e,r,n,o,i){return wr(i)||(i=Pr),new us(t,e,r,n,o,i)};var cs=function(t){function e(e,r,n){this.source=e,this._dt=r,this._s=n,t.call(this)}function r(t,e){var r=e[0],n=e[1],o=e[2];o.setDisposable(r.subscribe(n))}return Ze(e,t),e.prototype.subscribeCore=function(t){var e=new lr;return e.setDisposable(this._s.scheduleFuture([this.source,t,e],this._dt,r)),e},e}(Hr);Lr.delaySubscription=function(t,e){return wr(e)||(e=Pr),new cs(this,t,e)};var as=function(t){function e(e,r,n){this.source=e,this._d=r,this._s=n,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new hs(t,this))},e}(Hr),hs=function(t){function e(e,r){this._o=e,this._s=r._s,this._d=r._d,this._q=[],t.call(this)}return Ze(e,t),e.prototype.next=function(t){var e=this._s.now();for(this._q.push({interval:e,value:t});this._q.length>0&&e-this._q[0].interval>=this._d;)this._o.onNext(this._q.shift().value)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){for(var t=this._s.now();this._q.length>0&&t-this._q[0].interval>=this._d;)this._o.onNext(this._q.shift().value);this._o.onCompleted()},e}(Jr);Lr.skipLastWithTime=function(t,e){return wr(e)||(e=Pr),new as(this,t,e)};var fs=function(t){function e(e,r,n){this.source=e,this._d=r,this._s=n,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new ps(t,this._d,this._s))},e}(Hr),ps=function(t){function e(e,r,n){this._o=e,this._d=r,this._s=n,this._q=[],t.call(this)}return Ze(e,t),e.prototype.next=function(t){var e=this._s.now();for(this._q.push({interval:e,value:t});this._q.length>0&&e-this._q[0].interval>=this._d;)this._q.shift()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){for(var t=this._s.now();this._q.length>0;){var e=this._q.shift();t-e.interval<=this._d&&this._o.onNext(e.value)}this._o.onCompleted()},e}(Jr);Lr.takeLastWithTime=function(t,e){return wr(e)||(e=Pr),new fs(this,t,e)},Lr.takeLastBufferWithTime=function(t,e){var r=this;return wr(e)||(e=Pr),new As(function(n){var o=[];return r.subscribe(function(r){var n=e.now();for(o.push({interval:n,value:r});o.length>0&&n-o[0].interval>=t;)o.shift()},function(t){n.onError(t)},function(){for(var r=e.now(),i=[];o.length>0;){var s=o.shift();r-s.interval<=t&&i.push(s.value)}n.onNext(i),n.onCompleted()})},r)};var ls=function(t){function e(e,r,n){this.source=e,this._d=r,this._s=n,t.call(this)}function r(t,e){e.onCompleted()}return Ze(e,t),e.prototype.subscribeCore=function(t){return new dr(this._s.scheduleFuture(t,this._d,r),this.source.subscribe(t))},e}(Hr);Lr.takeWithTime=function(t,e){return wr(e)||(e=Pr),new ls(this,t,e)};var ds=function(t){function e(e,r,n){this.source=e,this._d=r,this._s=n,this._open=!1,t.call(this)}function r(t,e){e._open=!0}return Ze(e,t),e.prototype.subscribeCore=function(t){return new dr(this._s.scheduleFuture(this,this._d,r),this.source.subscribe(new vs(t,this)))},e}(Hr),vs=function(t){function e(e,r){this._o=e,this._p=r,t.call(this)}return Ze(e,t),e.prototype.next=function(t){this._p._open&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Jr);Lr.skipWithTime=function(t,e){return wr(e)||(e=Pr),new ds(this,t,e)};var _s=function(t){function e(e,r,n){this.source=e,this._st=r,this._s=n,t.call(this)}function r(t,e){e._open=!0}return Ze(e,t),e.prototype.subscribeCore=function(t){return this._open=!1,new dr(this._s.scheduleFuture(this,this._st,r),this.source.subscribe(new bs(t,this)))},e}(Hr),bs=function(t){function e(e,r){this._o=e,this._p=r,t.call(this)}return Ze(e,t),e.prototype.next=function(t){this._p._open&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Jr);Lr.skipUntilWithTime=function(t,e){return wr(e)||(e=Pr),new _s(this,t,e)},Lr.takeUntilWithTime=function(t,e){wr(e)||(e=Pr);var r=this;return new As(function(n){return new dr(e.scheduleFuture(n,t,function(t,e){e.onCompleted()}),r.subscribe(n))},r)},Lr.throttle=function(t,e){wr(e)||(e=Pr);var r=+t||0;if(r<=0)throw new RangeError("windowDuration cannot be less or equal zero.");var n=this;return new As(function(t){var o=0;return n.subscribe(function(n){var i=e.now();(0===o||i-o>=r)&&(o=i,t.onNext(n))},function(e){t.onError(e)},function(){t.onCompleted()})},n)};var ys=function(t){function e(e,r){this._o=e,this._xform=r,t.call(this)}return Ze(e,t),e.prototype.next=function(t){var e=ne(this._xform["@@transducer/step"]).call(this._xform,this._o,t);e===re&&this._o.onError(e.e)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._xform["@@transducer/result"](this._o)},e}(Jr);Lr.transduce=function(t){var e=this;return new As(function(r){var n=t(qt(r));return e.subscribe(new ys(r,n))},e)};var ms=function(t){function e(e){this.source=e,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){var e=new pr,r=new or,n={hasCurrent:!1,isStopped:!1,o:t,g:r};return r.add(e),e.setDisposable(this.source.subscribe(new ws(n))),r},e}(Hr),ws=function(t){function e(e){this._s=e,t.call(this)}function r(e,r){this._s=e,this._i=r,t.call(this)}return Ze(e,t),e.prototype.next=function(t){if(!this._s.hasCurrent){this._s.hasCurrent=!0,te(t)&&(t=an(t));var e=new pr;this._s.g.add(e),e.setDisposable(t.subscribe(new r(this._s,e)))}},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.isStopped=!0,!this._s.hasCurrent&&1===this._s.g.length&&this._s.o.onCompleted()},Ze(r,t),r.prototype.next=function(t){this._s.o.onNext(t)},r.prototype.error=function(t){this._s.o.onError(t)},r.prototype.completed=function(){this._s.g.remove(this._i),this._s.hasCurrent=!1,this._s.isStopped&&1===this._s.g.length&&this._s.o.onCompleted()},e}(Jr);Lr.switchFirst=function(){return new ms(this)},Lr.flatMapFirst=Lr.exhaustMap=function(t,e,r){return new Xr(this,t,e,r).switchFirst()},Lr.flatMapWithMaxConcurrent=Lr.flatMapMaxConcurrent=function(t,e,r,n){return new Xr(this,e,r,n).merge(t)};var gs=Kt.VirtualTimeScheduler=function(t){function e(e,r){this.clock=e,this.comparer=r,this.isEnabled=!1,this.queue=new rr(1024),t.call(this)}Ze(e,t);var r=e.prototype;return r.now=function(){return this.toAbsoluteTime(this.clock)},r.schedule=function(t,e){return this.scheduleAbsolute(t,this.clock,e)},r.scheduleFuture=function(t,e,r){var n=e instanceof Date?this.toRelativeTime(e-this.now()):this.toRelativeTime(e);return this.scheduleRelative(t,n,r)},r.add=de,r.toAbsoluteTime=de,r.toRelativeTime=de,r.schedulePeriodic=function(t,e,r){var n=new Er(this,t,e,r);return n.start()},r.scheduleRelative=function(t,e,r){var n=this.add(this.clock,e);return this.scheduleAbsolute(t,n,r)},r.start=function(){if(!this.isEnabled){this.isEnabled=!0;do{var t=this.getNext();null!==t?(this.comparer(t.dueTime,this.clock)>0&&(this.clock=t.dueTime),t.invoke()):this.isEnabled=!1}while(this.isEnabled)}},r.stop=function(){this.isEnabled=!1},r.advanceTo=function(t){var e=this.comparer(this.clock,t);if(this.comparer(this.clock,t)>0)throw new fe;if(0!==e&&!this.isEnabled){this.isEnabled=!0;do{var r=this.getNext();null!==r&&this.comparer(r.dueTime,t)<=0?(this.comparer(r.dueTime,this.clock)>0&&(this.clock=r.dueTime),r.invoke()):this.isEnabled=!1}while(this.isEnabled);this.clock=t}},r.advanceBy=function(t){var e=this.add(this.clock,t),r=this.comparer(this.clock,e);if(r>0)throw new fe;0!==r&&this.advanceTo(e)},r.sleep=function(t){var e=this.add(this.clock,t);if(this.comparer(this.clock,e)>=0)throw new fe;this.clock=e},r.getNext=function(){for(;this.queue.length>0;){var t=this.queue.peek();if(!t.isCancelled())return t;this.queue.dequeue()}return null},r.scheduleAbsolute=function(t,e,r){function n(t,e){return o.queue.remove(i),r(t,e)}var o=this,i=new br(this,t,n,e,this.comparer);return this.queue.enqueue(i),i.disposable},e}(yr);Kt.HistoricalScheduler=function(t){function e(e,r){var n=null==e?0:e,o=r||Yt;t.call(this,n,o)}Ze(e,t);var r=e.prototype;return r.add=function(t,e){return t+e},r.toAbsoluteTime=function(t){return new Date(t).getTime()},r.toRelativeTime=function(t){return t},e}(Kt.VirtualTimeScheduler),Tt.prototype.equals=function(t){return t===this||null!=t&&("N"===t.kind&&this.predicate(t.value))},Rt.prototype.equals=function(t){return t===this||null!=t&&("E"===t.kind&&this.predicate(t.error))};var xs=Kt.ReactiveTest={created:100,subscribed:200,disposed:1e3,onNext:function(t,e){return"function"==typeof e?new Es(t,new Tt(e)):new Es(t,qr.createOnNext(e))},onError:function(t,e){return"function"==typeof e?new Es(t,new Rt(e)):new Es(t,qr.createOnError(e))},onCompleted:function(t){return new Es(t,qr.createOnCompleted())},subscribe:function(t,e){return new Cs(t,e)}},Es=Kt.Recorded=function(t,e,r){this.time=t,this.value=e,this.comparer=r||Xt};Es.prototype.equals=function(t){return this.time===t.time&&this.comparer(this.value,t.value)},Es.prototype.toString=function(){return this.value.toString()+"@"+this.time};var Cs=Kt.Subscription=function(t,e){this.subscribe=t,this.unsubscribe=e||Number.MAX_VALUE};Cs.prototype.equals=function(t){return this.subscribe===t.subscribe&&this.unsubscribe===t.unsubscribe},Cs.prototype.toString=function(){return"("+this.subscribe+", "+(this.unsubscribe===Number.MAX_VALUE?"Infinite":this.unsubscribe)+")"};var Ns=Kt.MockDisposable=function(t){this.scheduler=t,this.disposes=[],this.disposes.push(this.scheduler.clock)};Ns.prototype.dispose=function(){this.disposes.push(this.scheduler.clock)};var Ss=function(t){function e(e){t.call(this),this.scheduler=e,this.messages=[]}Ze(e,t);var r=e.prototype;return r.onNext=function(t){this.messages.push(new Es(this.scheduler.clock,qr.createOnNext(t)))},r.onError=function(t){this.messages.push(new Es(this.scheduler.clock,qr.createOnError(t)))},r.onCompleted=function(){this.messages.push(new Es(this.scheduler.clock,qr.createOnCompleted()))},e}(zr);Mt.prototype.then=function(t,e){var r=this;this.subscriptions.push(new Cs(this.scheduler.clock));var n,o=this.subscriptions.length-1,s=Kt.Observer.create(function(e){var u=t(e);if(u&&"function"==typeof u.then)n=u;else{var c=r.scheduler.clock;n=new Mt(r.scheduler,[Kt.ReactiveTest.onNext(c,i),Kt.ReactiveTest.onCompleted(c)])}var a=r.observers.indexOf(s);r.observers.splice(a,1),r.subscriptions[o]=new Cs(r.subscriptions[o].subscribe,r.scheduler.clock)},function(t){e(t);var n=r.observers.indexOf(s);r.observers.splice(n,1),r.subscriptions[o]=new Cs(r.subscriptions[o].subscribe,r.scheduler.clock)});return this.observers.push(s),n||new Mt(this.scheduler,this.messages)};var ks=function(t){function e(e,r){t.call(this);var n,o,i=this;this.scheduler=e,this.messages=r,this.subscriptions=[],this.observers=[];for(var s=0,u=this.messages.length;s<u;s++)n=this.messages[s],o=n.value,function(t){e.scheduleAbsolute(null,n.time,function(){for(var e=i.observers.slice(0),r=0,n=e.length;r<n;r++)t.accept(e[r]);return cr})}(o)}return Ze(e,t),e.prototype._subscribe=function(t){var e=this;this.observers.push(t),this.subscriptions.push(new Cs(this.scheduler.clock));var r=this.subscriptions.length-1;return ur(function(){var n=e.observers.indexOf(t);e.observers.splice(n,1),e.subscriptions[r]=new Cs(e.subscriptions[r].subscribe,e.scheduler.clock)})},e}(Qr),Os=function(t){function e(e,r){t.call(this),this.scheduler=e,this.messages=r,this.subscriptions=[]}return Ze(e,t),e.prototype._subscribe=function(t){var e,r,n=this;this.subscriptions.push(new Cs(this.scheduler.clock));for(var o=this.subscriptions.length-1,i=new or,s=0,u=this.messages.length;s<u;s++)e=this.messages[s],r=e.value,function(r){i.add(n.scheduler.scheduleRelative(null,e.time,function(){return r.accept(t),cr}))}(r);return ur(function(){n.subscriptions[o]=new Cs(n.subscriptions[o].subscribe,n.scheduler.clock),i.dispose()})},e}(Qr);Kt.TestScheduler=function(t){function e(t,e){return t>e?1:t<e?-1:0}function r(){t.call(this,0,e)}return Ze(r,t),r.prototype.scheduleAbsolute=function(e,r,n){return r<=this.clock&&(r=this.clock+1),t.prototype.scheduleAbsolute.call(this,e,r,n)},r.prototype.add=function(t,e){return t+e},r.prototype.toAbsoluteTime=function(t){return new Date(t).getTime()},r.prototype.toRelativeTime=function(t){return t},r.prototype.startScheduler=function(t,e){e||(e={}),null==e.created&&(e.created=xs.created),null==e.subscribed&&(e.subscribed=xs.subscribed),null==e.disposed&&(e.disposed=xs.disposed);var r,n,o=this.createObserver();return this.scheduleAbsolute(null,e.created,function(){return r=t(),cr}),this.scheduleAbsolute(null,e.subscribed,function(){return n=r.subscribe(o),cr}),this.scheduleAbsolute(null,e.disposed,function(){return n.dispose(),cr}),this.start(),o},r.prototype.createHotObservable=function(){var t,e=arguments.length;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(e);for(var r=0;r<e;r++)t[r]=arguments[r]}return new ks(this,t)},r.prototype.createColdObservable=function(){var t,e=arguments.length;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(e);for(var r=0;r<e;r++)t[r]=arguments[r]}return new Os(this,t)},r.prototype.createResolvedPromise=function(t,e){return new Mt(this,[Kt.ReactiveTest.onNext(t,e),Kt.ReactiveTest.onCompleted(t)])},r.prototype.createRejectedPromise=function(t,e){return new Mt(this,[Kt.ReactiveTest.onError(t,e)])},r.prototype.createObserver=function(){return new Ss(this)},r}(gs);var As=Kt.AnonymousObservable=function(t){function e(t){return t&&ee(t.dispose)?t:ee(t)?ur(t):cr}function r(t,r){var n=r[0],o=r[1],i=ne(o.__subscribe).call(o,n);i!==re||n.fail(re.e)||a(re.e),n.setDisposable(e(i))}function n(e,r){this.source=r,this.__subscribe=e,t.call(this)}return Ze(n,t),n.prototype._subscribe=function(t){var e=new js(t),n=[e,this];return kr.scheduleRequired()?kr.schedule(n,r):r(null,n),e},n}(Qr),js=function(t){function e(e){t.call(this),this.observer=e,this.m=new pr}Ze(e,t);var r=e.prototype;return r.next=function(t){var e=ne(this.observer.onNext).call(this.observer,t);e===re&&(this.dispose(),a(e.e))},r.error=function(t){var e=ne(this.observer.onError).call(this.observer,t);this.dispose(),e===re&&a(e.e)},r.completed=function(){var t=ne(this.observer.onCompleted).call(this.observer);this.dispose(),t===re&&a(t.e)},r.setDisposable=function(t){this.m.setDisposable(t)},r.getDisposable=function(){return this.m.getDisposable()},r.dispose=function(){t.prototype.dispose.call(this),this.m.dispose()},e}(Jr),Ds=function(t){function e(e,r){this._m=e,this._u=r,t.call(this)}return Ze(e,t),e.prototype.subscribeCore=function(t){return new dr(this._m.getDisposable(),this._u.subscribe(t))},e}(Hr),Ps=function(t){function e(e,r,n){t.call(this),this.key=e,this.underlyingObservable=n?new Ds(n,r):r}return Ze(e,t),e.prototype._subscribe=function(t){return this.underlyingObservable.subscribe(t)},e}(Qr),$s=Kt.Subject=function(t){function e(){t.call(this),this.isDisposed=!1,this.isStopped=!1,this.observers=[],this.hasError=!1}return Ze(e,t),tr(e.prototype,zr.prototype,{_subscribe:function(t){return hr(this),this.isStopped?this.hasError?(t.onError(this.error),cr):(t.onCompleted(),cr):(this.observers.push(t),new qi(this,t))},hasObservers:function(){return hr(this),this.observers.length>0},onCompleted:function(){if(hr(this),!this.isStopped){this.isStopped=!0;for(var t=0,e=u(this.observers),r=e.length;t<r;t++)e[t].onCompleted();this.observers.length=0}},onError:function(t){if(hr(this),!this.isStopped){this.isStopped=!0,this.error=t,this.hasError=!0;for(var e=0,r=u(this.observers),n=r.length;e<n;e++)r[e].onError(t);this.observers.length=0}},onNext:function(t){if(hr(this),!this.isStopped)for(var e=0,r=u(this.observers),n=r.length;e<n;e++)r[e].onNext(t)},dispose:function(){this.isDisposed=!0,this.observers=null}}),e.create=function(t,e){return new Ms(t,e)},e}(Qr),qs=Kt.AsyncSubject=function(t){function e(){t.call(this),this.isDisposed=!1,this.isStopped=!1,this.hasValue=!1,this.observers=[],this.hasError=!1}return Ze(e,t),tr(e.prototype,zr.prototype,{_subscribe:function(t){return hr(this),this.isStopped?(this.hasError?t.onError(this.error):this.hasValue?(t.onNext(this.value),t.onCompleted()):t.onCompleted(),cr):(this.observers.push(t),new qi(this,t))},hasObservers:function(){return hr(this),this.observers.length>0},onCompleted:function(){var t,e;if(hr(this),!this.isStopped){this.isStopped=!0;var r=u(this.observers),e=r.length;if(this.hasValue)for(t=0;t<e;t++){var n=r[t];n.onNext(this.value),n.onCompleted()}else for(t=0;t<e;t++)r[t].onCompleted();this.observers.length=0}},onError:function(t){if(hr(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=t;for(var e=0,r=u(this.observers),n=r.length;e<n;e++)r[e].onError(t);this.observers.length=0}},onNext:function(t){hr(this),this.isStopped||(this.value=t,this.hasValue=!0)},dispose:function(){this.isDisposed=!0,this.observers=null,this.error=null,this.value=null}}),e}(Qr),Ts=Kt.BehaviorSubject=function(t){function e(e){t.call(this),this.value=e,this.observers=[],this.isDisposed=!1,this.isStopped=!1,this.hasError=!1}return Ze(e,t),tr(e.prototype,zr.prototype,{_subscribe:function(t){return hr(this),this.isStopped?(this.hasError?t.onError(this.error):t.onCompleted(),cr):(this.observers.push(t),t.onNext(this.value),new qi(this,t))},getValue:function(){return hr(this),this.hasError&&a(this.error),this.value},hasObservers:function(){return hr(this),this.observers.length>0},onCompleted:function(){if(hr(this),!this.isStopped){this.isStopped=!0;for(var t=0,e=u(this.observers),r=e.length;t<r;t++)e[t].onCompleted();this.observers.length=0}},onError:function(t){if(hr(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=t;for(var e=0,r=u(this.observers),n=r.length;e<n;e++)r[e].onError(t);this.observers.length=0}},onNext:function(t){if(hr(this),!this.isStopped){this.value=t;for(var e=0,r=u(this.observers),n=r.length;e<n;e++)r[e].onNext(t)}},dispose:function(){this.isDisposed=!0,this.observers=null,this.value=null,this.error=null}}),e}(Qr),Rs=Kt.ReplaySubject=function(t){function e(t,e){return ur(function(){e.dispose(),!t.isDisposed&&t.observers.splice(t.observers.indexOf(e),1)})}function r(e,r,o){this.bufferSize=null==e?n:e,this.windowSize=null==r?n:r,this.scheduler=o||kr,this.q=[],this.observers=[],this.isStopped=!1,this.isDisposed=!1,this.hasError=!1,this.error=null,t.call(this)}var n=Math.pow(2,53)-1;return Ze(r,t),tr(r.prototype,zr.prototype,{_subscribe:function(t){hr(this);var r=new Kr(this.scheduler,t),n=e(this,r);this._trim(this.scheduler.now()),this.observers.push(r);for(var o=0,i=this.q.length;o<i;o++)r.onNext(this.q[o].value);return this.hasError?r.onError(this.error):this.isStopped&&r.onCompleted(),r.ensureActive(),n},hasObservers:function(){return hr(this),this.observers.length>0},_trim:function(t){for(;this.q.length>this.bufferSize;)this.q.shift();for(;this.q.length>0&&t-this.q[0].interval>this.windowSize;)this.q.shift()},onNext:function(t){if(hr(this),!this.isStopped){var e=this.scheduler.now();this.q.push({interval:e,value:t}),this._trim(e);for(var r=0,n=u(this.observers),o=n.length;r<o;r++){var i=n[r];i.onNext(t),i.ensureActive()}}},onError:function(t){if(hr(this),!this.isStopped){this.isStopped=!0,this.error=t,this.hasError=!0;var e=this.scheduler.now();this._trim(e);for(var r=0,n=u(this.observers),o=n.length;r<o;r++){var i=n[r];i.onError(t),i.ensureActive()}this.observers.length=0}},onCompleted:function(){if(hr(this),!this.isStopped){this.isStopped=!0;var t=this.scheduler.now();this._trim(t);for(var e=0,r=u(this.observers),n=r.length;e<n;e++){var o=r[e];o.onCompleted(),o.ensureActive()}this.observers.length=0}},dispose:function(){this.isDisposed=!0,this.observers=null}}),r}(Qr),Ms=Kt.AnonymousSubject=function(t){function e(e,r){this.observer=e,this.observable=r,t.call(this)}return Ze(e,t),tr(e.prototype,zr.prototype,{_subscribe:function(t){return this.observable.subscribe(t)},onCompleted:function(){this.observer.onCompleted()},onError:function(t){this.observer.onError(t)},onNext:function(t){this.observer.onNext(t)}}),e}(Qr);Kt.Pauser=function(t){function e(){t.call(this)}return Ze(e,t),e.prototype.pause=function(){this.onNext(!1)},e.prototype.resume=function(){this.onNext(!0)},e}($s),"function"==typeof t&&"object"==typeof t.amd&&t.amd?(Bt.Rx=Kt,t(function(){return Kt})):Vt&&It?Jt?(It.exports=Kt).Rx=Kt:Vt.Rx=Kt:Bt.Rx=Kt;var Fs=d()}).call(this)}).call(this,e(238),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{238:238}],175:[function(t,e,r){var n=t(233),o={ranges:n+"ranges",integers:n+"integers",keys:n+"keys",named:n+"named",name:n+"name",match:n+"match"};e.exports=o},{233:233}],176:[function(t,e,r){var n={specific:4,ranges:2,integers:2,keys:1};e.exports=n},{}],177:[function(t,e,r){var n=t(175),o=t(208),i=t(191),s=t(185),u=50,c=9e3,a=function(t,e){var r=e||{};this._routes=t,this._rst=o(t),this._matcher=i(this._rst),this._debug=r.debug,this.maxRefFollow=r.maxRefFollow||u,this.maxPaths=r.maxPaths||c};a.createClass=function(t){function e(t){var e=t||{};this._debug=e.debug}return e.prototype=new a(t),e.prototype.constructor=e,e},a.prototype={get:t(210),set:t(212),call:t(209),routeUnhandledPathsTo:function(t){this._unhandled=t}},a.ranges=n.ranges,a.integers=n.integers,a.keys=n.keys,a.JSONGraphError=s,e.exports=a},{175:175,185:185,191:191,208:208,209:209,210:210,212:212}],178:[function(t,e,r){var n=t(226),o=t(237).$ref,i=t(187);e.exports=function(t,e,r){for(var s,u,c,a=t,h=e,f=-1,p=h.length,l=0;++f<p;){if(s=h[f],u=a[s],c=u&&u.$type,!u||c&&c!==o){a=u;break}if(c&&c===o&&f+1<p){var d=new Error(i.innerReferences);throw d.throwToNext=!0,d}if(f+1===p&&(c===o&&(f=-1,h=u.value,p=h.length,u=t,l++),l>r))throw new Error(i.circularReference);a=u}return[a,n(h)]}},{187:187,226:226,237:237}],179:[function(t,e,r){e.exports=function(t,e){return e.reduce(function(t,e){return t[e]},t)}},{}],180:[function(t,e,r){function n(t,e,r,i,h,f,p){var l=t.cacheRoot,d=t.messageRoot,v=t.requestedPath,_=t.ignoreCount,b=typeof r,y=t.requestIdx,m=_<=i;if(m&&(y=++t.requestIdx),null===r||"object"!==b||r.$type)if(f[p]=u(r),r&&r.$type===s){var w=t.references;w.push({path:c(v),value:r.value})}else{var g=t.values;g.push({path:c(v),value:r&&r.type?r.value:r})}else{var x,E=h[i],C={};x=o(E,C);do{var N=e[x],S=r[x];if(void 0!==S){var k=h,O=i+1;m&&(v[y]=x),void 0===N&&(N=e[x]={});var A=_;S&&S.$type===s&&i<h.length-1&&(O=0,k=a(S.value,h,i+1),e[x]=u(S),A=S.value.length,S=d,N=l),t.ignoreCount=A,n(t,N,S,O,k,e,x),t.ignoreCount=_}m&&(v.length=y),x=o(E,C)}while(!C.done)}}var o=t(163).iterateKeySet,i=t(237),s=i.$ref,u=t(225),c=t(226),a=t(224);e.exports=function(t,e){var r=e.paths,o=e.jsonGraph,i=[],s=[];return r.forEach(function(e){n({cacheRoot:t,messageRoot:o,references:i,values:s,requestedPath:[],requestIdx:-1,ignoreCount:0},t,o,0,e)}),{references:i,values:s}}},{163:163,224:224,225:225,226:226,237:237}],181:[function(t,e,r){function n(t,e,r,u,h,f,p){
if(void 0===t)return void(h[h.length]=s(f,r,u));if(!(null===t||t.$type&&t.$type!==c||"object"!=typeof t||t.$type===c&&u===r.length)){var l,d,v,_=r[u],b=u+1,y={};l=o(_,y);do{d=t[l];var m=f.length;if(null!==l&&(f[m]=l),d&&d.$type===c&&b<r.length){var w=a(e,d.value,p);d=w[0],v=i(w[1])}else v=f;n(d,e,r,b,h,v,p),f.length=m,y.done||(l=o(_,y))}while(!y.done)}}var o=t(163).iterateKeySet,i=t(226),s=t(224),u=t(237),c=u.$ref,a=t(178);e.exports=function(t,e,r){var o=[];return e.forEach(function(e){n(t,t,e,0,o,[],r)}),o}},{163:163,178:178,224:224,226:226,237:237}],182:[function(t,e,r){function n(t,e){var r,i,s,c,a,h,f,p=e.path,l=t;for(h=0,f=p.length-1;h<f;++h){c=p[h],c&&"object"==typeof c?(a={},i=u(c,a)):(i=c,a=!1);do r=l[i],r||(r=l[i]={}),a?(n(r,{path:p.slice(h+1),value:e.value}),a.done||(i=u(c,a))):l=r;while(a&&!a.done);if(a)return}c=p[h],a={},i=u(c,a);do s=o(e.value),l[i]=s,a.done||(i=u(c,a));while(!a.done)}var o=t(225),i=t(237),s=i.$ref,u=t(163).iterateKeySet;e.exports=function(t,e){var r=[],o=[],i=[],u=!0;return e.invalidated===!0?(i.push({path:e.path}),u=!1):null!==e.value&&e.value.$type===s?r.push({path:e.path,value:e.value.value}):o.push(e),u&&n(t,e),{references:r,values:o,invalidations:i}}},{163:163,225:225,237:237}],183:[function(t,e,r){var n="function does not exist.",o=e.exports=function(){this.message=n,this.stack=(new Error).stack};o.prototype=new Error},{}],184:[function(t,e,r){var n="Any JSONG-Graph returned from call must have paths.",o=function(){this.message=n,this.stack=(new Error).stack};o.prototype=new Error,e.exports=o},{}],185:[function(t,e,r){var n=e.exports=function(t){this.typeValue=t};n.prototype=new Error},{}],186:[function(t,e,r){var n="Maximum number of paths exceeded.",o=function(t){this.message=void 0===t?n:t,this.stack=(new Error).stack};o.prototype=new Error,o.prototype.throwToNext=!0,e.exports=o},{}],187:[function(t,e,r){e.exports={innerReferences:"References with inner references are not allowed.",unknown:"Unknown Error",routeWithSamePrecedence:"Two routes cannot have the same precedence or path.",circularReference:"There appears to be a circular reference, maximum reference following exceeded."}},{}],188:[function(t,e,r){var n=Array.isArray;e.exports=function(t,e){return function(r){var o="object"==typeof r,i=[];if(o)if(n(r)){var s=null;r.forEach(function(r){s="object"==typeof r?t(i,r,s):e(i,r,s)})}else t(i,r);else e(i,r);return i}}},{}],189:[function(t,e,r){function n(t,e){var r=t.length-1;u(e).forEach(function(e){t[++r]=e})}function o(t,e){s(e)&&(t[t.length]=e)}var i=t(188),s=t(229),u=t(200);e.exports=i(n,o)},{188:188,200:200,229:229}],190:[function(t,e,r){function n(t,e){t[t.length]=e}function o(t,e){var r=t.length-1;s(e).forEach(function(e){t[++r]=e})}var i=t(188),s=t(200);e.exports=i(o,n)},{188:188,200:200}],191:[function(t,e,r){function n(t,e,r,a,h,f,p,l,d){if(t){f=f||0,p=p||[],l=l||[],d=d||[],a=a||[];var m=e.length===f,w=r===b,g=r===y,x=r;!g&&!w||m||(x=_);var E=t[o.match];if(E&&w&&!E[b]&&(x=_),E&&E[x]&&(a[a.length]={id:E[x+"Id"],requested:s(p),action:E[x],authorize:E.authorize,virtual:s(l),precedence:+d.join(""),suffix:e.slice(f),isSet:m&&w,isCall:m&&g}),f!==e.length){var C,N,S,k,O=e[f],A=u(O,t);for(C=0,N=A.length;C<N;++C)S=A[C],l[f]=S,p[f]=S,d[f]=i.specific,n(t[A[C]],e,r,a,h,f+1,p,l,d),l.length=f,p.length=f,d.length=f;var j=c(O),D=O,P=j.length;v.filter(function(e){var r=e.type;return r===o.integers||r===o.ranges?t[r]&&P:t[r]}).forEach(function(i){var s=i.type,u=i.precedence;k=t[s],l[f]={type:s,named:k[o.named],name:k[o.name]},s===o.integers||s===o.ranges?p[f]=j:p[f]=D,d[f]=u,n(k,e,r,a,h,f+1,p,l,d),l.length=f,p.length=f,d.length=f})}}}var o=t(175),i=t(176),s=t(226),u=t(196),c=t(195),a=t(163),h=a.collapse,f=t(232),p=t(183),l=[{type:o.ranges,precedence:i.ranges},{type:o.integers,precedence:i.integers}],d=[{type:o.keys,precedence:i.keys}],v=l.concat(d),_="get",b="set",y="call";e.exports=function(t){return function(e,r){var o=[],i=[];if(n(t,r,e,o,i),e===y&&0===o.length){var s=new p;throw s.throwToNext=!0,s}var u=o.reduce(function(t,e){return t[e.id]||(t[e.id]=[]),t[e.id].push(e),t},{}),c=[];return Object.keys(u).forEach(function(t){var e=u[t];if(1===e.length)return void c.push(e[0]);var r=h(e.map(function(t){return t.requested}));r.forEach(function(t,r){var n=e[r],o=n.virtual;t.forEach(function(t,e){f(o[e])||(o[e]=t)}),n.requested=t,c.push(e[r])})}),c}}},{163:163,175:175,176:176,183:183,195:195,196:196,226:226,232:232}],192:[function(t,e,r){function n(t){return String(Number(t))===String(t)}function o(t,e){return t==e}var i=t(175),s=Array.isArray,u=t(232),c=t(231);e.exports=function a(t,e){var r,h,f=u(e),p=f&&e.type===i.keys,l=!1;if(s(t))for(r=0,h=t.length;r<h&&!l;++r)l=a(t[r],e);else if(o(t,e))l=!0;else if(p)l=!0;else if(f)l=n(t)||c(t);else if(s(e))for(r=0,h=e.length;r<h&&!l;++r)l=a(t,e[r]);return l}},{175:175,231:231,232:232}],193:[function(t,e,r){var n=t(192);e.exports=function(t,e){for(var r=!0,o=0,i=e.length;o<i&&r;++o)r=n(t[o],e[o]);return r}},{192:192}],194:[function(t,e,r){function n(t,e,r){if(r===t.length&&null===e)return!0;var o=t[r],i=e[o];return void 0!==e&&n(t,i,r+1)}e.exports=function(t,e){return n(t,e,0)}},{}],195:[function(t,e,r){var n=Array.isArray;e.exports=function(t){var e=[];return"object"==typeof t?n(t)?t.forEach(function(t){"object"==typeof t?e[e.length]=t:isNaN(+t)||(e[e.length]=+t)}):e[e.length]=t:isNaN(+t)||(e[e.length]=+t),e}},{}],196:[function(t,e,r){var n=t(163).iterateKeySet;e.exports=function(t,e){var r={},o=[],i=n(t,r);do e[i]&&(o[o.length]=i),r.done||(i=n(t,r));while(!r.done);return o}},{163:163}],197:[function(t,e,r){function n(t,e){t[t.length]=e}function o(t,e,r){return s(e)?(e=+e,r&&(e-1===r.to?r.to=e:e+1===r.from?r.from=e:r=null),r||(r={to:e,from:e},t[t.length]=r),r):r}var i=t(188),s=t(229);e.exports=i(n,o)},{188:188,229:229}],198:[function(t,e,r){e.exports=function(t){var e,r=t.from||0;return e="number"==typeof t.to?t.to:r+t.length-1,{to:e,from:r}}},{}],199:[function(t,e,r){var n=t(198);e.exports=function o(t){return t.forEach(function(e,r){Array.isArray(e)?o(e):"object"==typeof e&&(t[r]=n(t[r]))}),t}},{198:198}],200:[function(t,e,r){e.exports=function(t){for(var e=[],r=t.from,n=t.to,o=e.length;r<=n;++r,++o)e[o]=r;return e}},{}],201:[function(t,e,r){var n=Array.isArray,o=t(202),i=t(203);e.exports=function(t,e){var r,s=[],u=typeof t,c=n(t),a="object"===u;if(t===e||String(t)===String(e))r=[t];else if(a){var h;c?(h=o(e,t),r=h[0],s=h[1]):(h=i(e,t),r=h[0],s=h[1])}else r=[t];return 1===r.length&&(r=r[0]),[r,s]}},{202:202,203:203}],202:[function(t,e,r){var n=t(203),o=t(175),i=Array.isArray;e.exports=function s(t,e){var r,u=[],c=typeof t,a="object"==typeof e[0],h="number"===c,f="string"===c,p=!h&&!f,l=p&&t.type||!1,d=l===o.keys,v=i(t);if(d)r=[],u=e;else if(v){var _=e;t.forEach(function(t){var e=s(t,_);void 0!==e[0]&&(u=u.concat(e[0])),_=e[1]}),r=_}else a||p?a&&!p?r=e.reduce(function(e,r){var o=n(t,r);return void 0!==o[0]&&(u=u.concat(o[0])),e.concat(o[1])},[]):!a&&p?r=e.filter(function(t){var e=typeof t;return"number"!==e||(u[u.length]=t,!1)}):(r=[],u=e):(u=[t],r=e.filter(function(e){return t!==e}));return[u,r]}},{175:175,203:203}],203:[function(t,e,r){var n=Array.isArray,o=t(200),i=t(229);e.exports=function s(t,e){var r=[],u=[],c=t,a=i(c);if(a&&(c=+c),a||"string"!=typeof c)if(n(c)){var h=[e];c.forEach(function(t){var e=[];h.forEach(function(r){var n=s(t,r);void 0!==n[0]&&(u=u.concat(n[0])),e=e.concat(n[1])}),h=e}),r=h}else a?e.from<c&&c<e.to?(r[0]={from:e.from,to:c-1},r[1]={from:c+1,to:e.to},u=[c]):e.from===c&&e.to===c?(r=[],u=[c]):e.from===c?(r[0]={from:c+1,to:e.to},u=[c]):e.to===c?(r[0]={from:e.from,to:c-1},u=[c]):r=[e]:u=o(e);else r=[e];return[u,r]}},{200:200,229:229}],204:[function(t,e,r){var n=t(201),o=t(224);e.exports=function(t,e){for(var r=[],i=[],s=[],u=0,c=e.length;u<c;++u){var a=t[u],h=e[u],f=n(a,h),p=f[0],l=f[1],d=l.length>0;if(d){var v=1===l.length?l[0]:l;s[u]=v,r[r.length]=o(s,t,u+1)}i[u]=p,s[u]=p}return[i,r]}},{201:201,224:224}],205:[function(t,e,r){function n(t,e){return function(r){var n,c=-1,a=s(arguments,1),h=!u(r);return h?(a=[],n=r):i(r[0])?(n=[],r.forEach(function(e){e.path=o(e.path,t),n[++c]=e})):n=o(r,t),e.apply(this,[n].concat(a))}}var o=t(206),i=t(230),s=t(235),u=Array.isArray;e.exports=n},{206:206,230:230,235:235}],206:[function(t,e,r){var n=t(175),o=t(197),i=t(189),s=t(190),u=Array.isArray;e.exports=function(t,e){for(var r=[],c=0,a=e.length;c<a;++c)if(e[c].type){var h=e[c];switch(h.type){case n.ranges:r[c]=o(t[c]);break;case n.integers:r[c]=i(t[c]);break;case n.keys:r[c]=s(t[c]);break;default:var f=new Error("Unknown route type.");f.throwToNext=!0}h.named&&(r[h.name]=r[r.length-1])}else u(e[c])&&!u(t[c])?r[r.length]=[t[c]]:r[r.length]=t[c];return r}},{175:175,189:189,190:190,197:197}],207:[function(t,e,r){var n=t(175);e.exports=function(t){t.route=t.route.map(function(t){if("object"==typeof t)switch(t.type){case"keys":t.type=n.keys;break;case"integers":t.type=n.integers;break;case"ranges":t.type=n.ranges;break;default:var e=new Error("Unknown route type.");e.throwToNext=!0}return t})}},{175:175}],208:[function(t,e,r){function n(t,e,r){var o=e.route,s=e.get,a=e.set,h=e.call,f=o[r];f=!isNaN(+f)&&+f||f;var p=Array.isArray(f),l=0;do{var d,v=f;if(p&&(v=v[l]),"object"==typeof v){var _=v.type;d=i(t,_,v)}else d=i(t,v),d?o[r]={type:v,named:!1}:(t[v]||(t[v]={}),d=t[v]);if(r+1===o.length){var b=d[u.match]||{};d[u.match]||(d[u.match]=b),s&&(b.get=c(o,s),b.getId=e.getId),a&&(b.set=c(o,a),b.setId=e.setId),h&&(b.call=c(o,h),b.callId=e.callId)}else n(d,e,r+1)}while(p&&++l<f.length)}function o(t,e){var r=e.route,n=e.get,o=e.set,i=e.call;s(r).map(function(t){return t.join(",")}).forEach(function(e){if(n&&t[e+"get"]||o&&t[e+"set"]||i&&t[e+"call"])throw new Error(p.routeWithSamePrecedence+" "+f(r));n&&(t[e+"get"]=!0),o&&(t[e+"set"]=!0),i&&(t[e+"call"]=!0)})}function i(t,e,r){var n=null;switch(e){case u.keys:case u.integers:case u.ranges:n=t[e],n||(n=t[e]={})}return n&&r&&(n[u.named]=r.named,n[u.name]=r.name),n}function s(t,e,r,n){e=e||0,r=r||[],n=n||[];var o,i=t[e],c=Array.isArray(i),a=c&&i.length||0,h=0;"object"!=typeof i||c?c||(o=i):o=i.type;do c&&(o=i[h]),o===u.integers||o===u.ranges?n[e]="__I__":o===u.keys?n[e]="__K__":n[e]=o,e+1!==t.length?s(t,e+1,r,n):r.push(l(n));while(c&&++h<a);return r}var u=t(175),c=t(205),a=t(133),h=t(207),f=t(234),p=t(187),l=t(226),d=-3;e.exports=function(t){var e={},r={};return t.forEach(function(t){"string"==typeof t.route&&(t.route=a(t.route,!0),h(t)),t.get&&(t.getId=++d),t.set&&(t.setId=++d),t.call&&(t.callId=++d),o(r,t),n(e,t,0,[])}),e}},{133:133,175:175,187:187,205:205,207:207,226:226,234:234}],209:[function(t,e,r){var n="call",o=t(213),i=t(222),s=t(199),u=t(183),c=t(218),a=t(163),h=a.collapse,f=t(174).Observable,p=t(186),l=t(211);e.exports=function(t,e,r,a){var d=this;return f.defer(function(){var f=s(r||[]),v=s(a||[]),_={},b=o(d,t,e,f,v,_),y=[t];if(l(f)+l(v)+l(y)>d.maxPaths)throw new p;return i(d._matcher,b,y,n,d,_).map(function(t){var e=t.reportedPaths,r={jsonGraph:t.jsonGraph};e.length?r.paths=h(e):(r.paths=[],r.jsonGraph={});var n=t.invalidated;return n&&n.length&&(r.invalidated=n),c(d,e,r),r})["catch"](function(r){if(r instanceof u&&d._unhandled)return d._unhandled.call(t,e,f,v);throw r})})}},{163:163,174:174,183:183,186:186,199:199,211:211,213:213,218:218,222:222}],210:[function(t,e,r){var n=t(217),o="get",i=t(222),s=t(199),u=t(218),c=t(174).Observable,a=t(219),h=t(186),f=t(211);e.exports=function(t){var e=this;return c.defer(function(){var r={},p=n(e,r),l=s(t);if(f(l)>e.maxPaths)throw new h;return i(e._matcher,p,l,o,e,r).flatMap(function(t){var r={jsonGraph:t.jsonGraph};if(t.unhandledPaths.length&&e._unhandled){var n=t.unhandledPaths;return e._unhandled.get(n).map(function(t){return a(r.jsonGraph,[{jsonGraph:t.jsonGraph,paths:n}]),r}).defaultIfEmpty(r)}return c["return"](r)}).map(function(t){return u(e,l,t)})})}},{174:174,186:186,199:199,211:211,217:217,218:218,219:219,222:222}],211:[function(t,e,r){function n(t){return t.reduce(function(t,e){return t+o.pathCount(e)},0)}var o=t(163);e.exports=n},{163:163}],212:[function(t,e,r){var n="set",o=t(222),i=t(223),s=t(218),u=t(174).Observable,c=t(236),a=t(182),h=t(181),f=t(194),p=t(179),l=t(199),d=t(163),v=d.collapse,_=t(219),b=t(186),y=t(211);e.exports=function(t){var e=this;return u.defer(function(){var r={},d=i(e,t,r);if(t.paths=l(t.paths),y(t.paths)>e.maxPaths)throw new b;return o(e._matcher,d,t.paths,n,e,r).flatMap(function(r){var n={jsonGraph:r.jsonGraph};if(r.unhandledPaths.length&&e._unhandled){var o=r.unhandledPaths,i={},s={jsonGraph:i},l=o.reduce(function(t,e){return a(t,{path:e,value:null}),t},{}),d=c(t.paths).map(function(t){return[t,h(r.jsonGraph,[t],e.maxRefFollow)[0]]}).filter(function(t){return t[1]}).map(function(e){var r=e[1],n=f(r,l);if(n){var o=p(t.jsonGraph,e[0]);return{path:r,value:o}}return null}).filter(function(t){return null!==t});return d.reduce(function(t,e){return a(t,e),t},i),s.paths=v(d.map(function(t){return t.path})),e._unhandled.set(s).map(function(t){return _(n.jsonGraph,[{jsonGraph:t.jsonGraph,paths:o}]),n}).defaultIfEmpty(n)}return u["return"](n)}).map(function(r){return s(e,t.paths,r)})})}},{163:163,174:174,179:179,181:181,182:182,186:186,194:194,199:199,211:211,218:218,219:219,222:222,223:223,236:236}],213:[function(t,e,r){function n(t,e,r,n,i,s){return function(u){return o(u,t,e,r,n,i,s)}}function o(t,e,r,n,o,f,p){var l,d=t.match,v=t.path;return d.isCall?l=h.defer(function(){var t;try{t=d.action.call(e,v,n,o,f)}catch(r){throw r.throwToNext=!0,r}return s(t).toArray()}).map(function(t){var e=[],n=[],s=t.filter(function(t){return t}).reduce(function(t,e){return t.concat(e)},[]);if(0===s.length)return[];var u=-1;s.forEach(function(t){if(i(t)&&!t.paths){var e=new c;throw e.throwToNext=!0,e}});var h=a(p,s);h.references.forEach(function(t){e[++u]=t}),n=h.values.map(function(t){return t.path});var l=s.length,d=r.slice(0,r.length-1),_=o&&o.length,b=f&&f.length;if(s[++l]={isMessage:!0,method:"get"},b&&l+1&&f.forEach(function(t){s[++l]={isMessage:!0,additionalPath:d.concat(t)}}),_){var y=v.length-1;e.forEach(function(t){var e=d.concat(t.path.slice(y));o.forEach(function(t){var r=e.concat(t);s[++l]={isMessage:!0,additionalPath:r}})})}if(e.length&&!_||n.length){var m=[];e.length&&!_&&(m=e.map(function(t){return t.path})),m.concat(n).forEach(function(t){s[++l]={isMessage:!0,additionalPath:t}})}return s})["do"](null,function(t){throw t.throwToNext=!0,t}):(l=d.action.call(e,t.path),l=s(l)),l.materialize().filter(function(t){return"C"!==t.kind}).map(u(t.path)).map(function(e){return[t.match,e]})}var i=t(227),s=t(216),u=t(215),c=t(184),a=t(219),h=t(174).Observable;e.exports=n},{174:174,184:184,215:215,216:216,219:219,227:227}],214:[function(t,e,r){var n=t(185);e.exports=function(t,e){var r={$type:"error",value:{}};if(t.throwToNext)throw t;return t instanceof n?r=t.typeValue:t instanceof Error&&(r.value.message=t.message),{path:e,value:r}}},{185:185}],215:[function(t,e,r){function n(t,e,r){var n,u=e.kind;return n=u===i?e.value:s(e.error,t),o(n)&&!n.paths&&(n={jsonGraph:n.jsonGraph,paths:r&&t||[t]}),n}var o=t(227),i="N",s=t(214);e.exports=function(t,e){return function(r){return n(t,r,e)}}},{214:214,227:227}],216:[function(t,e,r){var n=t(174).Observable,o=Array.isArray;e.exports=function(t){var e,r=t;return r?(r.subscribe?r instanceof n||(e=r,r=n.create(function(t){return e.subscribe(t)})):r=r.then?n.fromPromise(r):o(r)?n.of(r):n.of(r),r):n["return"](r)}},{174:174}],217:[function(t,e,r){function n(t,e,r){var n,u=e.match;try{n=u.action.call(t,e.path),n=o(n)}catch(c){n=s["throw"](c)}return n.materialize().filter(function(t){return"C"!==t.kind}).map(i(e.path)).map(function(t){return[e.match,t]})}var o=t(216),i=t(215),s=t(174).Observable;e.exports=function(t,e){return function(r){return n(t,r,e)}}},{174:174,215:215,216:216}],218:[function(t,e,r){var n=t(182),o=t(181),i=t(237).$atom;e.exports=function(t,e,r){var s=r.jsonGraph,u={$type:i};return o(s,e,t.maxRefFollow).forEach(function(t){n(s,{path:t,value:u})}),{jsonGraph:s}}},{181:181,182:182,237:237}],219:[function(t,e,r){function n(t,e){var r=[],n=-1,c=[],a=[],h=[],f=[];return e.forEach(function(e){var p=[];u(e)?h[h.length]=e:p=s(e)?o(t,e):i(t,e);var l=p.references,d=p.values,v=p.invalidations,_=p.unhandledPaths;d&&d.length&&(f=f.concat(d)),v&&v.length&&(c=c.concat(v)),_&&_.length&&(a=a.concat(_)),l&&l.length&&l.forEach(function(t){r[++n]=t})}),{invalidations:c,references:r,messages:h,values:f,unhandledPaths:a}}var o=t(180),i=t(182),s=t(227),u=t(228);e.exports=n},{180:180,182:182,227:227,228:228}],220:[function(t,e,r){var n=t(163),o=n.collapse,i=t(204),s=t(193);e.exports=function(t,e){for(var r=e,n=[],u={matchAndPaths:n,unhandledPaths:!1},c=0;c<t.length&&r.length>0;++c){var a=r,h=t[c];r=[],c>0&&(a=o(a));for(var f=0;f<a.length;++f){var p=a[f];if(s(p,h.virtual)){var l=i(p,h.virtual);n[n.length]={path:l[0],match:h},r=r.concat(l[1])}}}return r&&r.length&&(u.unhandledPaths=r),u}},{163:163,193:193,204:204}],221:[function(t,e,r){var n=t(174).Observable,o=t(220);e.exports=function(t,e,r){var i=e.sort(function(t,e){return t.precedence<e.precedence?1:t.precedence>e.precedence?-1:0}),s=o(i,[t]),u=n.from(s.matchAndPaths).flatMap(r).map(function(t){return{match:t[0],value:t[1]}});return s.unhandledPaths&&(u=u.concat(n["return"]({match:{suffix:[]},value:{isMessage:!0,unhandledPaths:s.unhandledPaths}}))),u}},{174:174,220:220}],222:[function(t,e,r){function n(t,e,r,n,o,u){var p=[],l=[],d=[],v=n;return i.from(r).expand(function(r){if(!r.length)return i.empty();var n;try{n=t(v,r)}catch(_){return i["throw"](_)}return n.length?s(r,n,e).flatMap(function(t){var e=t.value,r=t.match.suffix;f(e)||(e=[e]);var n=h(u,e),s=n.invalidations,_=n.unhandledPaths,b=n.messages,y=[];return r.length>0&&(y=n.references),s.forEach(function(t){l[l.length]=t.path}),_.forEach(function(t){p[p.length]=t}),y=y.map(function(t){return t.value.concat(r)}),b.forEach(function(t){if(t.method)v=t.method;else if(t.additionalPath){var e=t.additionalPath;y[y.length]=e,d[d.length]=e}else t.invalidations?t.invalidations.forEach(function(t){l.push(t)}):t.unhandledPaths&&(p=p.concat(t.unhandledPaths))}),y=a(u,y,o.maxRefFollow),y.length&&(y=c(y)),i.from(y)}).defaultIfEmpty([]):(p.push(r),i.empty())}).reduce(function(t,e){return t},null).map(function(){return{unhandledPaths:p,invalidated:l,jsonGraph:u,reportedPaths:d}})}var o=t(174),i=o.Observable,s=t(221),u=t(163),c=u.collapse,a=t(181),h=t(219),f=Array.isArray;e.exports=function(t,e,r,o,i,s){return n(t,e,r,o,i,s)}},{163:163,174:174,181:181,219:219,221:221}],223:[function(t,e,r){function n(t,e,r,n){var l,d=r.match,v=r.path;if(d.isSet){var _=s(e.paths),b=_.map(function(e){return[a(n,[e],t.maxRefFollow)[0],e]}).filter(function(t){return t[0]&&h(t[0],d.virtual)}),y=b.map(function(t){return t[0]}),m=b.map(function(t){return t[1]}),w=m.reduce(function(t,r,n){return f(t,{path:y[n],value:u(e.jsonGraph,r)}),t},{}),g={jsonGraph:w,paths:[d.requested]};v={},c(v,g)}try{l=d.action.call(t,v),l=o(l)}catch(x){l=p["throw"](x)}return l.materialize().filter(function(t){return"C"!==t.kind}).map(i(r.path)).map(function(t){return[r.match,t]})}var o=t(216),i=t(215),s=t(236),u=t(179),c=t(180),a=t(181),h=t(193),f=t(182),p=t(174).Observable;e.exports=function(t,e,r){return function(o){return n(t,e,o,r)}}},{174:174,179:179,180:180,181:181,182:182,193:193,215:215,216:216,236:236}],224:[function(t,e,r){e.exports=function(t,e,r){var n,o,i,s=[];for(n=0,i=t.length;n<i;++n)s[n]=t[n];for(o=r||0,i=e.length;o<i;++o,++n)s[n]=e[o];return s}},{}],225:[function(t,e,r){e.exports=function(t){return"object"!=typeof t||null===t?t:Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},{})}},{}],226:[function(t,e,r){function n(t,e){for(var r=[],n=t.length,o=e||0;o<n;o++)r[o]=t[o];return r}e.exports=n},{}],227:[function(t,e,r){e.exports=function(t){return t.jsonGraph}},{}],228:[function(t,e,r){e.exports=function(t){return t.hasOwnProperty("isMessage")}},{}],229:[function(t,e,r){e.exports=function(t){return String(Number(t))===String(t)&&"object"!=typeof t}},{}],230:[function(t,e,r){e.exports=function(t){return t.hasOwnProperty("path")&&t.hasOwnProperty("value")}},{}],231:[function(t,e,r){e.exports=function(t){return t.hasOwnProperty("to")&&t.hasOwnProperty("from")}},{}],232:[function(t,e,r){e.exports=function(t){return t.hasOwnProperty("type")&&t.hasOwnProperty("named")}},{}],233:[function(t,e,r){e.exports=String.fromCharCode(30)},{}],234:[function(t,e,r){var n=t(175);e.exports=function(t){for(var e=0,r=[],o=0,i=t.length;o<i;++o,++e){var s=t[o];"object"==typeof s&&(s=s.type),s===n.integers?r[e]="integers":s===n.ranges?r[e]="ranges":s===n.keys?r[e]="keys":Array.isArray(s)?r[e]=JSON.stringify(s):r[e]=s}return r}},{175:175}],235:[function(t,e,r){e.exports=function(t,e){for(var r=t.length,n=[],o=0,i=e;i<r;)n[o]=t[i],++i,++o;return n}},{}],236:[function(t,e,r){function n(t,e,r,s){if(s=s||[],e===t.length)return void(r[r.length]=i(s));var u=t[e];if("object"!=typeof u)return s[e]=u,void n(t,e+1,r,s);var c={},a=o(u,c);do s[e]=a,n(t,e+1,r,s),s.length=e,a=o(u,c);while(!c.done)}var o=t(163).iterateKeySet,i=t(226);e.exports=function(t){var e=[];return t.forEach(function(t){n(t,0,e)}),e}},{163:163,226:226}],237:[function(t,e,r){e.exports={$ref:"ref",$atom:"atom",$error:"error"}},{}],238:[function(t,e,r){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(t){if(f===setTimeout)return setTimeout(t,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function s(t){if(p===clearTimeout)return clearTimeout(t);if((p===o||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function u(){_&&d&&(_=!1,d.length?v=d.concat(v):b=-1,v.length&&c())}function c(){if(!_){var t=i(u);_=!0;for(var e=v.length;e;){for(d=v,v=[];++b<e;)d&&d[b].run();b=-1,e=v.length}d=null,_=!1,s(t)}}function a(t,e){this.fun=t,this.array=e}function h(){}var f,p,l=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(t){f=n}try{p="function"==typeof clearTimeout?clearTimeout:o}catch(t){p=o}}();var d,v=[],_=!1,b=-1;l.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];v.push(new a(t,e)),1!==v.length||_||i(c)},a.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=h,l.addListener=h,l.once=h,l.off=h,l.removeListener=h,l.removeAllListeners=h,l.emit=h,l.prependListener=h,l.prependOnceListener=h,l.listeners=function(t){return[]},l.binding=function(t){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(t){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],239:[function(t,e,r){"use strict";e.exports=t(244)},{244:244}],240:[function(t,e,r){(function(r){"use strict";function n(){}function o(t){try{return t.then}catch(e){return _=e,b}}function i(t,e){try{return t(e)}catch(r){return _=r,b}}function s(t,e,r){try{t(e,r)}catch(n){return _=n,b}}function r(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,t!==n&&d(t,this)}function u(t,e,o){return new t.constructor(function(i,s){var u=new r(n);u.then(i,s),c(t,new l(e,o,u))})}function c(t,e){for(;3===t._83;)t=t._18;return r._47&&r._47(t),0===t._83?0===t._75?(t._75=1,void(t._38=e)):1===t._75?(t._75=2,void(t._38=[t._38,e])):void t._38.push(e):void a(t,e)}function a(t,e){v(function(){var r=1===t._83?e.onFulfilled:e.onRejected;if(null===r)return void(1===t._83?h(e.promise,t._18):f(e.promise,t._18));var n=i(r,t._18);n===b?f(e.promise,_):h(e.promise,n)})}function h(t,e){if(e===t)return f(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"==typeof e||"function"==typeof e)){var n=o(e);if(n===b)return f(t,_);if(n===t.then&&e instanceof r)return t._83=3,t._18=e,void p(t);if("function"==typeof n)return void d(n.bind(e),t)}t._83=1,t._18=e,p(t)}function f(t,e){t._83=2,t._18=e,r._71&&r._71(t,e),p(t)}function p(t){if(1===t._75&&(c(t,t._38),t._38=null),2===t._75){for(var e=0;e<t._38.length;e++)c(t,t._38[e]);t._38=null}}function l(t,e,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=r}function d(t,e){var r=!1,n=s(t,function(t){r||(r=!0,h(e,t))},function(t){r||(r=!0,f(e,t))});r||n!==b||(r=!0,f(e,_))}var v=t(121),_=null,b={};e.exports=r,r._47=null,r._71=null,r._44=n,r.prototype.then=function(t,e){if(this.constructor!==r)return u(this,t,e);var o=new r(n);return c(this,new l(t,e,o)),o}}).call(this,"function"==typeof Promise?Promise:t(239))},{121:121,239:239}],241:[function(t,e,r){"use strict";var n=t(240);e.exports=n,n.prototype.done=function(t,e){var r=arguments.length?this.then.apply(this,arguments):this;r.then(null,function(t){setTimeout(function(){throw t},0)})}},{240:240}],242:[function(t,e,r){"use strict";function n(t){var e=new o(o._44);return e._83=1,e._18=t,e}var o=t(240);e.exports=o;var i=n(!0),s=n(!1),u=n(null),c=n(void 0),a=n(0),h=n("");o.resolve=function(t){if(t instanceof o)return t;if(null===t)return u;if(void 0===t)return c;if(t===!0)return i;if(t===!1)return s;if(0===t)return a;if(""===t)return h;if("object"==typeof t||"function"==typeof t)try{var e=t.then;if("function"==typeof e)return new o(e.bind(t))}catch(r){return new o(function(t,e){e(r)})}return n(t)},o.all=function(t){var e=Array.prototype.slice.call(t);return new o(function(t,r){function n(s,u){if(u&&("object"==typeof u||"function"==typeof u)){if(u instanceof o&&u.then===o.prototype.then){for(;3===u._83;)u=u._18;return 1===u._83?n(s,u._18):(2===u._83&&r(u._18),void u.then(function(t){n(s,t)},r))}var c=u.then;if("function"==typeof c){var a=new o(c.bind(u));return void a.then(function(t){n(s,t)},r)}}e[s]=u,0===--i&&t(e)}if(0===e.length)return t([]);for(var i=e.length,s=0;s<e.length;s++)n(s,e[s])})},o.reject=function(t){return new o(function(e,r){r(t)})},o.race=function(t){return new o(function(e,r){t.forEach(function(t){o.resolve(t).then(e,r)})})},o.prototype["catch"]=function(t){return this.then(null,t)}},{240:240}],243:[function(t,e,r){"use strict";var n=t(240);e.exports=n,n.prototype["finally"]=function(t){return this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})})}},{240:240}],244:[function(t,e,r){"use strict";e.exports=t(240),t(241),t(243),t(242),t(245),t(246)},{240:240,241:241,242:242,243:243,245:245,246:246}],245:[function(t,e,r){"use strict";function n(t,e){for(var r=[],n=0;n<e;n++)r.push("a"+n);var o=["return function ("+r.join(",")+") {","var self = this;","return new Promise(function (rs, rj) {","var res = fn.call(",["self"].concat(r).concat([u]).join(","),");","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],o)(i,t)}function o(t){for(var e=Math.max(t.length-1,3),r=[],n=0;n<e;n++)r.push("a"+n);var o=["return function ("+r.join(",")+") {","var self = this;","var args;","var argLength = arguments.length;","if (arguments.length > "+e+") {","args = new Array(arguments.length + 1);","for (var i = 0; i < arguments.length; i++) {","args[i] = arguments[i];","}","}","return new Promise(function (rs, rj) {","var cb = "+u+";","var res;","switch (argLength) {",r.concat(["extra"]).map(function(t,e){return"case "+e+":res = fn.call("+["self"].concat(r.slice(0,e)).concat("cb").join(",")+");break;"}).join(""),"default:","args[argLength] = cb;","res = fn.apply(self, args);","}","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],o)(i,t)}var i=t(240),s=t(120);e.exports=i,i.denodeify=function(t,e){return"number"==typeof e&&e!==1/0?n(t,e):o(t)};var u="function (err, res) {if (err) { rj(err); } else { rs(res); }}";i.nodeify=function(t){return function(){var e=Array.prototype.slice.call(arguments),r="function"==typeof e[e.length-1]?e.pop():null,n=this;try{return t.apply(this,arguments).nodeify(r,n)}catch(o){if(null===r||"undefined"==typeof r)return new i(function(t,e){e(o)});s(function(){r.call(n,o)})}}},i.prototype.nodeify=function(t,e){return"function"!=typeof t?this:void this.then(function(r){s(function(){t.call(e,null,r)})},function(r){s(function(){t.call(e,r)})})}},{120:120,240:240}],246:[function(t,e,r){"use strict";var n=t(240);e.exports=n,n.enableSynchronous=function(){n.prototype.isPending=function(){return 0==this.getState()},n.prototype.isFulfilled=function(){return 1==this.getState()},n.prototype.isRejected=function(){return 2==this.getState()},n.prototype.getValue=function(){if(3===this._83)return this._18.getValue();if(!this.isFulfilled())throw new Error("Cannot get a value of an unfulfilled promise.");return this._18},n.prototype.getReason=function(){if(3===this._83)return this._18.getReason();if(!this.isRejected())throw new Error("Cannot get a rejection reason of a non-rejected promise.");return this._18},n.prototype.getState=function(){return 3===this._83?this._18.getState():this._83===-1||this._83===-2?0:this._83}},n.disableSynchronous=function(){n.prototype.isPending=void 0,n.prototype.isFulfilled=void 0,n.prototype.isRejected=void 0,n.prototype.getValue=void 0,n.prototype.getReason=void 0,n.prototype.getState=void 0}},{240:240}],247:[function(t,e,r){(function(n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(r,"__esModule",{value:!0});var i,s=t(248),u=o(s);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof n?n:"undefined"!=typeof e?e:Function("return this")();var c=(0,u["default"])(i);r["default"]=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{248:248}],248:[function(t,e,r){"use strict";function n(t){var e,r=t.Symbol;return"function"==typeof r?r.observable?e=r.observable:(e=r("observable"),r.observable=e):e="@@observable",e}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=n},{}]},{},[1])(1)});